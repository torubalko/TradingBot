<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="ActiproSoftware.Products.LicenseWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:controls="clr-namespace:ActiproSoftware.Windows.Controls" xmlns:controlsPrimitives="clr-namespace:ActiproSoftware.Windows.Controls.Primitives" xmlns:themes="clr-namespace:ActiproSoftware.Windows.Themes" Title="Actipro Product" Width="750" ResizeMode="NoResize" WindowStartupLocation="CenterScreen" SizeToContent="Height" Icon="/ActiproSoftware.Shared.Wpf;component/Products/Shared/Images/ActiproIcon.ico" xmlns:products="clr-namespace:ActiproSoftware.Products">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <DataTemplate x:Key="LicensedImageTemplate">
        <Canvas Width="16" Height="16">
          <Ellipse Width="16" Height="16" Fill="#21A366" />
          <Path Canvas.Left="3" Canvas.Top="3" Fill="#ffffff" Data="M-0.125,5.625 L1.375,4.125 L3.5,6.5 L8.75,1.125 L10.125,2.625 L3.5,9.25" />
        </Canvas>
      </DataTemplate>
      <DataTemplate x:Key="UnlicensedImageTemplate">
        <Canvas Width="16" Height="16">
          <Ellipse Canvas.Left="2" Canvas.Top="2" Width="12" Height="12" Fill="#AF2031" />
          <Path Canvas.Left="5" Canvas.Top="5" StrokeThickness="1.5" Stroke="#ffffff" Data="M0,0 L6,6 M0,6 L6,0" />
        </Canvas>
      </DataTemplate>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <StackPanel>
    <Border Margin="10" MinHeight="100" Background="#FFFFFFFF" BorderBrush="#B0D0E2" BorderThickness="1" CornerRadius="2">
      <Border BorderBrush="#FFFFFFFF" BorderThickness="1" CornerRadius="2">
        <Grid ClipToBounds="True">
          <Polygon Points="0,20 50,20 10,50 25,0 40,50 0,20" FillRule="Nonzero">
            <Shape.Fill>
              <RadialGradientBrush GradientOrigin="0.5,0.5" Center="0.5,0.5">
                <GradientStop Color="Transparent" Offset="0.3" />
                <GradientStop Color="#40FFFFFF" Offset="1" />
              </RadialGradientBrush>
            </Shape.Fill>
            <UIElement.RenderTransform>
              <TransformGroup>
                <RotateTransform CenterX="25" CenterY="25" />
                <ScaleTransform CenterX="25" CenterY="25" ScaleX="11" ScaleY="11" />
              </TransformGroup>
            </UIElement.RenderTransform>
            <FrameworkElement.Triggers>
              <EventTrigger RoutedEvent="Polygon.Loaded">
                <BeginStoryboard Name="Polygon1Storyboard">
                  <Storyboard>
                    <DoubleAnimation BeginTime="0:0:1" Duration="0:0:25" Storyboard.TargetProperty="RenderTransform.(TransformGroup.Children)[0].(RotateTransform.Angle)" From="0" To="360" RepeatBehavior="Forever" />
                  </Storyboard>
                </BeginStoryboard>
              </EventTrigger>
              <EventTrigger RoutedEvent="Polygon.Unloaded">
                <StopStoryboard BeginStoryboardName="Polygon1Storyboard" />
              </EventTrigger>
            </FrameworkElement.Triggers>
          </Polygon>
          <Polygon Points="0,20 50,20 10,50 25,0 40,50 0,20" HorizontalAlignment="Right" VerticalAlignment="Bottom" FillRule="Nonzero">
            <Shape.Fill>
              <RadialGradientBrush GradientOrigin="0.5,0.5" Center="0.5,0.5">
                <GradientStop Color="Transparent" Offset="0.3" />
                <GradientStop Color="#40FFFFFF" Offset="1" />
              </RadialGradientBrush>
            </Shape.Fill>
            <UIElement.RenderTransform>
              <TransformGroup>
                <RotateTransform CenterX="25" CenterY="25" />
                <ScaleTransform CenterX="25" CenterY="25" ScaleX="8" ScaleY="8" />
              </TransformGroup>
            </UIElement.RenderTransform>
            <FrameworkElement.Triggers>
              <EventTrigger RoutedEvent="Polygon.Loaded">
                <BeginStoryboard Name="Polygon2Storyboard">
                  <Storyboard>
                    <DoubleAnimation BeginTime="0:0:1" Duration="0:0:25" Storyboard.TargetProperty="RenderTransform.(TransformGroup.Children)[0].(RotateTransform.Angle)" From="0" To="360" RepeatBehavior="Forever" />
                  </Storyboard>
                </BeginStoryboard>
              </EventTrigger>
              <EventTrigger RoutedEvent="Polygon.Unloaded">
                <StopStoryboard BeginStoryboardName="Polygon2Storyboard" />
              </EventTrigger>
            </FrameworkElement.Triggers>
          </Polygon>
          <controlsPrimitives:ShadowChrome Elevation="4" RenderMode="ShaderEffectsRequired" Opacity="0" VerticalAlignment="Center">
            <TextBlock Name="productNameTextBlock" HorizontalAlignment="Center" Foreground="#F8F8F8" FontSize="36pt" FontStyle="Italic" FontWeight="Bold" Text="(Product Name)" TextOptions.TextFormattingMode="Ideal" />
            <FrameworkElement.Triggers>
              <EventTrigger RoutedEvent="controlsPrimitives:ShadowChrome.Loaded">
                <BeginStoryboard>
                  <Storyboard>
                    <DoubleAnimation BeginTime="0:0:0.3" Duration="0:0:0.3" Storyboard.TargetProperty="Opacity" From="0" To="1">
                      <DoubleAnimation.EasingFunction>
                        <QuadraticEase EasingMode="EaseOut" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </EventTrigger>
            </FrameworkElement.Triggers>
          </controlsPrimitives:ShadowChrome>
        </Grid>
        <Border.Background>
          <LinearGradientBrush StartPoint="0,0" EndPoint=".5,1" SpreadMethod="Reflect">
            <GradientStop Color="#C0E0F2" />
            <GradientStop Color="CornflowerBlue" Offset="1" />
          </LinearGradientBrush>
        </Border.Background>
      </Border>
    </Border>
    <Grid Margin="25,0">
      <controls:PixelSnapper>
        <TextBlock Name="versionTextBlock" Text="(Version 1.0.0000, using Shared 1.0.0000)" />
      </controls:PixelSnapper>
      <TextBlock HorizontalAlignment="Right">
        <Hyperlink Name="licenseTypeHyperLink" Click="jqS" />
      </TextBlock>
    </Grid>
    <controls:PixelSnapper>
      <TextBlock Name="licenseQuickInfoTextBlock" Margin="0,10,0,0" TextAlignment="Center" Foreground="#FF800000" Text="(License Quick Info)" TextWrapping="Wrap" TextTrimming="CharacterEllipsis" />
    </controls:PixelSnapper>
    <TabControl Name="tabControl" Margin="10" SelectedItem="{Binding ElementName=licensedProductsTabItem, Mode=OneTime}">
      <TabItem Name="evaluationTabItem" Header="Evaluation" Visibility="Collapsed">
        <StackPanel Margin="30,20">
          <controls:PixelSnapper>
            <TextBlock TextWrapping="Wrap">
              <Bold>If you are the developer of this application</Bold>, please enter your company's name and click the "Start Evaluation" button to begin an evaluation of Actipro's WPF Controls:</TextBlock>
          </controls:PixelSnapper>
          <Grid Margin="30,10,30,0">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBox Name="organizationNameTextBox" controls:HintProperties.Hint="Your Company Name" />
            <Button Grid.Column="1" Margin="5,0,0,0" Click="TqJ">Start Evaluation</Button>
          </Grid>
          <Separator Margin="0,20" Opacity="0.15" Background="{Binding Path=Foreground, RelativeSource={RelativeSource Self}}" />
          <TextBlock TextWrapping="Wrap">Otherwise, <Bold>if you are an end user</Bold>, please contact the author of this application and let them know that they didn't configure their Actipro WPF Control licensing properly.</TextBlock>
        </StackPanel>
      </TabItem>
      <TabItem Name="licensedProductsTabItem" Header="Licensed Products">
        <DockPanel Margin="7">
          <DockPanel Dock="Top" Margin="0,0,0,5">
            <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
              <TextBlock Text="Legend:" FontWeight="Bold" VerticalAlignment="Center" />
              <ContentPresenter Margin="7,0,0,0" Width="16" Height="16" ContentTemplate="{StaticResource LicensedImageTemplate}" VerticalAlignment="Center" />
              <TextBlock Text=" Licensed, " VerticalAlignment="Center" />
              <ContentPresenter Width="16" Height="16" ContentTemplate="{StaticResource UnlicensedImageTemplate}" VerticalAlignment="Center" />
              <TextBlock Text=" Unlicensed" VerticalAlignment="Center" />
            </StackPanel>
            <TextBlock Text="Bolded product initiated pop-up:" VerticalAlignment="Center" />
          </DockPanel>
          <controls:PixelSnapper DockPanel.Dock="Bottom">
            <TextBlock Name="copyrightTextBlock" Margin="0,10,0,0" HorizontalAlignment="Center">Copyright</TextBlock>
          </controls:PixelSnapper>
          <ListBox Name="productsListView" ScrollViewer.HorizontalScrollBarVisibility="Hidden">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel IsItemsHost="True" Width="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ScrollContentPresenter}}}" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <controls:PixelSnapper VerticalRoundMode="CeilingToEven">
                  <DockPanel Margin="2" Width="215" Background="#00FFFFFF">
                    <FrameworkElement.ToolTip>
                      <DockPanel>
                        <Canvas DockPanel.Dock="Left" Width="48" Height="48" VerticalAlignment="Center">
                          <Rectangle Width="48" Height="48" Fill="#40000000" RenderTransformOrigin="0.5,0.5" FlowDirection="LeftToRight">
                            <UIElement.OpacityMask>
                              <ImageBrush ImageSource="{Binding Path=Source, Source={x:Reference productLogoImage}}" />
                            </UIElement.OpacityMask>
                            <UIElement.RenderTransform>
                              <TransformGroup>
                                <TranslateTransform Y="1" />
                                <ScaleTransform ScaleX="1.02" ScaleY="1.02" />
                              </TransformGroup>
                            </UIElement.RenderTransform>
                          </Rectangle>
                          <Image Width="48" Height="48" Source="{Binding ImageSource}" />
                        </Canvas>
                        <StackPanel MaxWidth="300" Margin="10,0,0,0" VerticalAlignment="Center">
                          <TextBlock FontSize="16" FontWeight="SemiBold" TextWrapping="Wrap" Text="{Binding Path=Name}" />
                          <TextBlock Name="description" TextWrapping="Wrap" Text="{Binding Description}" />
                        </StackPanel>
                      </DockPanel>
                    </FrameworkElement.ToolTip>
                    <ContentPresenter Name="licensedPresenter" DockPanel.Dock="Left" Width="16" Height="16" ContentTemplate="{StaticResource UnlicensedImageTemplate}" VerticalAlignment="Center" />
                    <Canvas DockPanel.Dock="Left" Margin="5,0,0,0" Width="24" Height="24" VerticalAlignment="Center">
                      <Rectangle Width="24" Height="24" Fill="#70000000" RenderTransformOrigin="0.5,0.5" FlowDirection="LeftToRight">
                        <UIElement.OpacityMask>
                          <ImageBrush ImageSource="{Binding Path=Source, Source={x:Reference productLogoImage}}" />
                        </UIElement.OpacityMask>
                        <UIElement.RenderTransform>
                          <TransformGroup>
                            <TranslateTransform Y="1" />
                            <ScaleTransform ScaleX="1.02" ScaleY="1.02" />
                          </TransformGroup>
                        </UIElement.RenderTransform>
                      </Rectangle>
                      <Image Name="productLogoImage" Width="24" Height="24" Source="{Binding ImageSource}" />
                    </Canvas>
                    <TextBlock Name="name" Margin="7,0,0,0" TextTrimming="CharacterEllipsis" VerticalAlignment="Center" Text="{Binding Path=Name}" />
                  </DockPanel>
                </controls:PixelSnapper>
                <DataTemplate.Triggers>
                  <DataTrigger Binding="{Binding Description}" Value="{x:Null}">
                    <Setter TargetName="description" Property="UIElement.Visibility" Value="Collapsed" />
                  </DataTrigger>
                  <DataTrigger Value="True" Binding="{Binding IsLicensed}">
                    <Setter TargetName="licensedPresenter" Value="{StaticResource LicensedImageTemplate}" Property="ContentPresenter.ContentTemplate" />
                  </DataTrigger>
                  <DataTrigger Value="True" Binding="{Binding UseEmphasis}">
                    <Setter TargetName="name" Property="TextBlock.FontWeight" Value="Bold" />
                  </DataTrigger>
                </DataTemplate.Triggers>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ListBox>
        </DockPanel>
      </TabItem>
      <TabItem Name="licenseTabItem" Header="License" Visibility="Collapsed">
        <Grid Margin="30,20">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto" />
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Margin="0,0,0,20" TextWrapping="Wrap">The following is the licensing information that was located for this product:</TextBlock>
          <TextBlock Grid.Row="1" Grid.Column="0" Margin="10,0,0,10" HorizontalAlignment="Right" VerticalAlignment="Center">Licensee</TextBlock>
          <TextBox Name="licenseeTextBox" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" Margin="10,0,10,10" IsReadOnly="True" Background="{StaticResource {x:Static SystemColors.ControlBrushKey}}" themes:ThemeProperties.UseBackgroundStates="False" />
          <TextBlock Grid.Row="2" Grid.Column="0" HorizontalAlignment="Right" VerticalAlignment="Center">License Key</TextBlock>
          <TextBox Name="licenseKeyTextBox" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" Margin="10,0,10,0" IsReadOnly="True" Background="{StaticResource {x:Static SystemColors.ControlBrushKey}}" themes:ThemeProperties.UseBackgroundStates="False" />
          <TextBlock Grid.Row="3" Grid.Column="0" Margin="0,10,0,0" HorizontalAlignment="Right" VerticalAlignment="Center">Source</TextBlock>
          <TextBox Name="licenseSourceLocationTextBox" Grid.Row="3" Grid.Column="1" Margin="10,10,10,0" IsReadOnly="True" Background="{StaticResource {x:Static SystemColors.ControlBrushKey}}" themes:ThemeProperties.UseBackgroundStates="False" />
          <TextBlock Grid.Row="3" Grid.Column="2" Margin="30,10,0,0" HorizontalAlignment="Right" VerticalAlignment="Center">Error Code</TextBlock>
          <TextBox Name="licenseErrorCodeTextBox" Grid.Row="3" Grid.Column="3" Margin="10,10,10,0" Width="64" IsReadOnly="True" Background="{StaticResource {x:Static SystemColors.ControlBrushKey}}" themes:ThemeProperties.UseBackgroundStates="False" />
          <Button Grid.Row="4" Grid.Column="1" Margin="10" Click="Lqi">Copy to Clipboard</Button>
        </Grid>
      </TabItem>
    </TabControl>
    <DockPanel Margin="10,0,10,10" MinHeight="28">
      <Button DockPanel.Dock="Left" Content="More Info" MinWidth="110" Click="lq3" />
      <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
        <Button Content="Purchase Now" Margin="10,0" MinWidth="110" Click="sqt" />
        <Button Content="Close" MinWidth="110" Click="dqf" />
      </StackPanel>
    </DockPanel>
  </StackPanel>
</Window>