using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.Serialization;
using aEpmU09nz6MEoNmc0pGJ;
using ECOEgqlSad8NUJZ2Dr9n;
using PiwBde9CeQV0nNgHdt2B;
using tgxXUh9WjFeECf0K6IFL;
using TigerTrade.Chart.Indicators.Common;
using TigerTrade.Core.Utils.Logging;
using TuAMtrl1Nd3XoZQQUXf0;
using xfdMo0lS4TP9pN36Goka;
using YA7hHI9Witfe8JGQQyp2;

namespace tX1nrO9rQdfX1ItABawx;

internal static class bIMucW9rEejpRBsSnAm9
{
	[CompilerGenerated]
	private sealed class spfXo0nzINPtJWkYmMkb
	{
		public Type IGNnztaGyUW;

		private static spfXo0nzINPtJWkYmMkb jbUmHQNUj6O2hgJf6vgo;

		public spfXo0nzINPtJWkYmMkb()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
		}

		internal bool jgfnzWBEQGY(mLOjMO9CLCdNKSioCLus i)
		{
			return i.Type == IGNnztaGyUW;
		}

		static spfXo0nzINPtJWkYmMkb()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}

		internal static bool n78goTNUEVBgOClgIPUC()
		{
			return jbUmHQNUj6O2hgJf6vgo == null;
		}

		internal static spfXo0nzINPtJWkYmMkb k8UUmKNUQNUkXiuSo5Gr()
		{
			return jbUmHQNUj6O2hgJf6vgo;
		}
	}

	[CompilerGenerated]
	private sealed class vPUPC9nzUvdjJSdueHq6
	{
		public string w3DnzyVAU0q;

		public string VWQnzZEuhiP;

		private static vPUPC9nzUvdjJSdueHq6 fgEiSFNUdOP1d2Ax3CmD;

		public vPUPC9nzUvdjJSdueHq6()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
		}

		internal bool cJ9nzTGuSeK(mLOjMO9CLCdNKSioCLus i)
		{
			if (x7HYAINU6mHWCkNg3I3C(i.FEQ9Cde5A5L(), w3DnzyVAU0q))
			{
				return i.FA19C6ZB2OC() == VWQnzZEuhiP;
			}
			return false;
		}

		static vPUPC9nzUvdjJSdueHq6()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}

		internal static bool qlYIM0NUgM6xdXVedWa2()
		{
			return fgEiSFNUdOP1d2Ax3CmD == null;
		}

		internal static vPUPC9nzUvdjJSdueHq6 hMArxwNUR5rIwDWrsWy7()
		{
			return fgEiSFNUdOP1d2Ax3CmD;
		}

		internal static bool x7HYAINU6mHWCkNg3I3C(object P_0, object P_1)
		{
			return (string)P_0 == (string)P_1;
		}
	}

	private static readonly Dictionary<string, mLOjMO9CLCdNKSioCLus> Indicators;

	private static readonly HashSet<string> IPn9rqabEBk;

	private static bIMucW9rEejpRBsSnAm9 zNxrEHbyFHMXZH9YthKU;

	static bIMucW9rEejpRBsSnAm9()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_495802897f05476f875528905eba9a89 == 0)
		{
			num = 5;
		}
		IndicatorAttribute indicatorAttribute2 = default(IndicatorAttribute);
		Type type2 = default(Type);
		DataContractAttribute dataContractAttribute2 = default(DataContractAttribute);
		IndicatorAttribute indicatorAttribute = default(IndicatorAttribute);
		Type type = default(Type);
		DataContractAttribute dataContractAttribute = default(DataContractAttribute);
		int num2 = default(int);
		Type[] array = default(Type[]);
		DataContractAttribute dataContractAttribute3 = default(DataContractAttribute);
		while (true)
		{
			switch (num)
			{
			case 5:
				Indicators = new Dictionary<string, mLOjMO9CLCdNKSioCLus>();
				IPn9rqabEBk = new HashSet<string>();
				array = ((Assembly)RePMFNbyuCFHoAyMYAjf()).GetTypes();
				num = 1;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_9d6f131f80d34ede83451138b928a86f != 0)
				{
					num = 0;
				}
				break;
			case 12:
				if (indicatorAttribute2 != null)
				{
					num = 3;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_0a80f370f27d471fab60f042c9fa7b49 == 0)
					{
						num = 2;
					}
					break;
				}
				goto case 6;
			case 11:
				Indicators.Add(indicatorAttribute2.ID, new mLOjMO9CLCdNKSioCLus(type2, indicatorAttribute2.ID, indicatorAttribute2.Name, indicatorAttribute2.Overlay, dataContractAttribute2.Name, (string)QbqYTabZ285NIMxWSuBB(dataContractAttribute2)));
				num = 6;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_426282f87bb443dbbfe9ea3327b81bb7 != 0)
				{
					num = 5;
				}
				break;
			case 4:
				indicatorAttribute = (IndicatorAttribute)type.GetCustomAttribute(Type.GetTypeFromHandle(kXjxXTbZ0uQYg0rxaLq9(16778357)), inherit: false);
				if (indicatorAttribute != null && !Indicators.ContainsKey(indicatorAttribute.ID))
				{
					goto case 9;
				}
				goto case 10;
			case 3:
				if (!Indicators.ContainsKey(indicatorAttribute2.ID))
				{
					num = 8;
					break;
				}
				goto case 6;
			case 1:
				num2 = 0;
				goto IL_0093;
			case 6:
			case 7:
				num2++;
				goto IL_0093;
			case 8:
				dataContractAttribute2 = (DataContractAttribute)type2.GetCustomAttribute(Type.GetTypeFromHandle(kXjxXTbZ0uQYg0rxaLq9(16778331)), inherit: false);
				num = 2;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ad0a44f3eae14332b41c0c5ef48d2cbb == 0)
				{
					num = 1;
				}
				break;
			case 2:
				if (dataContractAttribute2 == null)
				{
					num = 7;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_d49d1aa54d194934871b103e21669e22 != 0)
					{
						num = 4;
					}
					break;
				}
				goto case 11;
			case 9:
				dataContractAttribute = (DataContractAttribute)type.GetCustomAttribute(Type.GetTypeFromHandle(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(16778331)), inherit: false);
				if (dataContractAttribute != null)
				{
					num = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_7d3c6a8bf09f4ec887f577858231a719 != 0)
					{
						num = 0;
					}
					break;
				}
				goto case 10;
			case 10:
				num2++;
				goto IL_024c;
			case 13:
				type2 = array[num2];
				indicatorAttribute2 = (IndicatorAttribute)type2.GetCustomAttribute(T2crHxbyztDESDod8frW(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(16778357)), inherit: false);
				num = 12;
				break;
			default:
				{
					Indicators.Add(indicatorAttribute.ID, new mLOjMO9CLCdNKSioCLus(type, indicatorAttribute.ID, (string)Y8ot7ObZfGQiRshGk4FE(indicatorAttribute), cUcX81bZ9RUhYL9PNM9b(indicatorAttribute), dataContractAttribute.Name, dataContractAttribute.Namespace));
					num = 10;
					break;
				}
				IL_024c:
				if (num2 >= array.Length)
				{
					try
					{
						if (!Directory.Exists((string)Ku326rbZn95nREcrd1Xh()))
						{
							return;
						}
						string[] array2 = (string[])o2qfXnbZGdhcBb5uKirQ(j18iDj9nukSCmEyZs5lH.HYL9oLoa6PD());
						num2 = 0;
						int num3 = 3;
						if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6d472511f0d246a693dc7622dda5f390 != 0)
						{
							num3 = 1;
						}
						while (true)
						{
							switch (num3)
							{
							default:
								if (num2 >= array2.Length)
								{
									num3 = 0;
									if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_de1b6b238ba046ff8910d780c42f0e95 == 0)
									{
										num3 = 1;
									}
									continue;
								}
								break;
							case 2:
								break;
							case 1:
								return;
							}
							string text = array2[num2];
							try
							{
								array = Assembly.Load((byte[])Jd0UjtbZYDvv3cqOOikq(text)).GetTypes();
								for (int i = 0; i < array.Length; i++)
								{
									while (true)
									{
										Type type3 = array[i];
										IndicatorAttribute indicatorAttribute3 = (IndicatorAttribute)type3.GetCustomAttribute(Type.GetTypeFromHandle(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(16778357)), inherit: false);
										if (indicatorAttribute3 == null)
										{
											break;
										}
										int num4 = 5;
										int num5 = num4;
										while (true)
										{
											switch (num5)
											{
											case 1:
												IPn9rqabEBk.Add(indicatorAttribute3.ID);
												num5 = 2;
												continue;
											case 2:
												break;
											case 5:
												if (!Indicators.ContainsKey((string)Y4uuiObZombvKTnWvlcs(indicatorAttribute3)))
												{
													num5 = 0;
													if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_f68538a410dc40459f303c1bac7938ac != 0)
													{
														num5 = 0;
													}
													continue;
												}
												break;
											default:
												dataContractAttribute3 = (DataContractAttribute)hjePc6bZvseDUCJ2OhqT(type3, Type.GetTypeFromHandle(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(16778331)), false);
												num5 = 4;
												continue;
											case 3:
												goto end_IL_030c;
											case 4:
												if (dataContractAttribute3 != null)
												{
													Indicators.Add((string)Y4uuiObZombvKTnWvlcs(indicatorAttribute3), new mLOjMO9CLCdNKSioCLus(type3, indicatorAttribute3.ID, (string)Y8ot7ObZfGQiRshGk4FE(indicatorAttribute3), indicatorAttribute3.Overlay, dataContractAttribute3.Name, (string)QbqYTabZ285NIMxWSuBB(dataContractAttribute3)));
													num5 = 0;
													if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1db4437ae4614880b2ad46efdc78cb73 != 0)
													{
														num5 = 1;
													}
													continue;
												}
												break;
											}
											goto end_IL_03fb;
											continue;
											end_IL_030c:
											break;
										}
										continue;
										end_IL_03fb:
										break;
									}
								}
							}
							catch (Exception ex)
							{
								Gyyj2gbZBTu783e0OLGV(ex);
							}
							num2++;
							num3 = 0;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6d365c300683408da8d70007bc278f93 != 0)
							{
								num3 = 0;
							}
						}
					}
					catch (Exception ex2)
					{
						Gyyj2gbZBTu783e0OLGV(ex2);
						return;
					}
				}
				type = array[num2];
				num = 4;
				break;
				IL_0093:
				if (num2 >= array.Length)
				{
					array = (Type[])oRedrUbZHJgR7DaOb8qA(Type.GetTypeFromHandle(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(16777296)).Assembly);
					num2 = 0;
					goto IL_024c;
				}
				goto case 13;
			}
		}
	}

	public static IndicatorBase SK59rdcFdrl(string P_0)
	{
		if (Indicators.ContainsKey(P_0))
		{
			return (IndicatorBase)Activator.CreateInstance(Indicators[P_0].Type);
		}
		return null;
	}

	public static void nDv9rgbOAcD(IndicatorBase P_0)
	{
		int num = 1;
		int num2 = num;
		GT814n9Was7GuBCu1NxO gT814n9Was7GuBCu1NxO = default(GT814n9Was7GuBCu1NxO);
		while (true)
		{
			switch (num2)
			{
			case 1:
				gT814n9Was7GuBCu1NxO = (GT814n9Was7GuBCu1NxO)bmLBofbZaKo46rMrPovm(P_0.ID);
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ba87d68105604f98a891a0549ef4b7f9 != 0)
				{
					num2 = 0;
				}
				continue;
			case 2:
				return;
			}
			if (gT814n9Was7GuBCu1NxO != null && zXXoGibZloJXE9WxUDN0(F5ETqBbZi1miGdmJyq4E(gT814n9Was7GuBCu1NxO).GetType(), P_0.GetType()))
			{
				weq6otbZ4Qn5c6IXnkNX(P_0, gT814n9Was7GuBCu1NxO.Indicator, true);
				num2 = 2;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6990919c9c0e45a99d17cb82a4a90a41 != 0)
				{
					num2 = 2;
				}
				continue;
			}
			return;
		}
	}

	public static List<mLOjMO9CLCdNKSioCLus> juw9rR6EIw1()
	{
		return Indicators.Values.ToList();
	}

	public static mLOjMO9CLCdNKSioCLus xVy9r6320x1(Type P_0)
	{
		spfXo0nzINPtJWkYmMkb CS_0024_003C_003E8__locals2 = new spfXo0nzINPtJWkYmMkb();
		CS_0024_003C_003E8__locals2.IGNnztaGyUW = P_0;
		return Indicators.Values.FirstOrDefault((mLOjMO9CLCdNKSioCLus i) => i.Type == CS_0024_003C_003E8__locals2.IGNnztaGyUW);
	}

	public static Type oqu9rMULCYP(string P_0, string P_1)
	{
		vPUPC9nzUvdjJSdueHq6 CS_0024_003C_003E8__locals4 = new vPUPC9nzUvdjJSdueHq6();
		CS_0024_003C_003E8__locals4.w3DnzyVAU0q = P_0;
		CS_0024_003C_003E8__locals4.VWQnzZEuhiP = P_1;
		int num = 1;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_a8990374f0e04177b45918e3dd7a2d4b == 0)
		{
			num = 1;
		}
		object obj;
		while (true)
		{
			switch (num)
			{
			case 1:
				obj = Indicators.Values.FirstOrDefault((mLOjMO9CLCdNKSioCLus i) => vPUPC9nzUvdjJSdueHq6.x7HYAINU6mHWCkNg3I3C(i.FEQ9Cde5A5L(), CS_0024_003C_003E8__locals4.w3DnzyVAU0q) && i.FA19C6ZB2OC() == CS_0024_003C_003E8__locals4.VWQnzZEuhiP)?.Type;
				if (obj == null)
				{
					num = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_5b6218c32bbf4af5965485469fa12538 == 0)
					{
						num = 0;
					}
					continue;
				}
				break;
			default:
				obj = Type.GetTypeFromHandle(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(33556000));
				break;
			}
			break;
		}
		return (Type)obj;
	}

	public static bool g4I9rO5DgZc(IndicatorBase P_0)
	{
		return IPn9rqabEBk.Contains(P_0.ID);
	}

	internal static object RePMFNbyuCFHoAyMYAjf()
	{
		return Assembly.GetCallingAssembly();
	}

	internal static Type T2crHxbyztDESDod8frW(RuntimeTypeHandle P_0)
	{
		return Type.GetTypeFromHandle(P_0);
	}

	internal static RuntimeTypeHandle kXjxXTbZ0uQYg0rxaLq9(int token)
	{
		return zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(token);
	}

	internal static object QbqYTabZ285NIMxWSuBB(object P_0)
	{
		return ((DataContractAttribute)P_0).Namespace;
	}

	internal static object oRedrUbZHJgR7DaOb8qA(object P_0)
	{
		return ((Assembly)P_0).GetTypes();
	}

	internal static object Y8ot7ObZfGQiRshGk4FE(object P_0)
	{
		return ((IndicatorAttribute)P_0).Name;
	}

	internal static bool cUcX81bZ9RUhYL9PNM9b(object P_0)
	{
		return ((IndicatorAttribute)P_0).Overlay;
	}

	internal static object Ku326rbZn95nREcrd1Xh()
	{
		return j18iDj9nukSCmEyZs5lH.HYL9oLoa6PD();
	}

	internal static object o2qfXnbZGdhcBb5uKirQ(object P_0)
	{
		return Directory.GetFiles((string)P_0);
	}

	internal static object Jd0UjtbZYDvv3cqOOikq(object P_0)
	{
		return File.ReadAllBytes((string)P_0);
	}

	internal static object Y4uuiObZombvKTnWvlcs(object P_0)
	{
		return ((IndicatorAttribute)P_0).ID;
	}

	internal static object hjePc6bZvseDUCJ2OhqT(object P_0, Type P_1, bool P_2)
	{
		return ((MemberInfo)P_0).GetCustomAttribute(P_1, P_2);
	}

	internal static void Gyyj2gbZBTu783e0OLGV(object P_0)
	{
		LogManager.WriteError((Exception)P_0);
	}

	internal static bool OhJYkRby3JUAAZyClSfJ()
	{
		return zNxrEHbyFHMXZH9YthKU == null;
	}

	internal static bIMucW9rEejpRBsSnAm9 hYfBZUbyp7iZ2tnh4ZmD()
	{
		return zNxrEHbyFHMXZH9YthKU;
	}

	internal static object bmLBofbZaKo46rMrPovm(object P_0)
	{
		return BGHLpK9WcuAq9AbWqi4M.yE89WgX4677((string)P_0);
	}

	internal static object F5ETqBbZi1miGdmJyq4E(object P_0)
	{
		return ((GT814n9Was7GuBCu1NxO)P_0).Indicator;
	}

	internal static bool zXXoGibZloJXE9WxUDN0(Type P_0, Type P_1)
	{
		return P_0 == P_1;
	}

	internal static void weq6otbZ4Qn5c6IXnkNX(object P_0, object P_1, bool P_2)
	{
		((IndicatorBase)P_0).CopyTemplate((IndicatorBase)P_1, P_2);
	}
}
