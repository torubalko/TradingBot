using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Runtime.Serialization;
using System.Threading;
using aEpmU09nz6MEoNmc0pGJ;
using ECOEgqlSad8NUJZ2Dr9n;
using jS3Y2j9pTQRy0FnOknFG;
using KFCkMg9E3dFk8gG1btl3;
using TigerTrade.Chart.Settings;
using TigerTrade.Core.Utils.Config;
using TuAMtrl1Nd3XoZQQUXf0;

namespace LBWsN39Q2OCG4fj6vDfg;

internal static class K3FFIA9Q0nWGKAkBaIfc
{
	[CompilerGenerated]
	private sealed class Pv4MPUnFCMwFAjktHnfI
	{
		public ChartSettings XiqnFKOXZvf;

		internal static Pv4MPUnFCMwFAjktHnfI DuF4qbNqrCsJnbXtoQKn;

		public Pv4MPUnFCMwFAjktHnfI()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
		}

		internal bool K0ZnFr5W1Ae(ChartSettings t)
		{
			return CblHihNqwbsTspxUMb2N(Q2yeHeNqh8nykKi4yRHN(t), Q2yeHeNqh8nykKi4yRHN(XiqnFKOXZvf));
		}

		static Pv4MPUnFCMwFAjktHnfI()
		{
			PUEslPNq76UvmLp6w1QX();
		}

		internal static bool J1TnCsNqKgpluS2i94wA()
		{
			return DuF4qbNqrCsJnbXtoQKn == null;
		}

		internal static Pv4MPUnFCMwFAjktHnfI Qi4TekNqm3ypOGHZ6vJW()
		{
			return DuF4qbNqrCsJnbXtoQKn;
		}

		internal static object Q2yeHeNqh8nykKi4yRHN(object P_0)
		{
			return ((ChartSettings)P_0).TemplateName;
		}

		internal static bool CblHihNqwbsTspxUMb2N(object P_0, object P_1)
		{
			return (string)P_0 == (string)P_1;
		}

		internal static void PUEslPNq76UvmLp6w1QX()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}
	}

	[CompilerGenerated]
	private sealed class a1wCRynFmGbi7fYHMxOa
	{
		public string OvSnFw3S1Xt;

		internal static a1wCRynFmGbi7fYHMxOa xxqgAONq8uQ0Aut9IagJ;

		public a1wCRynFmGbi7fYHMxOa()
		{
			NEwcKVNqJIaSysboS2Y6();
			base._002Ector();
		}

		internal bool afunFhCeXX3(ChartSettings t)
		{
			return t.TemplateID == OvSnFw3S1Xt;
		}

		static a1wCRynFmGbi7fYHMxOa()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}

		internal static void NEwcKVNqJIaSysboS2Y6()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		}

		internal static bool Rrx8mhNqAOay2M3icd0V()
		{
			return xxqgAONq8uQ0Aut9IagJ == null;
		}

		internal static a1wCRynFmGbi7fYHMxOa V3wf5aNqPoXgYSqIxjB3()
		{
			return xxqgAONq8uQ0Aut9IagJ;
		}
	}

	[Serializable]
	[CompilerGenerated]
	private sealed class RQt5MbnF7DbK6xaNAdE4
	{
		public static readonly RQt5MbnF7DbK6xaNAdE4 oe9nFAA1kMs;

		public static Func<ChartSettings, string> Kk3nFPIYoWH;

		internal static RQt5MbnF7DbK6xaNAdE4 QHKOtWNqF9bWetpCabeu;

		static RQt5MbnF7DbK6xaNAdE4()
		{
			int num = 1;
			int num2 = num;
			while (true)
			{
				switch (num2)
				{
				case 1:
					stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6938a97537c94834bed9381eb4051eec == 0)
					{
						num2 = 0;
					}
					break;
				default:
					bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
					oe9nFAA1kMs = new RQt5MbnF7DbK6xaNAdE4();
					return;
				}
			}
		}

		public RQt5MbnF7DbK6xaNAdE4()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
		}

		internal string RcunF8HxOBB(ChartSettings t)
		{
			return t.TemplateName;
		}

		internal static bool IV1UgyNq3ZNQQCbLGw0c()
		{
			return QHKOtWNqF9bWetpCabeu == null;
		}

		internal static RQt5MbnF7DbK6xaNAdE4 zrHWs5Nqpd0ETMYle5d4()
		{
			return QHKOtWNqF9bWetpCabeu;
		}
	}

	private static readonly mJTUxj9EFSPAHh9K4pw4 Templates;

	[CompilerGenerated]
	private static Action J9N9QB1imDU;

	private static K3FFIA9Q0nWGKAkBaIfc P3TeMBbc7YGTYJF1B1QV;

	[SpecialName]
	[CompilerGenerated]
	public static void niZ9QY0ts0b(Action P_0)
	{
		Action action = J9N9QB1imDU;
		Action action2;
		Action value = default(Action);
		do
		{
			action2 = action;
			int num = 1;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_7070f82fb97740909616ccb4e69409c5 == 0)
			{
				num = 0;
			}
			while (true)
			{
				switch (num)
				{
				case 1:
					value = (Action)Delegate.Combine(action2, P_0);
					num = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_9aa9dbd12b8a4a4ea59acea051cdddbf == 0)
					{
						num = 0;
					}
					continue;
				}
				break;
			}
			action = Interlocked.CompareExchange(ref J9N9QB1imDU, value, action2);
		}
		while ((object)action != action2);
	}

	[SpecialName]
	[CompilerGenerated]
	public static void XVO9QorfwMC(Action P_0)
	{
		int num = 2;
		int num2 = num;
		Action action = default(Action);
		Action value = default(Action);
		Action action2 = default(Action);
		while (true)
		{
			switch (num2)
			{
			default:
				action = Interlocked.CompareExchange(ref J9N9QB1imDU, value, action2);
				if ((object)action == action2)
				{
					return;
				}
				goto case 1;
			case 1:
				action2 = action;
				value = (Action)Delegate.Remove(action2, P_0);
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_a337f255b1bd4e8290c28001e28630dc != 0)
				{
					num2 = 0;
				}
				break;
			case 2:
				action = J9N9QB1imDU;
				num2 = 1;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1db4437ae4614880b2ad46efdc78cb73 == 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	static K3FFIA9Q0nWGKAkBaIfc()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		tcDa6rbcPnILJF9tbGKt();
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_d3afdd6ad27a4c3b87071f1be51e7ef3 != 0)
		{
			num = 0;
		}
		switch (num)
		{
		}
		Templates = ConfigSerializer.LoadFromFile<mJTUxj9EFSPAHh9K4pw4>(j18iDj9nukSCmEyZs5lH.XJ99YsKmAGF(), jjKtVJ9pUSOpdg38tqnP.PV29p3fNsns()) ?? new mJTUxj9EFSPAHh9K4pw4();
	}

	private static void OEb9QHoauuB()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 1:
				ConfigSerializer.SaveToFile(Templates, (string)HTK00ebcJbNFZf2liYmu(), (DataContractResolver)qA2Kr7bcFPTGD3g2uTGH());
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_8a9257c2b61741afa02a8ceb1f69ad69 == 0)
				{
					num2 = 0;
				}
				break;
			default:
				J9N9QB1imDU?.Invoke();
				return;
			}
		}
	}

	public static ChartSettings C0X9QfroM0b(string P_0)
	{
		return ConfigSerializer.LoadFromFile<ChartSettings>(P_0);
	}

	public static void RoS9Q9XR82y(string P_0, ChartSettings P_1)
	{
		ConfigSerializer.SaveToFile(P_1, P_0);
	}

	public static void ayu9QnZhkD9(ChartSettings P_0)
	{
		int num = 1;
		int num2 = num;
		ChartSettings chartSettings = default(ChartSettings);
		Pv4MPUnFCMwFAjktHnfI pv4MPUnFCMwFAjktHnfI = default(Pv4MPUnFCMwFAjktHnfI);
		while (true)
		{
			switch (num2)
			{
			case 2:
				if (chartSettings != null)
				{
					Templates.Templates.Remove(chartSettings);
				}
				Templates.Templates.Add(pv4MPUnFCMwFAjktHnfI.XiqnFKOXZvf);
				v1BUwobc3X87B4aXsF2L();
				return;
			case 3:
				chartSettings = Templates.Templates.FirstOrDefault(pv4MPUnFCMwFAjktHnfI.K0ZnFr5W1Ae);
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_cab5688e7a6f4724836f4be9e8087801 == 0)
				{
					num2 = 2;
				}
				break;
			default:
				pv4MPUnFCMwFAjktHnfI.XiqnFKOXZvf = P_0;
				num2 = 3;
				break;
			case 1:
				pv4MPUnFCMwFAjktHnfI = new Pv4MPUnFCMwFAjktHnfI();
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1bb232d361564d93b9a5d5e53983bdb3 == 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	public static void Remove(string templateID)
	{
		int num = 1;
		int num2 = num;
		a1wCRynFmGbi7fYHMxOa a1wCRynFmGbi7fYHMxOa = default(a1wCRynFmGbi7fYHMxOa);
		ChartSettings chartSettings = default(ChartSettings);
		while (true)
		{
			switch (num2)
			{
			default:
				a1wCRynFmGbi7fYHMxOa.OvSnFw3S1Xt = templateID;
				chartSettings = Templates.Templates.FirstOrDefault(a1wCRynFmGbi7fYHMxOa.afunFhCeXX3);
				if (chartSettings != null)
				{
					num2 = 2;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_d3afdd6ad27a4c3b87071f1be51e7ef3 == 0)
					{
						num2 = 2;
					}
					break;
				}
				goto IL_0029;
			case 2:
				Templates.Templates.Remove(chartSettings);
				goto IL_0029;
			case 1:
				{
					a1wCRynFmGbi7fYHMxOa = new a1wCRynFmGbi7fYHMxOa();
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_bbcfc7b1c81d4568b6bd3ed19a340f5e == 0)
					{
						num2 = 0;
					}
					break;
				}
				IL_0029:
				OEb9QHoauuB();
				return;
			}
		}
	}

	public static void Clear()
	{
		Templates.Templates.Clear();
		OEb9QHoauuB();
	}

	public static List<ChartSettings> qLt9QGrSG3y()
	{
		List<ChartSettings> list = new List<ChartSettings>();
		list.AddRange(Templates.Templates);
		return list.OrderBy((ChartSettings t) => t.TemplateName).ToList();
	}

	internal static bool aXyGfxbc80EJp42dCqwq()
	{
		return P3TeMBbc7YGTYJF1B1QV == null;
	}

	internal static K3FFIA9Q0nWGKAkBaIfc YCkZJdbcAW6a3OA82Di3()
	{
		return P3TeMBbc7YGTYJF1B1QV;
	}

	internal static void tcDa6rbcPnILJF9tbGKt()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
	}

	internal static object HTK00ebcJbNFZf2liYmu()
	{
		return j18iDj9nukSCmEyZs5lH.XJ99YsKmAGF();
	}

	internal static object qA2Kr7bcFPTGD3g2uTGH()
	{
		return jjKtVJ9pUSOpdg38tqnP.PV29p3fNsns();
	}

	internal static void v1BUwobc3X87B4aXsF2L()
	{
		OEb9QHoauuB();
	}
}
