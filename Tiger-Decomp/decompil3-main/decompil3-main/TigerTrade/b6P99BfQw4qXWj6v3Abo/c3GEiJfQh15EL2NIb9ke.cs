using System;
using System.Windows;
using D0Dl1FfglhlruVPFTjak;
using De5nppfnpARnAi0A5Za4;
using ECOEgqlSad8NUJZ2Dr9n;
using FVYsFbfQtSb2HBwMwu3f;
using J3rFECfGQmHQ9sLCyCue;
using JKn80mfcvpiivwtOTDP4;
using LkgWJcfsLbF5GV6NcGQ4;
using MFP6WyfQrI7D9enwqrox;
using nDRVH5fO2N3bDxUGOOrY;
using NsWD4W9miMxRbFU3fsu9;
using pj0D9xfYObu44WjqZJeq;
using q6Lcl3fBRQ8ycXy3QOHi;
using TigerTrade.Chart.Base;
using TigerTrade.Chart.Data;
using TigerTrade.Dx;
using TigerTrade.Dx.Enums;
using TigerTrade.Properties;
using TuAMtrl1Nd3XoZQQUXf0;
using u42gcKfgzsMRGivVmHf8;
using Wf1kTvnGy6XhfTKJgfkM;
using xe7ivKfQTKcMrSpZuLj9;
using XUi8EWf1E6l7gdu7kUS9;

namespace b6P99BfQw4qXWj6v3Abo;

internal sealed class c3GEiJfQh15EL2NIb9ke : ukuHfqfgiWj29gahLmhg, faw8pRfgu9tAi5EEEjfU
{
	private bool EONfQ803Cjv;

	private double RR4fQAJUR7B;

	private bool KRnfQPQVO8n;

	private DateTime H0xfQJjo0qJ;

	private double t9BfQFl6lXZ;

	private ypqMIv9maFM0tRwF0xMh UhtfQ34NnkE;

	private DataCycle AWlfQpwsqh5;

	private x2fIxpfQU6kLfnLY22Fy LADfQulkGka;

	private jeHKYJfQCNem62JkVQER RxNfQzA6FmM;

	internal static c3GEiJfQh15EL2NIb9ke oIWXHUb0CC2k47HOeuEp;

	public c3GEiJfQh15EL2NIb9ke(wFFFvWfsxErbxn4XFmrR P_0, ukuHfqfgiWj29gahLmhg P_1)
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		H0xfQJjo0qJ = DateTime.MinValue;
		base._002Ector(P_0, P_1);
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_11b8736b0585457b9538011988d6d2f9 != 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	private void lHWfQ7asbAC(ypqMIv9maFM0tRwF0xMh P_0)
	{
		int num = 4;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				return;
			case 4:
			{
				if (base.MarketView.VisualSettings.BarDeltaDisplay == x2fIxpfQU6kLfnLY22Fy.SYOfQywG9MK)
				{
					num2 = 3;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_495802897f05476f875528905eba9a89 == 0)
					{
						num2 = 3;
					}
					break;
				}
				if (BmWeTCb0mE6N7xghBIr0(base.MarketView.VisualSettings) == x2fIxpfQU6kLfnLY22Fy.SWbfQVTyMpy || base.MarketView.VisualSettings.BarDeltaThreshold == 0.0)
				{
					EONfQ803Cjv = true;
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_bbcfc7b1c81d4568b6bd3ed19a340f5e != 0)
					{
						num2 = 1;
					}
					break;
				}
				IRawCluster rawCluster = (IRawCluster)((P_0 != null) ? JyehBxb0wXpAFvvxdATC(P_0, cqM2nyb0h1hqNOWwAQ5G(P_0) - 1) : null);
				if (rawCluster == null)
				{
					return;
				}
				EONfQ803Cjv = a8UriQb07UdrNMMuhRn1(H0xfQJjo0qJ, rawCluster.Time);
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_43d123ebfe574af38268397bb0ae2d1a != 0)
				{
					num2 = 2;
				}
				break;
			}
			case 3:
				EONfQ803Cjv = false;
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_dfd8fb340d494755970617a38d3a8729 == 0)
				{
					num2 = 0;
				}
				break;
			case 2:
				return;
			case 0:
				return;
			case 1:
				return;
			}
		}
	}

	public bool CheckUpdate()
	{
		int num = 11;
		ypqMIv9maFM0tRwF0xMh ypqMIv9maFM0tRwF0xMh = default(ypqMIv9maFM0tRwF0xMh);
		IRawCluster rawCluster = default(IRawCluster);
		double num3 = default(double);
		string text = default(string);
		string text2 = default(string);
		while (true)
		{
			int num2 = num;
			while (true)
			{
				object obj;
				switch (num2)
				{
				case 11:
					ypqMIv9maFM0tRwF0xMh = base.MarketView.Market.DataProvider;
					num2 = 4;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_e5dcb5c2a8274adf87bda91d76616538 != 0)
					{
						num2 = 10;
					}
					continue;
				case 7:
					LADfQulkGka = base.MarketView.VisualSettings.BarDeltaDisplay;
					RxNfQzA6FmM = base.MarketView.VisualSettings.DeltaCalcMethod;
					lHWfQ7asbAC(ypqMIv9maFM0tRwF0xMh);
					num2 = 13;
					continue;
				default:
					if (rawCluster.Time > H0xfQJjo0qJ && Math.Abs(num3) > base.MarketView.VisualSettings.BarDeltaThreshold)
					{
						text = (string)cx6lCab0JQgi7uEqmebr(a9s0erb0PyFjwqk3HDAr(), num3);
						num2 = 6;
						continue;
					}
					goto IL_011d;
				case 4:
					if (UhtfQ34NnkE == ypqMIv9maFM0tRwF0xMh)
					{
						num2 = 0;
						if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_2088b9a28522490e83dc44062c40a7c0 != 0)
						{
							num2 = 3;
						}
						continue;
					}
					goto case 9;
				case 10:
					if (ypqMIv9maFM0tRwF0xMh == null)
					{
						num2 = 8;
						continue;
					}
					obj = ypqMIv9maFM0tRwF0xMh.GetCluster(ypqMIv9maFM0tRwF0xMh.Count - 1);
					goto IL_0470;
				case 2:
					lHWfQ7asbAC(ypqMIv9maFM0tRwF0xMh);
					return true;
				case 5:
					UhtfQ34NnkE = ypqMIv9maFM0tRwF0xMh;
					AWlfQpwsqh5 = ypqMIv9maFM0tRwF0xMh.DataCycle;
					EONfQ803Cjv = false;
					num = 7;
					break;
				case 12:
					return true;
				case 6:
					text2 = (BbfUh3b0FiUQTlWthd4q(lML6m6b0A8Zu99m5y4sq(base.MarketView)) ? base.MarketView.VisualSettings.BarDeltaSound : null);
					num2 = 16;
					continue;
				case 16:
					c8EcTUfGEuMy2llFqsdF.EysfGdYxekX(new Iafnb1fn3j4C49y3SFn7(((cXwoI5f1jl9EMXW8XL7D)JTQNhHb034i39Bontp0o(base.MarketView)).EUDf5LE6Wyx(), (krjr6dfYMJotfdc9ATKx)2, ((ijsjhhnGTadfwpOyDdrx)RYrSvLb0pprnvSbmV00H(base.MarketView)).Code, base.MarketView.Symbol.Name, base.MarketView.Symbol.Exchange, text2, 1, afkZ1Xb0uy4nrUAKxrcN(lML6m6b0A8Zu99m5y4sq(base.MarketView)), _0020: false, _0020: false, text, _0020: true));
					H0xfQJjo0qJ = rawCluster.Time;
					goto IL_011d;
				case 13:
					return true;
				case 3:
					if (AWlfQpwsqh5 == ypqMIv9maFM0tRwF0xMh.DataCycle && t9BfQFl6lXZ == s8osXdb08AsKP3aDop52(base.MarketView.VisualSettings))
					{
						if (RxNfQzA6FmM == ((SH4fZjfBgpnJAYxtUbu4)lML6m6b0A8Zu99m5y4sq(base.MarketView)).DeltaCalcMethod)
						{
							if (LADfQulkGka == base.MarketView.VisualSettings.BarDeltaDisplay)
							{
								if (rawCluster != null)
								{
									num3 = DOcVpyfcohL3hAnqtSds.Xg8fcdZfQUs(rawCluster, ((SH4fZjfBgpnJAYxtUbu4)lML6m6b0A8Zu99m5y4sq(base.MarketView)).DeltaCalcMethod);
									if (Math.Abs(num3 - RR4fQAJUR7B) < double.Epsilon)
									{
										return false;
									}
									if (base.MarketView.VisualSettings.BarDeltaThreshold > 0.0)
									{
										num2 = 0;
										if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_7573e3aca29a46a9959af01ed2386da5 != 0)
										{
											num2 = 0;
										}
										continue;
									}
									goto IL_011d;
								}
								lHWfQ7asbAC(ypqMIv9maFM0tRwF0xMh);
								return false;
							}
							LADfQulkGka = base.MarketView.VisualSettings.BarDeltaDisplay;
							lHWfQ7asbAC(ypqMIv9maFM0tRwF0xMh);
							num2 = 12;
							continue;
						}
						num2 = 9;
						continue;
					}
					goto case 9;
				case 15:
					KRnfQPQVO8n = rawCluster.Close > rawCluster.Open;
					num2 = 14;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_b17e829e94d54e7b87d666edd5b38bcd == 0)
					{
						num2 = 12;
					}
					continue;
				case 8:
					obj = null;
					goto IL_0470;
				case 9:
					t9BfQFl6lXZ = s8osXdb08AsKP3aDop52(base.MarketView.VisualSettings);
					num2 = 1;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_213ef2c0a30c421096ba2b26b8d94124 != 0)
					{
						num2 = 1;
					}
					continue;
				case 14:
					H0xfQJjo0qJ = DateTime.MinValue;
					num2 = 5;
					continue;
				case 1:
					{
						RR4fQAJUR7B = ((rawCluster != null) ? DOcVpyfcohL3hAnqtSds.Xg8fcdZfQUs(rawCluster, base.MarketView.VisualSettings.DeltaCalcMethod) : 0.0);
						if (rawCluster != null)
						{
							num2 = 15;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6b48af76ce0b4c779ac34c27953eddda != 0)
							{
								num2 = 9;
							}
							continue;
						}
						goto case 14;
					}
					IL_0470:
					rawCluster = (IRawCluster)obj;
					num = 4;
					break;
					IL_011d:
					RR4fQAJUR7B = num3;
					KRnfQPQVO8n = LtqnZSb0z1cxRvJn9kRH(rawCluster) > jl4ePMb200eebHOh1Jhi(rawCluster);
					num = 2;
					break;
				}
				break;
			}
		}
	}

	public void Khal96VceVj(DxVisualQueue P_0)
	{
		GrUfgj06O3b = uyr2p5b22wrjso4jikKc();
		if (!EONfQ803Cjv)
		{
			return;
		}
		int num = 1;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_495802897f05476f875528905eba9a89 != 0)
		{
			num = 0;
		}
		string text = default(string);
		XBrush xBrush = default(XBrush);
		XTextAlignment xTextAlignment = default(XTextAlignment);
		double num2 = default(double);
		while (true)
		{
			switch (num)
			{
			default:
				return;
			case 1:
				text = string.Format((string)oaSHRub2HrMqxL9AssEx(0x315AB1E3 ^ 0x315E90AF), RR4fQAJUR7B);
				xBrush = (XBrush)(KRnfQPQVO8n ? CbhHWbb294joQCZgeCPm(HbuJW6b2fBHLNDVIEhqp(base.MarketView)) : base.MarketView.Theme.OJIfTXfq4lS);
				xTextAlignment = ((Tssnc9b2nwaLrOLvCGYA(lML6m6b0A8Zu99m5y4sq(base.MarketView)) != txcFMSfQWmU5EhfAYOv0.Left) ? XTextAlignment.Right : XTextAlignment.Left);
				num = 4;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_2088b9a28522490e83dc44062c40a7c0 == 0)
				{
					num = 0;
				}
				continue;
			case 4:
				num2 = base.MarketView.Market.I8MfLNiJ00B();
				num = 2;
				continue;
			case 2:
				if (A5BYETb2GZ78LhRfi1ff(rEYfgNErkG2()) != uyr2p5b22wrjso4jikKc())
				{
					num2 += rEYfgNErkG2().Border.Bottom;
					num = 3;
					continue;
				}
				break;
			case 3:
				break;
			case 0:
				return;
			}
			GrUfgj06O3b = T6Xfg40ualo(P_0, (string)oaSHRub2HrMqxL9AssEx(0x7F55E538 ^ 0x7F51C456), text, base.MarketView.Settings.OrderPingFont, base.MarketView.Settings.OrderPingFont, xBrush, xBrush, xTextAlignment, num2);
			num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_d9af442440454effa9efd8da8e33ec96 != 0)
			{
				num = 0;
			}
		}
	}

	static c3GEiJfQh15EL2NIb9ke()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
	}

	internal static bool nlYK2Wb0rN6AtvbaCj6L()
	{
		return oIWXHUb0CC2k47HOeuEp == null;
	}

	internal static c3GEiJfQh15EL2NIb9ke pcEVqbb0K8YxVQJarLwY()
	{
		return oIWXHUb0CC2k47HOeuEp;
	}

	internal static x2fIxpfQU6kLfnLY22Fy BmWeTCb0mE6N7xghBIr0(object P_0)
	{
		return ((SH4fZjfBgpnJAYxtUbu4)P_0).BarDeltaDisplay;
	}

	internal static int cqM2nyb0h1hqNOWwAQ5G(object P_0)
	{
		return ((ypqMIv9maFM0tRwF0xMh)P_0).Count;
	}

	internal static object JyehBxb0wXpAFvvxdATC(object P_0, int P_1)
	{
		return ((ypqMIv9maFM0tRwF0xMh)P_0).GetCluster(P_1);
	}

	internal static bool a8UriQb07UdrNMMuhRn1(DateTime P_0, DateTime P_1)
	{
		return P_0 == P_1;
	}

	internal static double s8osXdb08AsKP3aDop52(object P_0)
	{
		return ((SH4fZjfBgpnJAYxtUbu4)P_0).BarDeltaThreshold;
	}

	internal static object lML6m6b0A8Zu99m5y4sq(object P_0)
	{
		return ((wFFFvWfsxErbxn4XFmrR)P_0).VisualSettings;
	}

	internal static object a9s0erb0PyFjwqk3HDAr()
	{
		return Resources.BarDeltaMessage;
	}

	internal static object cx6lCab0JQgi7uEqmebr(object P_0, object P_1)
	{
		return string.Format((string)P_0, P_1);
	}

	internal static bool BbfUh3b0FiUQTlWthd4q(object P_0)
	{
		return ((SH4fZjfBgpnJAYxtUbu4)P_0).BarDeltaSoundAlert;
	}

	internal static object JTQNhHb034i39Bontp0o(object P_0)
	{
		return ((wFFFvWfsxErbxn4XFmrR)P_0).Market;
	}

	internal static object RYrSvLb0pprnvSbmV00H(object P_0)
	{
		return ((wFFFvWfsxErbxn4XFmrR)P_0).Symbol;
	}

	internal static bool afkZ1Xb0uy4nrUAKxrcN(object P_0)
	{
		return ((SH4fZjfBgpnJAYxtUbu4)P_0).BarDeltaShowPopup;
	}

	internal static long LtqnZSb0z1cxRvJn9kRH(object P_0)
	{
		return ((IRawCluster)P_0).Close;
	}

	internal static long jl4ePMb200eebHOh1Jhi(object P_0)
	{
		return ((IRawCluster)P_0).Open;
	}

	internal static Rect uyr2p5b22wrjso4jikKc()
	{
		return Rect.Empty;
	}

	internal static object oaSHRub2HrMqxL9AssEx(int P_0)
	{
		return stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(P_0);
	}

	internal static object HbuJW6b2fBHLNDVIEhqp(object P_0)
	{
		return ((wFFFvWfsxErbxn4XFmrR)P_0).Theme;
	}

	internal static object CbhHWbb294joQCZgeCPm(object P_0)
	{
		return ((brG9LqfO0TVwbKGahwYo)P_0).PdffTSboMYU;
	}

	internal static txcFMSfQWmU5EhfAYOv0 Tssnc9b2nwaLrOLvCGYA(object P_0)
	{
		return ((SH4fZjfBgpnJAYxtUbu4)P_0).BarDeltaAlignment;
	}

	internal static Rect A5BYETb2GZ78LhRfi1ff(object P_0)
	{
		return ((ukuHfqfgiWj29gahLmhg)P_0).Border;
	}
}
