using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Runtime.CompilerServices;
using DEGmmAHIXxyvftfYe5Jt;
using DZ8ws5HrtD56d5qwpYRt;
using ECOEgqlSad8NUJZ2Dr9n;
using IvAJibHrQDBuJ8PasTPf;
using Newtonsoft.Json;
using Q1O0jf3dgjOpYkdqdXJ;
using TigerTrade.Tc.Data;
using TuAMtrl1Nd3XoZQQUXf0;
using zYgcaeHWLL0XCxA7unTL;

namespace JsnOJIHreiXfQ8id81fo;

internal abstract class vduSKBHrL9RmvEHOjVyQ
{
	[Serializable]
	[CompilerGenerated]
	private sealed class dNm8vbnwvsmvTDLivm1n
	{
		public static readonly dNm8vbnwvsmvTDLivm1n rVLnwaBRYNB;

		public static Func<IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek, long> S03nwi7NLGe;

		internal static dNm8vbnwvsmvTDLivm1n Cxh3FJNdixsmW1bPYNeX;

		static dNm8vbnwvsmvTDLivm1n()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
			skcqM1NdD4hO525Kl0lu();
			int num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_495802897f05476f875528905eba9a89 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			rVLnwaBRYNB = new dNm8vbnwvsmvTDLivm1n();
		}

		public dNm8vbnwvsmvTDLivm1n()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
		}

		internal long DlenwBvdBfg(IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek m)
		{
			return m.pdPnQN7LH00;
		}

		internal static void skcqM1NdD4hO525Kl0lu()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		}

		internal static bool CWtugbNdltHo3AQwTCmw()
		{
			return Cxh3FJNdixsmW1bPYNeX == null;
		}

		internal static dNm8vbnwvsmvTDLivm1n AyPMArNd4C3yKDhwQQpD()
		{
			return Cxh3FJNdixsmW1bPYNeX;
		}
	}

	private static readonly Dictionary<long, IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs> AqYHrjNvjwm;

	internal static vduSKBHrL9RmvEHOjVyQ QkPsrMDW3xN6vFIouYXA;

	public static byte[] uCAHrsLqjXO(string P_0, Symbol P_1, int P_2)
	{
		PP12D4DWznQuEpFd6swu(AqYHrjNvjwm);
		kRLu62HrEtbjLGZtss2t kRLu62HrEtbjLGZtss2t = JsonConvert.DeserializeObject<kRLu62HrEtbjLGZtss2t>(P_0);
		MZEHrcn9J6W((IEnumerable<oLGd5THrWRbWIbB9ywVL>)D4sW2eDt0aiqBk1RI32w(kRLu62HrEtbjLGZtss2t), P_1, P_2);
		MZEHrcn9J6W((IEnumerable<oLGd5THrWRbWIbB9ywVL>)HxUVOWDt2hUI2j2L4p8r(kRLu62HrEtbjLGZtss2t), P_1, P_2);
		return wdeHrXPqFZd();
	}

	private static byte[] wdeHrXPqFZd()
	{
		int num = 1;
		int num2 = num;
		MemoryStream memoryStream = default(MemoryStream);
		mk82XnHWxEd46AnvQ6fx mk82XnHWxEd46AnvQ6fx = default(mk82XnHWxEd46AnvQ6fx);
		while (true)
		{
			switch (num2)
			{
			case 1:
				memoryStream = new MemoryStream();
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_a8990374f0e04177b45918e3dd7a2d4b != 0)
				{
					num2 = 0;
				}
				break;
			case 3:
				return kVMHIrHIsg767m7Uj3RM.Compress(memoryStream.ToArray());
			case 2:
			{
				using (Dictionary<long, IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs>.Enumerator enumerator = AqYHrjNvjwm.GetEnumerator())
				{
					while (enumerator.MoveNext())
					{
						KeyValuePair<long, IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs> current;
						while (true)
						{
							current = enumerator.Current;
							mk82XnHWxEd46AnvQ6fx.lZ0HWeTpVXs(current.Key);
							ScR76eDtfbV828cjOXY4(mk82XnHWxEd46AnvQ6fx, current.Value.Time);
							int num3 = 0;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_8692846774e94af58ff2b2b243743e02 == 0)
							{
								num3 = 0;
							}
							while (true)
							{
								switch (num3)
								{
								default:
									mk82XnHWxEd46AnvQ6fx.AsGHWsoBxPB(iVkH7cDt9nTVEFoY5sUf(current.Value.Items));
									num3 = 1;
									if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_8a9257c2b61741afa02a8ceb1f69ad69 != 0)
									{
										num3 = 1;
									}
									continue;
								case 1:
									break;
								case 2:
									goto end_IL_00d8;
								}
								goto end_IL_0205;
								continue;
								end_IL_00d8:
								break;
							}
							continue;
							end_IL_0205:
							break;
						}
						foreach (IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek item in current.Value.Items)
						{
							mk82XnHWxEd46AnvQ6fx.SWIHWX91RAf(item);
						}
					}
				}
				goto case 3;
			}
			default:
				mk82XnHWxEd46AnvQ6fx = new mk82XnHWxEd46AnvQ6fx(memoryStream);
				if (AqYHrjNvjwm.Count == 0)
				{
					return null;
				}
				mk82XnHWxEd46AnvQ6fx.AsGHWsoBxPB(jxX6I4DtHky8RDMLEyUp(AqYHrjNvjwm));
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6b9913e777f24c1abc91fbc34d2bcc9c != 0)
				{
					num2 = 2;
				}
				break;
			}
		}
	}

	private static void MZEHrcn9J6W(IEnumerable<oLGd5THrWRbWIbB9ywVL> P_0, Symbol P_1, int P_2)
	{
		foreach (oLGd5THrWRbWIbB9ywVL item2 in P_0)
		{
			long num = ScaleValue(P_1.GetShortPrice(item2.Price), P_2);
			IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek item = new IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek
			{
				rqEnQbsmDSK = P_1.GetShortPrice(item2.Price),
				Volume = P_1.GetShortSize(item2.Volume),
				pdPnQN7LH00 = item2.JUqHrrucWFV
			};
			if (AqYHrjNvjwm.TryGetValue(num, out var value))
			{
				value.Items.Add(item);
				value.Time = value.Items.Min((IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek m) => m.pdPnQN7LH00);
			}
			else
			{
				IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs fRYg6WnQosHw7tyyquFs = new IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs(num)
				{
					Time = item2.JUqHrrucWFV
				};
				fRYg6WnQosHw7tyyquFs.Items.Add(item);
				AqYHrjNvjwm.Add(num, fRYg6WnQosHw7tyyquFs);
			}
		}
	}

	private static long ScaleValue(long value, int scale)
	{
		return (value + value % scale) / scale;
	}

	protected vduSKBHrL9RmvEHOjVyQ()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		base._002Ector();
	}

	static vduSKBHrL9RmvEHOjVyQ()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 1:
				WTW4ygDtn67M6HDW53mN();
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_eb223d2975554a51b6c4f9fa9a65a93d == 0)
				{
					num2 = 0;
				}
				break;
			default:
				bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
				AqYHrjNvjwm = new Dictionary<long, IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs>();
				return;
			}
		}
	}

	internal static void PP12D4DWznQuEpFd6swu(object P_0)
	{
		((Dictionary<long, IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs>)P_0).Clear();
	}

	internal static object D4sW2eDt0aiqBk1RI32w(object P_0)
	{
		return ((kRLu62HrEtbjLGZtss2t)P_0).YDpHrRGYCPY;
	}

	internal static object HxUVOWDt2hUI2j2L4p8r(object P_0)
	{
		return ((kRLu62HrEtbjLGZtss2t)P_0).MI2HrOXKBty;
	}

	internal static bool BEy54kDWpHJYtd5hTWmO()
	{
		return QkPsrMDW3xN6vFIouYXA == null;
	}

	internal static vduSKBHrL9RmvEHOjVyQ Uq2YbnDWuHYebClEk2ZP()
	{
		return QkPsrMDW3xN6vFIouYXA;
	}

	internal static int jxX6I4DtHky8RDMLEyUp(object P_0)
	{
		return ((Dictionary<long, IFiUWV3Q45rxorDJcns.FRYg6WnQosHw7tyyquFs>)P_0).Count;
	}

	internal static void ScR76eDtfbV828cjOXY4(object P_0, long P_1)
	{
		((mk82XnHWxEd46AnvQ6fx)P_0).lZ0HWeTpVXs(P_1);
	}

	internal static int iVkH7cDt9nTVEFoY5sUf(object P_0)
	{
		return ((List<IFiUWV3Q45rxorDJcns.oY4dSKnQDNSy5wBO7gek>)P_0).Count;
	}

	internal static void WTW4ygDtn67M6HDW53mN()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
	}
}
