using System;
using System.Collections;
using System.Diagnostics;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Threading;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Input;
using ECOEgqlSad8NUJZ2Dr9n;
using TigerTrade.UI.Controls.Notifications;
using TuAMtrl1Nd3XoZQQUXf0;
using wse3wd2zgF9O4VW2DUfZ;
using xfdMo0lS4TP9pN36Goka;

namespace pPZ03Y2znKG57UPi07VB;

internal sealed class mZWU7x2z9h5a5sD9qLAt : Control
{
	[CompilerGenerated]
	private sealed class bWBqZxnW2WfNDXwWB0At
	{
		public Action c8cnW9WvZTk;

		public Action QrtnWnj6GXJ;

		internal static bWBqZxnW2WfNDXwWB0At sxvespN5Dv03HLboD87g;

		public bWBqZxnW2WfNDXwWB0At()
		{
			H5AHBmN5k8M0oYH2FcQl();
			base._002Ector();
		}

		internal void oCOnWHJBi9V(object sender, MouseButtonEventArgs args)
		{
			int num = 1;
			int num2 = num;
			while (true)
			{
				switch (num2)
				{
				case 1:
					if (c8cnW9WvZTk == null)
					{
						return;
					}
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_dfd8fb340d494755970617a38d3a8729 == 0)
					{
						num2 = 0;
					}
					break;
				default:
					M17F8yN51yly29oIdg6u(c8cnW9WvZTk);
					(sender as Notification)?.Close();
					return;
				}
			}
		}

		internal void htvnWfMJllC(object sender, RoutedEventArgs args)
		{
			QrtnWnj6GXJ?.Invoke();
		}

		static bWBqZxnW2WfNDXwWB0At()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}

		internal static void H5AHBmN5k8M0oYH2FcQl()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		}

		internal static bool mGe6t7N5bwdt7I57ZL3x()
		{
			return sxvespN5Dv03HLboD87g == null;
		}

		internal static bWBqZxnW2WfNDXwWB0At Uw8GAlN5NumfMM4rD74V()
		{
			return sxvespN5Dv03HLboD87g;
		}

		internal static void M17F8yN51yly29oIdg6u(object P_0)
		{
			P_0();
		}
	}

	[Serializable]
	[CompilerGenerated]
	private sealed class VyXtignWGggmm98XFku7
	{
		public static readonly VyXtignWGggmm98XFku7 JbInWvwbLLJ;

		public static Func<Notification, bool> mConWBcyO7u;

		public static Func<Notification, bool> FTInWaLLHJE;

		internal static VyXtignWGggmm98XFku7 Nt0p0IN55BxpZfABfS5S;

		static VyXtignWGggmm98XFku7()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			int num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_e5e7b68e9e95482ab88a9b839c4d448c == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			JbInWvwbLLJ = new VyXtignWGggmm98XFku7();
		}

		public VyXtignWGggmm98XFku7()
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
		}

		internal bool OS9nWYIAEoe(Notification i)
		{
			return !ahZH89N5LOfb8enAkpPD(i);
		}

		internal bool PxMnWoygMOI(Notification i)
		{
			return !i.IsClosing;
		}

		internal static bool JMvPXbN5SOihTiP1ZLEf()
		{
			return Nt0p0IN55BxpZfABfS5S == null;
		}

		internal static VyXtignWGggmm98XFku7 IQF5PYN5xKbxgTv0SLus()
		{
			return Nt0p0IN55BxpZfABfS5S;
		}

		internal static bool ahZH89N5LOfb8enAkpPD(object P_0)
		{
			return ((Notification)P_0).IsClosing;
		}
	}

	[StructLayout(LayoutKind.Auto)]
	[CompilerGenerated]
	private struct UixoXgnWiCjMAX8TDxlq : IAsyncStateMachine
	{
		public int siQnWlE6q0B;

		public AsyncVoidMethodBuilder SWEnW42ooxo;

		public Action zeZnWDW4dvG;

		public Action cDhnWbKv16R;

		public object content;

		public mZWU7x2z9h5a5sD9qLAt LDsnWNfshLS;

		public TimeSpan vLvnWkVcel1;

		private Notification k4PnW1cgd49;

		private TaskAwaiter cpCnW5rTeVJ;

		private static object QnYLA3N5eGpQ0RxJ0rXQ;

		private void MoveNext()
		{
			int num = siQnWlE6q0B;
			mZWU7x2z9h5a5sD9qLAt mZWU7x2z9h5a5sD9qLAt2 = LDsnWNfshLS;
			try
			{
				int num3;
				if (num != 0)
				{
					int num2 = 4;
					num3 = num2;
					goto IL_0064;
				}
				goto IL_02fd;
				IL_02fd:
				TaskAwaiter awaiter = cpCnW5rTeVJ;
				cpCnW5rTeVJ = default(TaskAwaiter);
				num = (siQnWlE6q0B = -1);
				num3 = 8;
				goto IL_0064;
				IL_0064:
				IList cse2z4jaxoE = default(IList);
				bool lockTaken = default(bool);
				bWBqZxnW2WfNDXwWB0At bWBqZxnW2WfNDXwWB0At = default(bWBqZxnW2WfNDXwWB0At);
				Window window = default(Window);
				while (true)
				{
					switch (num3)
					{
					case 9:
						ni0kruN5E18aULFE9HKZ(k4PnW1cgd49);
						num3 = 1;
						if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_3cfcda862e0540cbb9abf65446a10635 == 0)
						{
							num3 = 1;
						}
						continue;
					case 10:
						goto end_IL_0064;
					case 7:
						num = (siQnWlE6q0B = 0);
						cpCnW5rTeVJ = awaiter;
						SWEnW42ooxo.AwaitUnsafeOnCompleted(ref awaiter, ref this);
						return;
					case 3:
						try
						{
							Monitor.Enter(cse2z4jaxoE, ref lockTaken);
							int num4 = 0;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_6b48af76ce0b4c779ac34c27953eddda == 0)
							{
								num4 = 0;
							}
							switch (num4)
							{
							default:
								mZWU7x2z9h5a5sD9qLAt2.cse2z4jaxoE.Add(k4PnW1cgd49);
								if (mZWU7x2z9h5a5sD9qLAt2.cse2z4jaxoE.OfType<Notification>().Count(VyXtignWGggmm98XFku7.JbInWvwbLLJ.OS9nWYIAEoe) > mZWU7x2z9h5a5sD9qLAt2.MaxItems)
								{
									ni0kruN5E18aULFE9HKZ(mZWU7x2z9h5a5sD9qLAt2.cse2z4jaxoE.OfType<Notification>().First(VyXtignWGggmm98XFku7.JbInWvwbLLJ.PxMnWoygMOI));
								}
								break;
							}
						}
						finally
						{
							if (num < 0 && lockTaken)
							{
								while (true)
								{
									Monitor.Exit(cse2z4jaxoE);
									int num5 = 0;
									if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_7d3c6a8bf09f4ec887f577858231a719 == 0)
									{
										num5 = 0;
									}
									switch (num5)
									{
									case 1:
										continue;
									case 0:
										break;
									}
									break;
								}
							}
						}
						if (vLvnWkVcel1 == TimeSpan.MaxValue)
						{
							goto end_IL_0064;
						}
						awaiter = Task.Delay(vLvnWkVcel1).GetAwaiter();
						if (!awaiter.IsCompleted)
						{
							num3 = 7;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_fa74d46e0c824e0b89c71deca0488611 != 0)
							{
								num3 = 3;
							}
							continue;
						}
						goto case 8;
					case 12:
						lockTaken = false;
						num3 = 3;
						continue;
					case 11:
						k4PnW1cgd49.MouseLeftButtonDown += bWBqZxnW2WfNDXwWB0At.oCOnWHJBi9V;
						wiVqx1N5cw8xpZUHESxy(k4PnW1cgd49, new RoutedEventHandler(bWBqZxnW2WfNDXwWB0At.htvnWfMJllC));
						k4PnW1cgd49.NotificationClosed += mZWU7x2z9h5a5sD9qLAt2.kNk2zYYqQNg;
						if (mZWU7x2z9h5a5sD9qLAt2.IsLoaded)
						{
							window = (Window)P8AFP9N5jxCKSwlUK33u(mZWU7x2z9h5a5sD9qLAt2);
							if (window == null)
							{
								goto end_IL_0064;
							}
							goto default;
						}
						num3 = 10;
						continue;
					case 6:
						break;
					case 5:
						cse2z4jaxoE = mZWU7x2z9h5a5sD9qLAt2.cse2z4jaxoE;
						num3 = 12;
						continue;
					case 2:
						goto end_IL_0064;
					default:
						if (PresentationSource.FromVisual(window) == null)
						{
							num3 = 2;
							continue;
						}
						goto case 5;
					case 8:
						awaiter.GetResult();
						num3 = 9;
						if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_152544ed8bd2470d8638a522e4a24d02 == 0)
						{
							num3 = 6;
						}
						continue;
					case 4:
						bWBqZxnW2WfNDXwWB0At = new bWBqZxnW2WfNDXwWB0At
						{
							c8cnW9WvZTk = zeZnWDW4dvG,
							QrtnWnj6GXJ = cDhnWbKv16R
						};
						k4PnW1cgd49 = new Notification
						{
							Content = content
						};
						num3 = 11;
						continue;
					case 1:
						goto end_IL_0064;
					}
					goto IL_02fd;
					continue;
					end_IL_0064:
					break;
				}
			}
			catch (Exception exception)
			{
				siQnWlE6q0B = -2;
				k4PnW1cgd49 = null;
				SWEnW42ooxo.SetException(exception);
				int num6 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_fa74d46e0c824e0b89c71deca0488611 == 0)
				{
					num6 = 0;
				}
				switch (num6)
				{
				case 0:
					break;
				}
				return;
			}
			siQnWlE6q0B = -2;
			int num7 = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_3023bd6c0f7846878513499bf5c36161 == 0)
			{
				num7 = 1;
			}
			while (true)
			{
				switch (num7)
				{
				default:
					return;
				case 1:
					k4PnW1cgd49 = null;
					SWEnW42ooxo.SetResult();
					num7 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ebf7ae5938c3406ea71c3b7147ea041c == 0)
					{
						num7 = 0;
					}
					break;
				case 0:
					return;
				}
			}
		}

		void IAsyncStateMachine.MoveNext()
		{
			//ILSpy generated this explicit interface implementation from .override directive in MoveNext
			this.MoveNext();
		}

		[DebuggerHidden]
		private void SetStateMachine(IAsyncStateMachine stateMachine)
		{
			SWEnW42ooxo.SetStateMachine(stateMachine);
		}

		void IAsyncStateMachine.SetStateMachine(IAsyncStateMachine stateMachine)
		{
			//ILSpy generated this explicit interface implementation from .override directive in SetStateMachine
			this.SetStateMachine(stateMachine);
		}

		static UixoXgnWiCjMAX8TDxlq()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}

		internal static void wiVqx1N5cw8xpZUHESxy(object P_0, object P_1)
		{
			((Notification)P_0).NotificationClosed += (RoutedEventHandler)P_1;
		}

		internal static object P8AFP9N5jxCKSwlUK33u(object P_0)
		{
			return Window.GetWindow((DependencyObject)P_0);
		}

		internal static void ni0kruN5E18aULFE9HKZ(object P_0)
		{
			((Notification)P_0).Close();
		}

		internal static bool xy5yREN5sircRMugbpIE()
		{
			return QnYLA3N5eGpQ0RxJ0rXQ == null;
		}

		internal static object uExTnxN5XciMMZIqVLYL()
		{
			return QnYLA3N5eGpQ0RxJ0rXQ;
		}
	}

	public static readonly DependencyProperty ASh2ziAtoSL;

	public static readonly DependencyProperty wMa2zl82omG;

	private IList cse2z4jaxoE;

	internal static mZWU7x2z9h5a5sD9qLAt UKI7XBDB5xAx5ethkIdJ;

	public NotificationPosition Position
	{
		get
		{
			return (NotificationPosition)GetValue(ASh2ziAtoSL);
		}
		set
		{
			s5PDQfDBLTyU3QohEjEP(this, ASh2ziAtoSL, notificationPosition);
		}
	}

	public int MaxItems
	{
		get
		{
			return (int)GetValue(wMa2zl82omG);
		}
		set
		{
			SetValue(wMa2zl82omG, num);
		}
	}

	public mZWU7x2z9h5a5sD9qLAt()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		base._002Ector();
		K6lE4P2zdkKlpKsuOtJY.MJB2zMMpNMY(this);
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_8b8f48487ce54157a86b0385feea16a6 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	static mZWU7x2z9h5a5sD9qLAt()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 1:
				JoRURtDBekB7jFt9f0OV();
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_fb3e1155cc384cc2a7c812423a76ea76 == 0)
				{
					num2 = 0;
				}
				continue;
			case 2:
				wMa2zl82omG = DependencyProperty.Register((string)Ap83wqDBj1qZZJSt9b9P(--855742383 ^ 0x33016B3F), Tw1jbhDBcEHFNYCqg8Si(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(16777220)), Tw1jbhDBcEHFNYCqg8Si(zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(33555181)), new PropertyMetadata(int.MaxValue));
				FrameworkElement.DefaultStyleKeyProperty.OverrideMetadata(Type.GetTypeFromHandle(entnj6DBXl9KGeXDuTKG(33555181)), new FrameworkPropertyMetadata(Tw1jbhDBcEHFNYCqg8Si(entnj6DBXl9KGeXDuTKG(33555181))));
				return;
			}
			PqImrZDBsZQQMqfbqawQ();
			ASh2ziAtoSL = DependencyProperty.Register(stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(0x6E2DFBED ^ 0x6E2D0791), Type.GetTypeFromHandle(entnj6DBXl9KGeXDuTKG(33555185)), Tw1jbhDBcEHFNYCqg8Si(entnj6DBXl9KGeXDuTKG(33555181)), new PropertyMetadata(NotificationPosition.BottomRight));
			num2 = 2;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_0fb8c8dbf8424ce68f439b7b66291a33 == 0)
			{
				num2 = 0;
			}
		}
	}

	public override void OnApplyTemplate()
	{
		base.OnApplyTemplate();
		cse2z4jaxoE = (GetTemplateChild(stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(0x130FEA25 ^ 0x130F1681)) as Panel)?.Children;
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_a9d70160736846b58381afc3c46699f2 != 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	[AsyncStateMachine(typeof(UixoXgnWiCjMAX8TDxlq))]
	public void xZ42zGroeUV(object P_0, TimeSpan P_1, Action P_2, Action P_3)
	{
		UixoXgnWiCjMAX8TDxlq stateMachine = default(UixoXgnWiCjMAX8TDxlq);
		stateMachine.SWEnW42ooxo = PTNkioDBEjuxsxdAYXZg();
		stateMachine.LDsnWNfshLS = this;
		stateMachine.content = P_0;
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_3023bd6c0f7846878513499bf5c36161 == 0)
		{
			num = 0;
		}
		while (true)
		{
			switch (num)
			{
			case 2:
				stateMachine.SWEnW42ooxo.Start(ref stateMachine);
				return;
			default:
				stateMachine.vLvnWkVcel1 = P_1;
				stateMachine.zeZnWDW4dvG = P_2;
				num = 1;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_cab5688e7a6f4724836f4be9e8087801 == 0)
				{
					num = 1;
				}
				break;
			case 1:
				stateMachine.cDhnWbKv16R = P_3;
				stateMachine.siQnWlE6q0B = -1;
				num = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_f6b8a9ae320a40f994b0db08d42c2a95 == 0)
				{
					num = 2;
				}
				break;
			}
		}
	}

	private void kNk2zYYqQNg(object P_0, RoutedEventArgs P_1)
	{
		Notification value = P_0 as Notification;
		cse2z4jaxoE.Remove(value);
	}

	internal static bool LpqCgODBS1G2tVpYRDWJ()
	{
		return UKI7XBDB5xAx5ethkIdJ == null;
	}

	internal static mZWU7x2z9h5a5sD9qLAt qhSmKRDBxEU478t8KZK6()
	{
		return UKI7XBDB5xAx5ethkIdJ;
	}

	internal static void s5PDQfDBLTyU3QohEjEP(object P_0, object P_1, object P_2)
	{
		((DependencyObject)P_0).SetValue((DependencyProperty)P_1, P_2);
	}

	internal static void JoRURtDBekB7jFt9f0OV()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
	}

	internal static void PqImrZDBsZQQMqfbqawQ()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
	}

	internal static RuntimeTypeHandle entnj6DBXl9KGeXDuTKG(int token)
	{
		return zmbXKdlSl1GXTTR8sFYK.OQfNhKXFGPG(token);
	}

	internal static Type Tw1jbhDBcEHFNYCqg8Si(RuntimeTypeHandle P_0)
	{
		return Type.GetTypeFromHandle(P_0);
	}

	internal static object Ap83wqDBj1qZZJSt9b9P(int P_0)
	{
		return stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(P_0);
	}

	internal static AsyncVoidMethodBuilder PTNkioDBEjuxsxdAYXZg()
	{
		return AsyncVoidMethodBuilder.Create();
	}
}
