using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using aEpmU09nz6MEoNmc0pGJ;
using aeXChk9vAhkf7Zm8SpOk;
using ECOEgqlSad8NUJZ2Dr9n;
using g30OaY2q1xL3L3DCMU4V;
using LKPssPfwOEBXRql5l3eT;
using NsWD4W9miMxRbFU3fsu9;
using o1srKL9PWRC5v3sURMga;
using ocMo2C2OFi7RLs2TMtAp;
using pu8i3x2qxWou7Y2yhIuQ;
using RBvOtL95lF87NRsRCdHA;
using TigerTrade.Tc.Data;
using TuAMtrl1Nd3XoZQQUXf0;

namespace k2djPS9h3aXysXOe0uK1;

internal sealed class CoPfjK9hF3ASs5TbM8OK
{
	private static readonly List<ExitStrategyTarget> jcL97fEYp36;

	[CompilerGenerated]
	private UserPosition X05979VXjtO;

	private bool vGr97nlh35r;

	private DateTime EMc97G0cjPx;

	[CompilerGenerated]
	private long Ocq97YKBsuD;

	[CompilerGenerated]
	private long Cvq97oq7Gj9;

	[CompilerGenerated]
	private double qE297vvip7q;

	[CompilerGenerated]
	private double VXH97BkaApt;

	[CompilerGenerated]
	private Side zfI97aKkOGI;

	[CompilerGenerated]
	private Side SH697iHOWJE;

	private long kTC97lIS6el;

	private long X4r974vf93F;

	[CompilerGenerated]
	private long iaF97D5mAx3;

	internal static CoPfjK9hF3ASs5TbM8OK aDaprIbVSuFMykMd5VZQ;

	public long PositionPrice => XlV9wd4ELTW()?.Price ?? 0;

	public long PositionSize => XlV9wd4ELTW()?.Size ?? 0;

	public long PositionPnl => XlV9wd4ELTW()?.PositionPnl ?? 0;

	public long TotalBids
	{
		[CompilerGenerated]
		get
		{
			return Ocq97YKBsuD;
		}
		[CompilerGenerated]
		set
		{
			Ocq97YKBsuD = ocq97YKBsuD;
		}
	}

	public long TotalAsks
	{
		[CompilerGenerated]
		get
		{
			return Cvq97oq7Gj9;
		}
		[CompilerGenerated]
		set
		{
			Cvq97oq7Gj9 = cvq97oq7Gj;
		}
	}

	public long LastSize
	{
		[CompilerGenerated]
		get
		{
			return iaF97D5mAx3;
		}
		[CompilerGenerated]
		set
		{
			iaF97D5mAx3 = num;
		}
	}

	[SpecialName]
	[CompilerGenerated]
	public UserPosition XlV9wd4ELTW()
	{
		return X05979VXjtO;
	}

	[SpecialName]
	[CompilerGenerated]
	private void lrD9wgpvihO(UserPosition P_0)
	{
		X05979VXjtO = P_0;
	}

	[SpecialName]
	public double Ped9wOBGUxv()
	{
		return AHH9wE1rBcp();
	}

	[SpecialName]
	[CompilerGenerated]
	public double wi79wyoPAc5()
	{
		return qE297vvip7q;
	}

	[SpecialName]
	[CompilerGenerated]
	public void E9d9wZH1dpv(double P_0)
	{
		qE297vvip7q = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public double n1p9wC5SR3U()
	{
		return VXH97BkaApt;
	}

	[SpecialName]
	[CompilerGenerated]
	public void z2Y9wr0Cf1n(double P_0)
	{
		VXH97BkaApt = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public Side n2w9wmQBJPf()
	{
		return zfI97aKkOGI;
	}

	[SpecialName]
	[CompilerGenerated]
	public void Ntg9whO8Xh5(Side P_0)
	{
		zfI97aKkOGI = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public Side TNi9w7nq0W8()
	{
		return SH697iHOWJE;
	}

	[SpecialName]
	[CompilerGenerated]
	public void kYa9w8qI9xw(Side P_0)
	{
		SH697iHOWJE = P_0;
	}

	public double tGl9hpIe8TH()
	{
		UserPosition userPosition = XlV9wd4ELTW();
		if (userPosition == null)
		{
			return 0.0;
		}
		return vgnNKcbVeIUJlyMrwQyk(userPosition);
	}

	public double feu9hujfosb(long P_0)
	{
		return XlV9wd4ELTW()?.GetPointsPnl(P_0) ?? 0.0;
	}

	public double c269hz5o3FS()
	{
		return XlV9wd4ELTW()?.GetMoneyPnl() ?? 0.0;
	}

	public double s509w0WvxTO(long P_0)
	{
		return XlV9wd4ELTW()?.GetMoneyPnl(P_0) ?? 0.0;
	}

	public double TnZ9w2RaVbF()
	{
		return XlV9wd4ELTW()?.GetPercentPnl() ?? 0.0;
	}

	public double s2W9wHAIDmd(long P_0)
	{
		return XlV9wd4ELTW()?.GetPercentPnl(P_0) ?? 0.0;
	}

	[SpecialName]
	public long d919wPySHGR()
	{
		return kTC97lIS6el;
	}

	[SpecialName]
	public void jPs9wJ1xvmD(long P_0)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				return;
			case 0:
				return;
			case 1:
				if (kTC97lIS6el != P_0)
				{
					kTC97lIS6el = P_0;
					vGr97nlh35r = true;
					return;
				}
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_f40a817752724303a7406a720886b183 != 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	[SpecialName]
	public long mfq9w3ApRCG()
	{
		return X4r974vf93F;
	}

	[SpecialName]
	public void RMg9wpA6CUj(long P_0)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				return;
			case 1:
				if (X4r974vf93F == P_0)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ba87d68105604f98a891a0549ef4b7f9 == 0)
					{
						num2 = 0;
					}
					break;
				}
				X4r974vf93F = P_0;
				vGr97nlh35r = true;
				return;
			case 0:
				return;
			}
		}
	}

	public CoPfjK9hF3ASs5TbM8OK()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		base._002Ector();
	}

	public void Gat9wfU5hCb(UserPosition P_0, bool P_1 = false)
	{
		int num = 2;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				return;
			case 0:
				return;
			case 2:
				if (XlV9wd4ELTW() != P_0)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_8a9257c2b61741afa02a8ceb1f69ad69 != 0)
					{
						num2 = 1;
					}
					continue;
				}
				break;
			case 1:
				lrD9wgpvihO(P_0);
				if (!P_1)
				{
					LastSize = ((P_0 != null) ? uraOv2bVs2NLoQmwT4Wx(P_0) : 0);
				}
				break;
			}
			vGr97nlh35r = true;
			num2 = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_03c20a54a7dc45f8a5130d4984fa4aea == 0)
			{
				num2 = 0;
			}
		}
	}

	public void fQm9w98FDov(ypqMIv9maFM0tRwF0xMh P_0, ruI5XW2OJpKMlnG7xFDS P_1, int? P_2, double? P_3, int? P_4, double? P_5, bool P_6)
	{
		RMg9wpA6CUj(0L);
		jPs9wJ1xvmD(0L);
		if (XlV9wd4ELTW() == null)
		{
			return;
		}
		ExitStrategy exitStrategy = new ExitStrategy();
		foreach (qfL3oI2qS67RcmXFC7LV item in P_1.j432qaUATBv)
		{
			ExitStrategyTarget exitStrategyTarget = new ExitStrategyTarget
			{
				Quantity = XlV9wd4ELTW().Symbol.GetShortSize((double)item.Quantity)
			};
			long num = tvi9w4AODk5(P_0, item.TakeProfitSize, item.vfg2IHeCi5h, item.Ueu2qz9exDH);
			if (item.wTp2qEQgsb3 && num > 0)
			{
				exitStrategyTarget.TakeProfitStopActive = false;
				exitStrategyTarget.TakeProfitPrice = ((PositionSize > 0) ? (PositionPrice + num) : (PositionPrice - num));
				if (item.soh2q6jt0yi)
				{
					long takeProfitRange = tvi9w4AODk5(P_0, item.csw2qqPbHuC, item.a7U2IoHZ0HI, item.uFa2InO8QEu);
					exitStrategyTarget.TakeProfitRange = takeProfitRange;
				}
				else
				{
					exitStrategyTarget.TakeProfitRange = 0L;
				}
				int? offset = XlV9wd4ELTW().Symbol.GetOffset(P_2, P_3, exitStrategyTarget.TakeProfitPrice, P_6);
				exitStrategyTarget.TakeProfitOffset = offset;
			}
			long num2 = tvi9w4AODk5(P_0, item.StopLossSize, item.Fi32Il3vvUY, item.StopLossValueType);
			if (item.uZ82qtGpqay && num2 > 0)
			{
				exitStrategyTarget.StopLossPrice = ((PositionSize > 0) ? (PositionPrice - num2) : (PositionPrice + num2));
				if (item.HQJ2qVGg4w4)
				{
					long stopLossTrailingRange = tvi9w4AODk5(P_0, item.DO02qKjTSE2, item.Uqr2I1BGcDL, item.Ekt2IbSNbp7);
					long stopLossTrailingStep = tvi9w4AODk5(P_0, item.StopLossTrailingStep, item.US02Is5KhM7, item.zx32IxMQW5N);
					exitStrategyTarget.StopLossTrailingRange = stopLossTrailingRange;
					exitStrategyTarget.StopLossTrailingStep = stopLossTrailingStep;
				}
				else
				{
					exitStrategyTarget.StopLossTrailingRange = 0L;
					exitStrategyTarget.StopLossTrailingStep = 0L;
				}
				if (item.dpG2q8Tdq3Q && (item.hYW2qJK2vSk > 0m || item.tQC2IdfvOK1 > 0m))
				{
					long stopLossBreakevenProfit = tvi9w4AODk5(P_0, item.hYW2qJK2vSk, item.tQC2IdfvOK1, item.iti2IjKpxAC);
					long stopLossBreakevenPlus = tvi9w4AODk5(P_0, item.StopLossBreakevenPlus, item.L0r2IqWp0vj, item.iti2IjKpxAC);
					exitStrategyTarget.StopLossBreakevenProfit = stopLossBreakevenProfit;
					exitStrategyTarget.StopLossBreakevenPlus = stopLossBreakevenPlus;
				}
				else
				{
					exitStrategyTarget.StopLossBreakevenProfit = 0L;
					exitStrategyTarget.StopLossBreakevenPlus = 0L;
				}
				int? offset2 = XlV9wd4ELTW().Symbol.GetOffset(P_4, P_5, exitStrategyTarget.StopLossPrice, P_6);
				exitStrategyTarget.StopLossOffset = offset2;
			}
			exitStrategy.Targets.Add(exitStrategyTarget);
		}
		if (!XlV9wd4ELTW().Equals(exitStrategy))
		{
			XlV9wd4ELTW().InitStrategy(exitStrategy);
		}
	}

	public void ClearExitStrategy(bool isClosePosition = false)
	{
		UserPosition userPosition = XlV9wd4ELTW();
		if (userPosition != null)
		{
			((ExitStrategy)en4DNqbVXdQ0R8TJYA6P(userPosition)).Clear(isClosePosition);
		}
	}

	public bool FKk9wnu6Wwq(ypqMIv9maFM0tRwF0xMh P_0, int? P_1, double? P_2, int? P_3, double? P_4, bool P_5, int? P_6, double? P_7, bool P_8)
	{
		if ((P_5 && P_2.GetValueOrDefault() == 0.0) || (!P_5 && P_1.GetValueOrDefault() == 0))
		{
			return false;
		}
		ExitStrategyTarget exitStrategyTarget = XlV9wd4ELTW()?.Strategy.GetStrategySingleTarget(create: true);
		if (exitStrategyTarget == null)
		{
			return false;
		}
		long num = FHS9wDT4uNe(P_0, P_1.GetValueOrDefault(), P_2.GetValueOrDefault(), P_5);
		if (num <= 0)
		{
			return false;
		}
		exitStrategyTarget.StopLossPrice = ((PositionSize > 0) ? (PositionPrice - num) : (PositionPrice + num));
		exitStrategyTarget.StopLossTrailingRange = FHS9wDT4uNe(P_0, P_3.GetValueOrDefault(), P_4.GetValueOrDefault(), P_5);
		exitStrategyTarget.StopLossTrailingStep = 0L;
		exitStrategyTarget.StopLossOffset = XlV9wd4ELTW().Symbol.GetOffset(P_6, P_7, exitStrategyTarget.StopLossPrice, P_8);
		jPs9wJ1xvmD(0L);
		RMg9wpA6CUj(0L);
		return true;
	}

	public void vSd9wGOThIr(ypqMIv9maFM0tRwF0xMh P_0, long P_1, int? P_2, out string P_3)
	{
		P_3 = null;
		ExitStrategyTarget exitStrategyTarget = XlV9wd4ELTW()?.Strategy.GetStrategySingleTarget(create: true);
		if (exitStrategyTarget != null)
		{
			P_3 = exitStrategyTarget.ID;
			if (exitStrategyTarget.StopLossPrice == P_1)
			{
				exitStrategyTarget.ClearSl();
			}
			else
			{
				exitStrategyTarget.ClearSl();
				exitStrategyTarget.StopLossPrice = P_1;
				exitStrategyTarget.StopLossOffset = P_2 * P_0.UJElnHayjot;
			}
			jPs9wJ1xvmD(0L);
			RMg9wpA6CUj(0L);
		}
	}

	public void Dy59wYpU9Vv(ypqMIv9maFM0tRwF0xMh P_0, long P_1, int? P_2, out string P_3)
	{
		P_3 = null;
		ExitStrategyTarget exitStrategyTarget = XlV9wd4ELTW()?.Strategy.GetStrategySingleTarget(create: true);
		if (exitStrategyTarget != null)
		{
			P_3 = exitStrategyTarget.ID;
			exitStrategyTarget.StopLossPrice = P_1;
			exitStrategyTarget.StopLossOffset = P_2 * P_0.UJElnHayjot;
			jPs9wJ1xvmD(0L);
			RMg9wpA6CUj(0L);
		}
	}

	public long DpC9wohC5NG(ExitStrategyTarget P_0, long P_1)
	{
		long result = -1L;
		int num;
		if (P_0.StopLossTrailingRange > 0)
		{
			if (P_1 <= 0)
			{
				result = P_0.StopLossPrice - P_0.StopLossTrailingRange;
				goto IL_00a2;
			}
			result = P_0.StopLossPrice + P_0.StopLossTrailingRange;
			num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ba87d68105604f98a891a0549ef4b7f9 == 0)
			{
				num = 0;
			}
		}
		else
		{
			num = 1;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_5b6218c32bbf4af5965485469fa12538 == 0)
			{
				num = 1;
			}
		}
		switch (num)
		{
		case 1:
			return result;
		}
		goto IL_00a2;
		IL_00a2:
		return result;
	}

	public void nUa9wvxIwoV()
	{
		int num = 2;
		int num2 = num;
		while (true)
		{
			object obj;
			switch (num2)
			{
			case 2:
			{
				UserPosition userPosition = XlV9wd4ELTW();
				if (userPosition == null)
				{
					num2 = 1;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1c0cedb54d2b44a7af3d63420e8a1767 == 0)
					{
						num2 = 1;
					}
					break;
				}
				obj = userPosition.Strategy.GetStrategySingleTarget(create: false);
				goto IL_007a;
			}
			default:
				jPs9wJ1xvmD(0L);
				vGr97nlh35r = true;
				return;
			case 1:
				{
					obj = null;
					goto IL_007a;
				}
				IL_007a:
				if (obj == null)
				{
					goto default;
				}
				((ExitStrategyTarget)obj).ClearSl();
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ebf7ae5938c3406ea71c3b7147ea041c != 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	public bool Dww9wBNheQd(long P_0)
	{
		int num = 1;
		int num2 = num;
		ExitStrategyTarget exitStrategyTarget = default(ExitStrategyTarget);
		while (true)
		{
			object obj;
			switch (num2)
			{
			case 2:
				if (exitStrategyTarget != null)
				{
					num2 = 2;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_d9af442440454effa9efd8da8e33ec96 != 0)
					{
						num2 = 3;
					}
					continue;
				}
				goto IL_00a1;
			case 3:
				if (exitStrategyTarget.StopLossPrice != P_0)
				{
					goto IL_00a1;
				}
				exitStrategyTarget.ClearSl();
				jPs9wJ1xvmD(0L);
				vGr97nlh35r = true;
				return true;
			case 1:
			{
				UserPosition userPosition = XlV9wd4ELTW();
				if (userPosition == null)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_f3775e6a3cb04c0998106e46ff04d8ab != 0)
					{
						num2 = 0;
					}
					continue;
				}
				obj = ((ExitStrategy)en4DNqbVXdQ0R8TJYA6P(userPosition)).GetStrategySingleTarget(create: false);
				break;
			}
			default:
				{
					obj = null;
					break;
				}
				IL_00a1:
				return false;
			}
			exitStrategyTarget = (ExitStrategyTarget)obj;
			num2 = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_43d123ebfe574af38268397bb0ae2d1a != 0)
			{
				num2 = 2;
			}
		}
	}

	public void JXC9wangJGu(string P_0)
	{
		ExitStrategyTarget exitStrategyTarget = p8w9wjM6R5l(P_0);
		if (exitStrategyTarget != null)
		{
			qCN4JsbVcpPpXVyn2Rgr(exitStrategyTarget);
		}
		jPs9wJ1xvmD(0L);
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_a337f255b1bd4e8290c28001e28630dc != 0)
		{
			num = 0;
		}
		switch (num)
		{
		}
		vGr97nlh35r = true;
	}

	public void lmN9wikYIoZ(string P_0)
	{
		ExitStrategyTarget exitStrategyTarget = p8w9wjM6R5l(P_0);
		if (exitStrategyTarget != null)
		{
			F1loYSbVjICMS3k37dtW(exitStrategyTarget);
			int num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_2264c03640a14c8f930261fd70e85d60 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
		}
		vGr97nlh35r = true;
	}

	public bool IH09wlBiQOi(ypqMIv9maFM0tRwF0xMh P_0, int? P_1, double? P_2, int? P_3, double? P_4, bool P_5, int? P_6, double? P_7, bool P_8)
	{
		if ((P_5 && P_2.GetValueOrDefault() == 0.0) || (!P_5 && P_1.GetValueOrDefault() == 0))
		{
			return false;
		}
		ExitStrategyTarget exitStrategyTarget = XlV9wd4ELTW()?.Strategy.GetStrategySingleTarget(create: true);
		if (exitStrategyTarget == null)
		{
			return false;
		}
		long num = FHS9wDT4uNe(P_0, P_1.GetValueOrDefault(), P_2.GetValueOrDefault(), P_5);
		if (num <= 0)
		{
			return false;
		}
		exitStrategyTarget.TakeProfitStopActive = false;
		exitStrategyTarget.TakeProfitPrice = ((PositionSize > 0) ? (PositionPrice + num) : (PositionPrice - num));
		exitStrategyTarget.TakeProfitRange = FHS9wDT4uNe(P_0, P_3.GetValueOrDefault(), P_4.GetValueOrDefault(), P_5);
		exitStrategyTarget.TakeProfitOffset = XlV9wd4ELTW().Symbol.GetOffset(P_6, P_7, exitStrategyTarget.TakeProfitPrice, P_8);
		RMg9wpA6CUj(0L);
		jPs9wJ1xvmD(0L);
		return true;
	}

	private long tvi9w4AODk5(ypqMIv9maFM0tRwF0xMh P_0, decimal P_1, decimal P_2, Gj4CGR2qkJAGuEwyLmy3 P_3)
	{
		return FHS9wDT4uNe(P_0, (double)P_1, bSVPlmbVEGoVTEtPnABT(P_2), P_3 == Gj4CGR2qkJAGuEwyLmy3.LqT2q5FrRGf);
	}

	private long FHS9wDT4uNe(ypqMIv9maFM0tRwF0xMh P_0, double P_1, double P_2, bool P_3)
	{
		if (P_3)
		{
			double step = P_0.Step;
			return (long)(Math.Round((double)(((kjc7Gl9PIEfKaxcEBwuk)rPPUDxbVQA9E2neIOVL5(P_0)).LastPrice * P_0.UJElnHayjot) * P_2 / step / 100.0, MidpointRounding.AwayFromZero) * step);
		}
		return (long)P_1 * JhpNkLbVdFDO2BBhgo6O(P_0);
	}

	public void CVV9wbh6HZA(ypqMIv9maFM0tRwF0xMh P_0, long P_1, int? P_2, out string P_3)
	{
		P_3 = null;
		ExitStrategyTarget exitStrategyTarget = XlV9wd4ELTW()?.Strategy.GetStrategySingleTarget(create: true);
		if (exitStrategyTarget != null)
		{
			P_3 = exitStrategyTarget.ID;
			if (exitStrategyTarget.TakeProfitPrice == P_1)
			{
				exitStrategyTarget.ClearTp();
			}
			else
			{
				exitStrategyTarget.ClearTp();
				exitStrategyTarget.TakeProfitStopActive = false;
				exitStrategyTarget.TakeProfitPrice = P_1;
				exitStrategyTarget.TakeProfitOffset = P_2 * P_0.UJElnHayjot;
			}
			RMg9wpA6CUj(0L);
			jPs9wJ1xvmD(0L);
		}
	}

	public void U1s9wNKsKAb(ypqMIv9maFM0tRwF0xMh P_0, long P_1, int? P_2, out string P_3)
	{
		P_3 = null;
		ExitStrategyTarget exitStrategyTarget = XlV9wd4ELTW()?.Strategy.GetStrategySingleTarget(create: true);
		if (exitStrategyTarget != null)
		{
			P_3 = exitStrategyTarget.ID;
			exitStrategyTarget.TakeProfitStopActive = false;
			exitStrategyTarget.TakeProfitPrice = P_1;
			exitStrategyTarget.TakeProfitOffset = P_2 * P_0.UJElnHayjot;
			RMg9wpA6CUj(0L);
			jPs9wJ1xvmD(0L);
		}
	}

	public long cQ69wk1PEls(ExitStrategyTarget P_0, long P_1)
	{
		long result = -1L;
		if (aMpFrFbVgyOc4k8Ra4qc(P_0) <= 0)
		{
			return result;
		}
		int num;
		if (P_1 > 0)
		{
			result = P_0.TakeProfitPrice - P_0.TakeProfitRange;
			num = 1;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_aab13e7d663746898a6666b7303ea6c2 == 0)
			{
				num = 1;
			}
		}
		else
		{
			result = P_0.TakeProfitPrice + aMpFrFbVgyOc4k8Ra4qc(P_0);
			num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_a9d70160736846b58381afc3c46699f2 == 0)
			{
				num = 0;
			}
		}
		return num switch
		{
			_ => result, 
		};
	}

	public void Xmc9w1pffIA()
	{
		UserPosition userPosition = XlV9wd4ELTW();
		ExitStrategyTarget obj = ((userPosition != null) ? ((ExitStrategy)en4DNqbVXdQ0R8TJYA6P(userPosition)).GetStrategySingleTarget(create: false) : null);
		int num;
		if (obj == null)
		{
			num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_409738fae61f4f058345c98b7cfbcbac == 0)
			{
				num = 0;
			}
			goto IL_0009;
		}
		obj.ClearTp();
		goto IL_001b;
		IL_001b:
		RMg9wpA6CUj(0L);
		vGr97nlh35r = true;
		num = 1;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_8a9257c2b61741afa02a8ceb1f69ad69 != 0)
		{
			num = 1;
		}
		goto IL_0009;
		IL_0009:
		switch (num)
		{
		case 1:
			return;
		}
		goto IL_001b;
	}

	public bool Le39w5yjwNE(long P_0)
	{
		UserPosition userPosition = XlV9wd4ELTW();
		ExitStrategyTarget exitStrategyTarget = (ExitStrategyTarget)((userPosition != null) ? rhl6GhbVRgjeLGLFtHPR(userPosition.Strategy, false) : null);
		if (exitStrategyTarget != null)
		{
			int num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1c0cedb54d2b44a7af3d63420e8a1767 == 0)
			{
				num = 0;
			}
			while (true)
			{
				switch (num)
				{
				case 2:
					vGr97nlh35r = true;
					return true;
				case 1:
					RMg9wpA6CUj(0L);
					num = 2;
					continue;
				}
				if (exitStrategyTarget.TakeProfitPrice != P_0)
				{
					break;
				}
				exitStrategyTarget.ClearTp();
				num = 1;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1db4437ae4614880b2ad46efdc78cb73 != 0)
				{
					num = 1;
				}
			}
		}
		return false;
	}

	public void AIQ9wS1kwA3(string P_0)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 1:
			{
				ExitStrategyTarget exitStrategyTarget = p8w9wjM6R5l(P_0);
				if (exitStrategyTarget == null)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1693d43c67f14e0eba9f86b0171ecbd6 != 0)
					{
						num2 = 0;
					}
					continue;
				}
				exitStrategyTarget.ClearTp();
				break;
			}
			}
			break;
		}
		RMg9wpA6CUj(0L);
		vGr97nlh35r = true;
	}

	public void ER99wxMcNWb(string P_0)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				vGr97nlh35r = true;
				return;
			case 1:
			{
				ExitStrategyTarget exitStrategyTarget = p8w9wjM6R5l(P_0);
				if (exitStrategyTarget == null)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_2e936b892f094d0a971af950fe8f46f7 != 0)
					{
						num2 = 0;
					}
					break;
				}
				e22R6hbV6t2JfrXfe5aO(exitStrategyTarget);
				goto default;
			}
			}
		}
	}

	public bool Ry49wLUnItu()
	{
		if (!vGr97nlh35r)
		{
			return false;
		}
		vGr97nlh35r = false;
		return true;
	}

	public bool LTj9weXWeuC()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 2:
				return vGr97nlh35r;
			case 1:
				if (XlV9wd4ELTW() != null)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_2088b9a28522490e83dc44062c40a7c0 != 0)
					{
						num2 = 0;
					}
					break;
				}
				goto case 2;
			default:
			{
				DateTime updateTime = XlV9wd4ELTW().Strategy.GetUpdateTime();
				if (updateTime != EMc97G0cjPx)
				{
					EMc97G0cjPx = updateTime;
					vGr97nlh35r = true;
					num2 = 2;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ff2c70a81f2141b98b88fc10875a3726 == 0)
					{
						num2 = 2;
					}
					break;
				}
				goto case 2;
			}
			}
		}
	}

	[SpecialName]
	public bool akC972bwA9b()
	{
		if (XlV9wd4ELTW() != null)
		{
			return nwmuH7bVMf2wlkcdmKj5(XlV9wd4ELTW().Strategy);
		}
		return false;
	}

	public bool MLM9wsnZGqb()
	{
		int num = 1;
		int num2 = num;
		object obj;
		while (true)
		{
			switch (num2)
			{
			case 1:
			{
				UserPosition userPosition = XlV9wd4ELTW();
				if (userPosition == null)
				{
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_f8c53e9716bd4846babfdefcdb92a575 == 0)
					{
						num2 = 0;
					}
					continue;
				}
				obj = userPosition.Strategy.GetStrategySingleTarget(create: false);
				break;
			}
			default:
				obj = null;
				break;
			}
			break;
		}
		ExitStrategyTarget exitStrategyTarget = (ExitStrategyTarget)obj;
		if (exitStrategyTarget != null)
		{
			return mQDjtBbVO0Sfk2L1lUlQ(exitStrategyTarget) != 0;
		}
		return false;
	}

	public bool MuD9wXlvwMr()
	{
		UserPosition userPosition = XlV9wd4ELTW();
		ExitStrategyTarget exitStrategyTarget = (ExitStrategyTarget)((userPosition != null) ? rhl6GhbVRgjeLGLFtHPR(en4DNqbVXdQ0R8TJYA6P(userPosition), false) : null);
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_0fb8c8dbf8424ce68f439b7b66291a33 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		default:
			if (exitStrategyTarget != null)
			{
				return exitStrategyTarget.TakeProfitPrice != 0;
			}
			return false;
		}
	}

	public List<ExitStrategyTarget> NZl9wcB9rKc()
	{
		return XlV9wd4ELTW()?.Strategy.GetTargets() ?? jcL97fEYp36;
	}

	public ExitStrategyTarget p8w9wjM6R5l(string P_0)
	{
		return XlV9wd4ELTW()?.Strategy.GetTarget(P_0);
	}

	private double AHH9wE1rBcp()
	{
		int num = 2;
		int num2 = num;
		A7XSXM95iL5WxVTrYybT a7XSXM95iL5WxVTrYybT = default(A7XSXM95iL5WxVTrYybT);
		double? num4 = default(double?);
		while (true)
		{
			double? num3;
			switch (num2)
			{
			case 2:
				a7XSXM95iL5WxVTrYybT = ((MhMDPU9v8rkigy1ao0Th)Abi9iXbVqoIjLaDK5xnA()).PositionQuotePrice;
				num2 = 1;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_03df70ea72bf4e3e81ab05550292a7c9 != 0)
				{
					num2 = 1;
				}
				break;
			case 4:
				return num4.GetValueOrDefault();
			default:
				return 0.0;
			case 1:
			{
				if (a7XSXM95iL5WxVTrYybT != A7XSXM95iL5WxVTrYybT.CurrentPrice)
				{
					if (a7XSXM95iL5WxVTrYybT != A7XSXM95iL5WxVTrYybT.Myv954bRED4)
					{
						num2 = 0;
						if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_dbdafa2a3c4c4a799fde97744d4aedd0 == 0)
						{
							num2 = 0;
						}
					}
					else
					{
						num4 = XlV9wd4ELTW()?.PositionRealSizeInQuoteByEntryPrice;
						num2 = 4;
					}
					break;
				}
				UserPosition userPosition = XlV9wd4ELTW();
				if (userPosition == null)
				{
					num4 = null;
					num2 = 1;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ad0a44f3eae14332b41c0c5ef48d2cbb != 0)
					{
						num2 = 3;
					}
					break;
				}
				num3 = userPosition.PositionRealSizeInQuoteByCurrentPrice;
				goto IL_00ed;
			}
			case 3:
				{
					num3 = num4;
					goto IL_00ed;
				}
				IL_00ed:
				num4 = num3;
				return num4.GetValueOrDefault();
			}
		}
	}

	public string Nvk9wQQ3B5b(OnRZP7fwMaIGMRJa0UZR P_0, string P_1 = "0")
	{
		int num = 3;
		int num2 = num;
		string result = default(string);
		while (true)
		{
			switch (num2)
			{
			case 2:
				if (PositionSize == 0L)
				{
					return result;
				}
				if (P_0 == OnRZP7fwMaIGMRJa0UZR.lV7fwqCq3W9)
				{
					result = XlV9wd4ELTW().Symbol.FormatRawSizeFull(PositionSize);
					goto default;
				}
				if (P_0 != OnRZP7fwMaIGMRJa0UZR.RXcfwIii4Nl)
				{
					num2 = 1;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_239772330c1f4196be911d4f334efb05 == 0)
					{
						num2 = 0;
					}
					break;
				}
				result = (string)N2AS3mbVtQ9oiyVJDqjH(h8YHlVbVI578Poe5p54P(-527080372 ^ -527045402), rnJWYbbVW8EwKulHpjNm(XlV9wd4ELTW().Symbol, Ped9wOBGUxv()));
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_b3744d11c0b24c8d993b100cbb22f9e7 == 0)
				{
					num2 = 0;
				}
				break;
			default:
				return result;
			case 3:
				result = P_1;
				num2 = 2;
				break;
			}
		}
	}

	static CoPfjK9hF3ASs5TbM8OK()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				nMKS2ebVUc8OaTR5Z4uC();
				jcL97fEYp36 = new List<ExitStrategyTarget>();
				return;
			case 1:
				stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_c16c36b6197f4f30be0a8035f04288b3 == 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	internal static bool ftHiZ0bVxVX7VZXuwwuB()
	{
		return aDaprIbVSuFMykMd5VZQ == null;
	}

	internal static CoPfjK9hF3ASs5TbM8OK K9sN2ObVLeUVk69QmOjK()
	{
		return aDaprIbVSuFMykMd5VZQ;
	}

	internal static double vgnNKcbVeIUJlyMrwQyk(object P_0)
	{
		return ((UserPosition)P_0).GetPointsPnl();
	}

	internal static long uraOv2bVs2NLoQmwT4Wx(object P_0)
	{
		return ((UserPosition)P_0).Size;
	}

	internal static object en4DNqbVXdQ0R8TJYA6P(object P_0)
	{
		return ((UserPosition)P_0).Strategy;
	}

	internal static void qCN4JsbVcpPpXVyn2Rgr(object P_0)
	{
		((ExitStrategyTarget)P_0).ClearSl();
	}

	internal static void F1loYSbVjICMS3k37dtW(object P_0)
	{
		((ExitStrategyTarget)P_0).RemoveSlTrailing();
	}

	internal static double bSVPlmbVEGoVTEtPnABT(decimal P_0)
	{
		return (double)P_0;
	}

	internal static object rPPUDxbVQA9E2neIOVL5(object P_0)
	{
		return ((ypqMIv9maFM0tRwF0xMh)P_0).lEVl9w6fCd9();
	}

	internal static int JhpNkLbVdFDO2BBhgo6O(object P_0)
	{
		return ((ypqMIv9maFM0tRwF0xMh)P_0).UJElnHayjot;
	}

	internal static long aMpFrFbVgyOc4k8Ra4qc(object P_0)
	{
		return ((ExitStrategyTarget)P_0).TakeProfitRange;
	}

	internal static object rhl6GhbVRgjeLGLFtHPR(object P_0, bool P_1)
	{
		return ((ExitStrategy)P_0).GetStrategySingleTarget(P_1);
	}

	internal static void e22R6hbV6t2JfrXfe5aO(object P_0)
	{
		((ExitStrategyTarget)P_0).RemoveTpTrailing();
	}

	internal static bool nwmuH7bVMf2wlkcdmKj5(object P_0)
	{
		return ((ExitStrategy)P_0).IsMultiStrategy;
	}

	internal static long mQDjtBbVO0Sfk2L1lUlQ(object P_0)
	{
		return ((ExitStrategyTarget)P_0).StopLossPrice;
	}

	internal static object Abi9iXbVqoIjLaDK5xnA()
	{
		return j18iDj9nukSCmEyZs5lH.Settings;
	}

	internal static object h8YHlVbVI578Poe5p54P(int P_0)
	{
		return stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(P_0);
	}

	internal static object rnJWYbbVW8EwKulHpjNm(object P_0, double P_1)
	{
		return ((SymbolBase)P_0).FormatMoneyPnl(P_1);
	}

	internal static object N2AS3mbVtQ9oiyVJDqjH(object P_0, object P_1)
	{
		return (string)P_0 + (string)P_1;
	}

	internal static void nMKS2ebVUc8OaTR5Z4uC()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
	}
}
