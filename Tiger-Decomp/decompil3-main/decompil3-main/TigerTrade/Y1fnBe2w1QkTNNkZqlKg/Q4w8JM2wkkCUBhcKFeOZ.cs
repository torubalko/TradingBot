using System;
using System.CodeDom.Compiler;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Diagnostics;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Controls.Primitives;
using System.Windows.Markup;
using aEpmU09nz6MEoNmc0pGJ;
using CjttZVHEzEWfhqQAXjq2;
using ECOEgqlSad8NUJZ2Dr9n;
using OWUMXkHkWgCUprHQ3jb9;
using TigerTrade.Core.Utils.Logging;
using TigerTrade.Properties;
using TuAMtrl1Nd3XoZQQUXf0;

namespace Y1fnBe2w1QkTNNkZqlKg;

internal class Q4w8JM2wkkCUBhcKFeOZ : PbGEeJHkI13kYvWpne18, IComponentConnector
{
	public class yZsfZBnqYWsQINrs5GJC
	{
		[CompilerGenerated]
		private readonly string de4nqaNmKOw;

		[CompilerGenerated]
		private readonly string Uctnqi9cEjo;

		private static yZsfZBnqYWsQINrs5GJC XyhjRgNkyV4yrcse6UyB;

		public string Name
		{
			[CompilerGenerated]
			get
			{
				return de4nqaNmKOw;
			}
		}

		[SpecialName]
		[CompilerGenerated]
		public string VApnqvA5H4X()
		{
			return Uctnqi9cEjo;
		}

		public yZsfZBnqYWsQINrs5GJC(string P_0, string P_1)
		{
			bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
			base._002Ector();
			de4nqaNmKOw = P_0;
			Uctnqi9cEjo = P_1;
			int num = 0;
			if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_e38cca27b4f843e0acda58c2d2606b17 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			case 0:
				break;
			}
		}

		public override string ToString()
		{
			return Name;
		}

		static yZsfZBnqYWsQINrs5GJC()
		{
			Ir6SikNkCSLVjmmK53qg();
		}

		internal static bool FY61BfNkZu6dWlJAuEWx()
		{
			return XyhjRgNkyV4yrcse6UyB == null;
		}

		internal static yZsfZBnqYWsQINrs5GJC kC9Z5TNkVtxTGXhjA3RB()
		{
			return XyhjRgNkyV4yrcse6UyB;
		}

		internal static void Ir6SikNkCSLVjmmK53qg()
		{
			stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
		}
	}

	private yZsfZBnqYWsQINrs5GJC R962wc6VH1Y;

	[CompilerGenerated]
	private readonly ObservableCollection<yZsfZBnqYWsQINrs5GJC> jnv2wjLpEVK;

	[CompilerGenerated]
	private readonly ObservableCollection<yZsfZBnqYWsQINrs5GJC> IAp2wExaojv;

	internal Button ButtonRestore;

	internal Button ButtonCancel;

	private bool E1x2wQnAeDb;

	internal static Q4w8JM2wkkCUBhcKFeOZ grsKMiDfSOPwgxuHkGV8;

	public ObservableCollection<yZsfZBnqYWsQINrs5GJC> ConfigListExit
	{
		[CompilerGenerated]
		get
		{
			return jnv2wjLpEVK;
		}
	}

	public ObservableCollection<yZsfZBnqYWsQINrs5GJC> ConfigListAuto
	{
		[CompilerGenerated]
		get
		{
			return IAp2wExaojv;
		}
	}

	public yZsfZBnqYWsQINrs5GJC SelectedConfig
	{
		get
		{
			return R962wc6VH1Y;
		}
		set
		{
			if (R962wc6VH1Y != yZsfZBnqYWsQINrs5GJC)
			{
				R962wc6VH1Y = yZsfZBnqYWsQINrs5GJC;
				int num = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_dbdafa2a3c4c4a799fde97744d4aedd0 != 0)
				{
					num = 0;
				}
				switch (num)
				{
				}
				ifWlfmRSlkr(stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(0xC1DDB3B ^ 0xC1D05DD));
				ifWlfmRSlkr((string)o3XKByDfe6AsEGBGd2sD(0x6F7F734B ^ 0x6F7FAC4D));
			}
		}
	}

	public bool RestoreButtonIsEnabled => SelectedConfig != null;

	public Q4w8JM2wkkCUBhcKFeOZ()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
		base._002Ector();
		mycy5LHEu3qqvRcny9Mb.oh3HQGPC2PW(stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(0x32DEA4F1 ^ 0x32DE7BC7));
		jnv2wjLpEVK = new ObservableCollection<yZsfZBnqYWsQINrs5GJC>();
		int num = 1;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_cab5688e7a6f4724836f4be9e8087801 != 0)
		{
			num = 1;
		}
		while (true)
		{
			switch (num)
			{
			default:
				InitializeComponent();
				return;
			case 1:
				IAp2wExaojv = new ObservableCollection<yZsfZBnqYWsQINrs5GJC>();
				num = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_f68538a410dc40459f303c1bac7938ac == 0)
				{
					num = 0;
				}
				break;
			}
		}
	}

	private void ConfigRestoreWindow_OnLoaded(object sender, RoutedEventArgs e)
	{
		try
		{
			string fileNameWithoutExtension = default(string);
			DateTime result = default(DateTime);
			foreach (string item in Directory.GetFiles(j18iDj9nukSCmEyZs5lH.zQ09occ1hRy()).Reverse())
			{
				int num = 3;
				while (true)
				{
					switch (num)
					{
					case 1:
						if (fileNameWithoutExtension.EndsWith(stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(-1416986301 ^ -1416995081)))
						{
							ConfigListAuto.Add(new yZsfZBnqYWsQINrs5GJC(string.Format(stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(0x86EFEF6 ^ 0x86E2134), result, result, TigerTrade.Properties.Resources.ConfigRestoreAutoSaveMessage), item));
						}
						else if (iHRf87DfcgjnrhXpHcel(fileNameWithoutExtension, stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(-624753169 ^ -624698877)))
						{
							num = 0;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_390fe499a2cc4a5ca3d6279a99e6b610 != 0)
							{
								num = 0;
							}
							continue;
						}
						break;
					case 4:
						ConfigListExit.Add(new yZsfZBnqYWsQINrs5GJC(string.Format((string)o3XKByDfe6AsEGBGd2sD(-1009517961 ^ -1009572379), result, result), item));
						break;
					case 3:
						fileNameWithoutExtension = Path.GetFileNameWithoutExtension(item);
						if (!Xh6BeTDfsMh51fsxcjrd(fileNameWithoutExtension) && DateTime.TryParseExact(fileNameWithoutExtension.Substring(0, 16), (string)o3XKByDfe6AsEGBGd2sD(-1801468030 ^ -1801512734), (IFormatProvider)m1xBKbDfXUbunqvQm67x(), DateTimeStyles.None, out result))
						{
							num = 2;
							continue;
						}
						break;
					case 2:
						if (!iHRf87DfcgjnrhXpHcel(fileNameWithoutExtension, stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(0x24085900 ^ 0x24088684)))
						{
							num = 1;
							if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_409738fae61f4f058345c98b7cfbcbac == 0)
							{
								num = 0;
							}
							continue;
						}
						goto case 4;
					default:
						ConfigListAuto.Add(new yZsfZBnqYWsQINrs5GJC(string.Format((string)o3XKByDfe6AsEGBGd2sD(0x684F243E ^ 0x684FFBFC), result, result, TigerTrade.Properties.Resources.ConfigRestoreUpgradeSaveMessage), item));
						num = 5;
						continue;
					case 5:
						break;
					}
					break;
				}
			}
		}
		catch (Exception e2)
		{
			LogManager.WriteError(e2);
		}
	}

	private void OaU2w5Icxy6(object P_0, RoutedEventArgs P_1)
	{
		base.DialogResult = true;
		Close();
	}

	private void kaV2wSdwrqm(object P_0, RoutedEventArgs P_1)
	{
		Close();
	}

	[GeneratedCode("PresentationBuildTasks", "4.0.0.0")]
	[DebuggerNonUserCode]
	public void InitializeComponent()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				return;
			case 0:
				return;
			case 1:
				if (!E1x2wQnAeDb)
				{
					E1x2wQnAeDb = true;
					Uri resourceLocator = new Uri((string)o3XKByDfe6AsEGBGd2sD(0x769C7931 ^ 0x769C9931), UriKind.Relative);
					Application.LoadComponent(this, resourceLocator);
					return;
				}
				num2 = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_e38cca27b4f843e0acda58c2d2606b17 != 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	[GeneratedCode("PresentationBuildTasks", "4.0.0.0")]
	[DebuggerNonUserCode]
	internal Delegate _CreateDelegate(Type delegateType, string handler)
	{
		return Delegate.CreateDelegate(delegateType, this, handler);
	}

	[GeneratedCode("PresentationBuildTasks", "4.0.0.0")]
	[EditorBrowsable(EditorBrowsableState.Never)]
	[DebuggerNonUserCode]
	void IComponentConnector.Connect(int P_0, object P_1)
	{
		if (P_0 != 1)
		{
			int num;
			if (P_0 != 2)
			{
				num = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_0a057f43d61f46eca6f419bc48c31d04 == 0)
				{
					num = 0;
				}
			}
			else
			{
				ButtonCancel = (Button)P_1;
				num = 2;
			}
			while (true)
			{
				switch (num)
				{
				case 2:
					ButtonCancel.Click += kaV2wSdwrqm;
					num = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_ff2c70a81f2141b98b88fc10875a3726 == 0)
					{
						num = 1;
					}
					break;
				case 1:
					return;
				default:
					E1x2wQnAeDb = true;
					return;
				}
			}
		}
		ButtonRestore = (Button)P_1;
		kJIIRVDfjwgaExCLLt9A(ButtonRestore, new RoutedEventHandler(OaU2w5Icxy6));
	}

	static Q4w8JM2wkkCUBhcKFeOZ()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
	}

	internal static object o3XKByDfe6AsEGBGd2sD(int P_0)
	{
		return stmj4Ul1bF7178khnjLy.BC1l1WXFcAt(P_0);
	}

	internal static bool UFituPDfxWGgao255yBh()
	{
		return grsKMiDfSOPwgxuHkGV8 == null;
	}

	internal static Q4w8JM2wkkCUBhcKFeOZ Djbs2nDfLhklAj5Why6F()
	{
		return grsKMiDfSOPwgxuHkGV8;
	}

	internal static bool Xh6BeTDfsMh51fsxcjrd(object P_0)
	{
		return string.IsNullOrEmpty((string)P_0);
	}

	internal static object m1xBKbDfXUbunqvQm67x()
	{
		return CultureInfo.InvariantCulture;
	}

	internal static bool iHRf87DfcgjnrhXpHcel(object P_0, object P_1)
	{
		return ((string)P_0).EndsWith((string)P_1);
	}

	internal static void kJIIRVDfjwgaExCLLt9A(object P_0, object P_1)
	{
		((ButtonBase)P_0).Click += (RoutedEventHandler)P_1;
	}
}
