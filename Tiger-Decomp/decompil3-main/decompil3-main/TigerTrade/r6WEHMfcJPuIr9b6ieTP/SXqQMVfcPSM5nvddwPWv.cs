using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using DRAAVZfeluHK56g0ByFi;
using ECOEgqlSad8NUJZ2Dr9n;
using JKn80mfcvpiivwtOTDP4;
using LkgWJcfsLbF5GV6NcGQ4;
using m5KHHSfSCCCvZdkMl316;
using NsWD4W9miMxRbFU3fsu9;
using TigerTrade.Chart.Data;
using TigerTrade.Dx;
using TuAMtrl1Nd3XoZQQUXf0;
using zgMYdJf4fc58NIsUuLGN;

namespace r6WEHMfcJPuIr9b6ieTP;

internal sealed class SXqQMVfcPSM5nvddwPWv
{
	[CompilerGenerated]
	private readonly WlIgYFfeikLFVS61vSl1 O7ofj1qc71T;

	[CompilerGenerated]
	private readonly wFFFvWfsxErbxn4XFmrR bXqfj50RAai;

	[CompilerGenerated]
	private int j6BfjSqIfH9;

	[CompilerGenerated]
	private double x9ffjxmEjF7;

	[CompilerGenerated]
	private double NtHfjLXXDJ6;

	[CompilerGenerated]
	private double MrtfjeYG1Bd;

	[CompilerGenerated]
	private double v5ZfjssYDqm;

	[CompilerGenerated]
	private double CQqfjXYvv3U;

	private int wtwfjcnwgvo;

	private int mlxfjjr1wxF;

	private readonly List<DOcVpyfcohL3hAnqtSds> h2WfjElbbRM;

	internal static SXqQMVfcPSM5nvddwPWv roxrN0DpvUM22tu9fF2C;

	public wFFFvWfsxErbxn4XFmrR MarketView
	{
		[CompilerGenerated]
		get
		{
			return bXqfj50RAai;
		}
	}

	[SpecialName]
	[CompilerGenerated]
	public WlIgYFfeikLFVS61vSl1 wFHfcuC15m4()
	{
		return O7ofj1qc71T;
	}

	[SpecialName]
	[CompilerGenerated]
	public int Iv8fj2uoYtf()
	{
		return j6BfjSqIfH9;
	}

	[SpecialName]
	[CompilerGenerated]
	private void ehifjHb4bUa(int P_0)
	{
		j6BfjSqIfH9 = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public double xAjfj9CidkY()
	{
		return x9ffjxmEjF7;
	}

	[SpecialName]
	[CompilerGenerated]
	public void lE1fjnihKq6(double P_0)
	{
		x9ffjxmEjF7 = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public double bjffjYLALiU()
	{
		return NtHfjLXXDJ6;
	}

	[SpecialName]
	[CompilerGenerated]
	private void IvofjotZNnx(double P_0)
	{
		NtHfjLXXDJ6 = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public double zobfjBMfSm7()
	{
		return MrtfjeYG1Bd;
	}

	[SpecialName]
	[CompilerGenerated]
	private void vbhfjaYabnf(double P_0)
	{
		MrtfjeYG1Bd = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public double vNRfjlCPfvd()
	{
		return v5ZfjssYDqm;
	}

	[SpecialName]
	[CompilerGenerated]
	private void OJPfj4S2Acm(double P_0)
	{
		v5ZfjssYDqm = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public double Frmfjb39ORO()
	{
		return CQqfjXYvv3U;
	}

	[SpecialName]
	[CompilerGenerated]
	private void MSofjN2v4I8(double P_0)
	{
		CQqfjXYvv3U = P_0;
	}

	public SXqQMVfcPSM5nvddwPWv(wFFFvWfsxErbxn4XFmrR P_0, WlIgYFfeikLFVS61vSl1 P_1)
	{
		tTMOvkDpiTPnXoIf3wr7();
		h2WfjElbbRM = new List<DOcVpyfcohL3hAnqtSds>();
		base._002Ector();
		int num = 1;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_53f0c1974ed349c3831704ecb4d3ce13 == 0)
		{
			num = 0;
		}
		while (true)
		{
			switch (num)
			{
			default:
				O7ofj1qc71T = P_1;
				return;
			case 1:
				bXqfj50RAai = P_0;
				num = 0;
				if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_7573e3aca29a46a9959af01ed2386da5 == 0)
				{
					num = 0;
				}
				break;
			}
		}
	}

	public void anBfcF6BqvK(bool P_0)
	{
		int num = 2;
		List<IRawCluster> list = default(List<IRawCluster>);
		int num8 = default(int);
		double num3 = default(double);
		int num5 = default(int);
		int num4 = default(int);
		int num7 = default(int);
		int count = default(int);
		while (true)
		{
			int num2 = num;
			while (true)
			{
				switch (num2)
				{
				case 14:
					foreach (IRawCluster item in list)
					{
						_ = item;
						h2WfjElbbRM.Add(new DOcVpyfcohL3hAnqtSds(MarketView, this));
					}
					pxgMoXDp5fvEcmdku5uC(MarketView.xSWfs8lQ7YY(), true);
					goto IL_008d;
				case 11:
					if (num8 >= fM3rNJDpkhPt6pN14KjN(list))
					{
						num2 = 8;
						continue;
					}
					goto case 13;
				case 3:
					num3 -= MarketView.Market.GjefLgjcNjp() + 2.0;
					MSofjN2v4I8(num3);
					goto IL_030e;
				case 15:
					num5 = (int)((((XrTs9ufSVt0hx8rJDd6l)ch91GfDp4a8DN9L63D2b(MarketView)).ClusterWidth - 10.0) / (double)Iv8fj2uoYtf());
					num2 = 9;
					continue;
				case 7:
				{
					list = SbOfc3wYE4n(num5, num4, out var num6, out num7);
					if (num4 != num6)
					{
						MarketView.Market.Jrpfxs1LaXL(num6 * Iv8fj2uoYtf());
					}
					if (nk0V2wDpNvJYuH8VD2Zx(h2WfjElbbRM) == fM3rNJDpkhPt6pN14KjN(list))
					{
						if (mlxfjjr1wxF != num7)
						{
							num2 = 10;
							continue;
						}
						goto IL_008d;
					}
					goto case 10;
				}
				case 6:
					a5xeRTDp1VaSmlH91bH2(h2WfjElbbRM);
					num = 14;
					break;
				case 1:
					h2WfjElbbRM.Clear();
					goto IL_033f;
				case 2:
					if (P_0)
					{
						num2 = 1;
						if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_1bb232d361564d93b9a5d5e53983bdb3 == 0)
						{
							num2 = 1;
						}
						continue;
					}
					goto IL_033f;
				default:
					lE1fjnihKq6(num3 - (double)(int)MarketView.Market.I8MfLNiJ00B() - 4.0);
					num2 = 13;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_281cd373231b4974955fe570959430ac == 0)
					{
						num2 = 15;
					}
					continue;
				case 17:
					num8++;
					num2 = 2;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_57c2433b06714a1299d736aebe42caa2 == 0)
					{
						num2 = 11;
					}
					continue;
				case 4:
				case 16:
					if (MarketView.ClusterSettings.ClusterShowChange)
					{
						num3 -= mTfkS2DpDmVPUnMewQyj(MarketView.Market) + 2.0;
						OJPfj4S2Acm(num3);
						goto default;
					}
					num2 = 0;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_aab13e7d663746898a6666b7303ea6c2 == 0)
					{
						num2 = 0;
					}
					continue;
				case 10:
					mlxfjjr1wxF = num7;
					num = 6;
					break;
				case 12:
					num4 = q45fJfDpbg7RI4VbgC6B(ch91GfDp4a8DN9L63D2b(MarketView)) / Iv8fj2uoYtf();
					num = 7;
					break;
				case 5:
					if (MarketView.ClusterSettings.ClusterShowTime)
					{
						num3 -= MarketView.Market.GjefLgjcNjp() + 2.0;
						IvofjotZNnx(num3);
					}
					if (AWo4BmDplXwt57TH0pfx(MarketView.ClusterSettings))
					{
						num2 = 3;
						continue;
					}
					goto IL_030e;
				case 8:
					wtwfjcnwgvo = count;
					return;
				case 9:
					count = MarketView.Market.DataProvider.Count;
					num2 = 7;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_d49d1aa54d194934871b103e21669e22 == 0)
					{
						num2 = 12;
					}
					continue;
				case 13:
					{
						h2WfjElbbRM[num8].VlCfcBA3cAT(P_0 || wtwfjcnwgvo != count, list[num8], num7 - num8, num8);
						num2 = 17;
						continue;
					}
					IL_033f:
					ehifjHb4bUa(MarketView.ClusterSettings.ClusterWidth);
					if (Iv8fj2uoYtf() < 10)
					{
						return;
					}
					num3 = MarketView.wD9fXGNmvlC();
					num2 = 5;
					if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_152544ed8bd2470d8638a522e4a24d02 == 0)
					{
						num2 = 1;
					}
					continue;
					IL_030e:
					if (!MarketView.ClusterSettings.ClusterShowVolumeSum)
					{
						num2 = 16;
						continue;
					}
					num3 -= mTfkS2DpDmVPUnMewQyj(ch91GfDp4a8DN9L63D2b(MarketView)) + 2.0;
					vbhfjaYabnf(num3);
					num2 = 4;
					continue;
					IL_008d:
					num8 = 0;
					goto case 11;
				}
				break;
			}
		}
	}

	private List<IRawCluster> SbOfc3wYE4n(int P_0, int P_1, out int P_2, out int P_3)
	{
		List<IRawCluster> list = new List<IRawCluster>();
		ypqMIv9maFM0tRwF0xMh ypqMIv9maFM0tRwF0xMh = MarketView.Market.DataProvider;
		int num = ypqMIv9maFM0tRwF0xMh.Count - P_0;
		P_1 = Math.Max(0, P_1);
		if (num > 0 && P_1 > num)
		{
			P_1 = num;
		}
		if (P_0 >= ypqMIv9maFM0tRwF0xMh.Count)
		{
			P_1 = 0;
		}
		P_2 = P_1;
		P_3 = 0;
		int num2 = 0;
		int num3 = P_1 + P_0;
		int num4 = ypqMIv9maFM0tRwF0xMh.Count - 1;
		while (num4 >= 0 && num2 <= num3)
		{
			if (num2 > P_1 - 1)
			{
				list.Add(ypqMIv9maFM0tRwF0xMh.GetCluster(num4));
			}
			num2++;
			P_3 = num4;
			num4--;
		}
		return list;
	}

	public void jkCfcptfZAi(DxVisualQueue P_0, bool P_1)
	{
		using List<DOcVpyfcohL3hAnqtSds>.Enumerator enumerator = h2WfjElbbRM.GetEnumerator();
		while (enumerator.MoveNext())
		{
			xHUrmwDpSTtHxsLLtLfg(enumerator.Current, P_0, P_1);
		}
		int num = 0;
		if (_003CModule_003E_007Bce1afb0d_002D8724_002D4a3c_002D8977_002Dc81e93990fb1_007D.m_26fe5531b15948b7a2b6ffb2cd927204 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	static SXqQMVfcPSM5nvddwPWv()
	{
		oMMd2BDpx8rc0BEyQmLj();
	}

	internal static bool GMjbFgDpB29PR4IBqMqt()
	{
		return roxrN0DpvUM22tu9fF2C == null;
	}

	internal static SXqQMVfcPSM5nvddwPWv DXMaJdDpaRbxe6v4kHcv()
	{
		return roxrN0DpvUM22tu9fF2C;
	}

	internal static void tTMOvkDpiTPnXoIf3wr7()
	{
		bjBp4DlSBZNrmYFiJ2P5.uAtNhrIAcgj();
	}

	internal static bool AWo4BmDplXwt57TH0pfx(object P_0)
	{
		return ((LYn4tAf4HSV4yrcb7PrO)P_0).ClusterShowDeltaSum;
	}

	internal static object ch91GfDp4a8DN9L63D2b(object P_0)
	{
		return ((wFFFvWfsxErbxn4XFmrR)P_0).Market;
	}

	internal static double mTfkS2DpDmVPUnMewQyj(object P_0)
	{
		return ((XrTs9ufSVt0hx8rJDd6l)P_0).GjefLgjcNjp();
	}

	internal static int q45fJfDpbg7RI4VbgC6B(object P_0)
	{
		return ((XrTs9ufSVt0hx8rJDd6l)P_0).A4EfxeC5DlR();
	}

	internal static int nk0V2wDpNvJYuH8VD2Zx(object P_0)
	{
		return ((List<DOcVpyfcohL3hAnqtSds>)P_0).Count;
	}

	internal static int fM3rNJDpkhPt6pN14KjN(object P_0)
	{
		return ((List<IRawCluster>)P_0).Count;
	}

	internal static void a5xeRTDp1VaSmlH91bH2(object P_0)
	{
		((List<DOcVpyfcohL3hAnqtSds>)P_0).Clear();
	}

	internal static void pxgMoXDp5fvEcmdku5uC(object P_0, bool P_1)
	{
		((WlIgYFfeikLFVS61vSl1)P_0).x2RfeSkfPln(P_1);
	}

	internal static void xHUrmwDpSTtHxsLLtLfg(object P_0, object P_1, bool P_2)
	{
		((DOcVpyfcohL3hAnqtSds)P_0).Kvhfca5K0aL((DxVisualQueue)P_1, P_2);
	}

	internal static void oMMd2BDpx8rc0BEyQmLj()
	{
		stmj4Ul1bF7178khnjLy.nWrl1glAtDi();
	}
}
