using System;
using System.Collections.Generic;
using System.IO;
using System.Runtime.CompilerServices;
using System.Threading;
using BfZtb759KlUg4482QKym;
using hkoWc1GIokuwlRpModAL;
using K1GcsD5GTtMSlaiJI0Xh;
using moF8YxGOi5FwsSIWeLap;
using O2X6RyG6QLCpcSMn3fTJ;
using o3SItMGQub9nO4Zqixv5;
using PrDtb5GQs5UoEp3i32J4;
using qArMshG6rwYDXhJ2CA0b;
using QIBQovG6IpSgouaXAOXE;
using R1cKQkGRYNeoqrccijrj;
using t2RXnxGI0scLRJTKppKt;
using x97CE55GhEYKgt7TSVZT;

namespace pSssOpGqtyTOqDEeDFs6;

internal class ykhIs6GqWrbD2AWxh74g
{
	private rhwdhbG6qPK8YoBPEnbE ULyGqhQ6ol6;

	private YmAWnOGqzQWxN1OoHkp8 YOTGqwrG3Sc;

	private Queue<gVcH0dGOaoPveD5KlIGw> FgMGq7ttxh2;

	private VcinOVG6C2U9jOdE0cLr z9cGq8slse2;

	private static aTSmKTGIY4jdAKXPTNeA XcqGqPr6aZi;

	private List<byte> a8FGqJKRvNm;

	internal static ykhIs6GqWrbD2AWxh74g p3aysl56CHMWc1L395b4;

	[SpecialName]
	private bool ARGGqKRKatk()
	{
		return oIqD0T56mDGOgARgO2dM(ULyGqhQ6ol6);
	}

	public ykhIs6GqWrbD2AWxh74g(rhwdhbG6qPK8YoBPEnbE P_0, YmAWnOGqzQWxN1OoHkp8 P_1)
	{
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		FgMGq7ttxh2 = new Queue<gVcH0dGOaoPveD5KlIGw>();
		a8FGqJKRvNm = new List<byte>(8191);
		base._002Ector();
		int num = 2;
		while (true)
		{
			switch (num)
			{
			default:
				return;
			case 2:
				ULyGqhQ6ol6 = P_0;
				YOTGqwrG3Sc = P_1;
				num = 1;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a6a8019a3a5d4ff4addfd8869f52f66e != 0)
				{
					num = 1;
				}
				break;
			case 1:
				z9cGq8slse2 = new VcinOVG6C2U9jOdE0cLr(ULyGqhQ6ol6.TthGgyQBUF6(), ULyGqhQ6ol6.zySGgIDFNhd(), ULyGqhQ6ol6);
				num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7b7109b795404d83aab2ffb6bac7cdab == 0)
				{
					num = 0;
				}
				break;
			case 0:
				return;
			}
		}
	}

	public void TcrGqUujy49()
	{
		Thread thread = new Thread((ThreadStart)delegate
		{
			try
			{
				while (ULyGqhQ6ol6.IsConnected() && OpwGqZxlqmm())
				{
					int num = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a17177e4a01d43aa800589a27b3f7313 == 0)
					{
						num = 0;
					}
					switch (num)
					{
					}
				}
			}
			catch (Exception ex)
			{
				FafaqJ56p9sQowGfCdTT(ULyGqhQ6ol6.zySGgIDFNhd(), ex);
				int num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9af6b53eda9a447491409b945b9ad16e == 0)
				{
					num2 = 0;
				}
				switch (num2)
				{
				default:
					ULyGqhQ6ol6.Df9lGFMgBxJ();
					break;
				}
			}
			YOTGqwrG3Sc.YVglYY3itdJ();
		});
		thread.IsBackground = true;
		thread.Start();
	}

	private gVcH0dGOaoPveD5KlIGw HWbGqTZ4YO7()
	{
		int num = 1;
		int num2 = num;
		Queue<gVcH0dGOaoPveD5KlIGw> fgMGq7ttxh = default(Queue<gVcH0dGOaoPveD5KlIGw>);
		while (true)
		{
			switch (num2)
			{
			case 1:
				fgMGq7ttxh = FgMGq7ttxh2;
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_e2046e9188d74371a6b184c7289810cf == 0)
				{
					num2 = 0;
				}
				continue;
			}
			bool lockTaken = false;
			try
			{
				Monitor.Enter(fgMGq7ttxh, ref lockTaken);
				int num3 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_41689ce5632e46808b581b3ddff97952 == 0)
				{
					num3 = 0;
				}
				object result;
				switch (num3)
				{
				default:
					if (FgMGq7ttxh2.Count == 0)
					{
						result = null;
						break;
					}
					goto case 1;
				case 1:
					result = FgMGq7ttxh2.Dequeue();
					break;
				}
				return (gVcH0dGOaoPveD5KlIGw)result;
			}
			finally
			{
				if (lockTaken)
				{
					y35eLC56hIxNh584BHrX(fgMGq7ttxh);
				}
			}
		}
	}

	public void j4EGqyZscnA()
	{
		int num = 2;
		int num2 = num;
		gVcH0dGOaoPveD5KlIGw gVcH0dGOaoPveD5KlIGw = default(gVcH0dGOaoPveD5KlIGw);
		while (true)
		{
			switch (num2)
			{
			default:
				gVcH0dGOaoPveD5KlIGw = HWbGqTZ4YO7();
				goto case 1;
			case 1:
				if (gVcH0dGOaoPveD5KlIGw == null || z9cGq8slse2.EBwG6KHsoec(gVcH0dGOaoPveD5KlIGw.r1dGOlRY1Z3()) <= 0)
				{
					return;
				}
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_85518406d92c400aa3e0339f430d9d7a == 0)
				{
					num2 = 0;
				}
				break;
			case 2:
				gVcH0dGOaoPveD5KlIGw = HWbGqTZ4YO7();
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ceb7e581f1314bbd87cbf42baae4882f != 0)
				{
					num2 = 1;
				}
				break;
			}
		}
	}

	public bool OpwGqZxlqmm()
	{
		bool result = default(bool);
		try
		{
			gVcH0dGOaoPveD5KlIGw gVcH0dGOaoPveD5KlIGw = rlFGqVTrp5i();
			int num;
			if (gVcH0dGOaoPveD5KlIGw == null)
			{
				result = false;
				num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ce4051eadf70452db4b28dca356319d1 != 0)
				{
					num = 1;
				}
				goto IL_001a;
			}
			goto IL_0085;
			IL_001a:
			Queue<gVcH0dGOaoPveD5KlIGw> fgMGq7ttxh = default(Queue<gVcH0dGOaoPveD5KlIGw>);
			bool lockTaken = default(bool);
			while (true)
			{
				switch (num)
				{
				case 3:
					goto IL_0051;
				case 1:
					goto end_IL_001a;
				case 2:
					try
					{
						Monitor.Enter(fgMGq7ttxh, ref lockTaken);
						FgMGq7ttxh2.Enqueue(gVcH0dGOaoPveD5KlIGw);
					}
					finally
					{
						if (lockTaken)
						{
							Monitor.Exit(fgMGq7ttxh);
						}
					}
					YOTGqwrG3Sc.YVglYY3itdJ();
					result = true;
					goto end_IL_001a;
				}
				goto IL_0085;
				IL_0051:
				lockTaken = false;
				num = 2;
				continue;
				end_IL_001a:
				break;
			}
			goto end_IL_0009;
			IL_0085:
			fgMGq7ttxh = FgMGq7ttxh2;
			num = 3;
			goto IL_001a;
			end_IL_0009:;
		}
		catch (Exception ex)
		{
			if (ULyGqhQ6ol6.IsConnected())
			{
				int num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_04ffa74e86424225b1da01f05c8e1ee9 == 0)
				{
					num2 = 0;
				}
				switch (num2)
				{
				}
				((aTSmKTGIY4jdAKXPTNeA)o9G4Ft56wkekYqRtDU9P(ULyGqhQ6ol6)).error((string)G41YPZ567wTY3rvGdSUS(ex));
			}
			result = false;
		}
		return result;
	}

	private gVcH0dGOaoPveD5KlIGw rlFGqVTrp5i()
	{
		int num = 0;
		int num2;
		if (ARGGqKRKatk())
		{
			num2 = 2;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7b7109b795404d83aab2ffb6bac7cdab == 0)
			{
				num2 = 2;
			}
		}
		else
		{
			if (a8FGqJKRvNm.Count != 0)
			{
				goto IL_017f;
			}
			num2 = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ce4051eadf70452db4b28dca356319d1 != 0)
			{
				num2 = 1;
			}
		}
		goto IL_0009;
		IL_017f:
		num2 = 5;
		goto IL_0009;
		IL_0009:
		byte[] array = default(byte[]);
		while (true)
		{
			switch (num2)
			{
			case 1:
				dIHGqC55rP3();
				break;
			case 3:
				array = new byte[num];
				GZbPgK56FesLhq2fmHfU(a8FGqJKRvNm, 0, array, 0, num);
				JmRgE8563QxnMec7wPMm(a8FGqJKRvNm, 0, num);
				if (a8FGqJKRvNm.Count < 8191 && a8FGqJKRvNm.Capacity > 8191)
				{
					a8FGqJKRvNm.Capacity = 8191;
					num2 = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_f19bbaca9e82419ba66f0bdafd2c824a == 0)
					{
						num2 = 0;
					}
					continue;
				}
				goto default;
			case 5:
				try
				{
					num = new VcinOVG6C2U9jOdE0cLr(ULyGqhQ6ol6.TthGgyQBUF6(), XcqGqPr6aZi).EBwG6KHsoec(a8FGqJKRvNm.ToArray());
				}
				catch (EndOfStreamException)
				{
					if (Dk1Sgh56PpPW6ev7DXgt(a8FGqJKRvNm) >= BhQDPs56JHDbwVUwvkvX(a8FGqJKRvNm) * 3 / 4)
					{
						int num3 = 0;
						if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_e37b704f00fd438985274655b11b16b4 != 0)
						{
							num3 = 0;
						}
						switch (num3)
						{
						}
						List<byte> list = a8FGqJKRvNm;
						list.Capacity = BhQDPs56JHDbwVUwvkvX(list) * 2;
					}
					dIHGqC55rP3();
					break;
				}
				goto case 3;
			default:
				return new gVcH0dGOaoPveD5KlIGw(array);
			case 2:
				num = taMyPu568DwXInEylQKQ(ULyGqhQ6ol6);
				if (num <= 16777215)
				{
					return new gVcH0dGOaoPveD5KlIGw((byte[])TSYJFA56ALN4CvPi9Vfy(ULyGqhQ6ol6, num));
				}
				goto case 4;
			case 4:
				throw new sFc9InG6E4peu2A1v60j(TFQiB6GRGBNKSY9ea8V6.If1GR8LwMS8);
			}
			break;
		}
		goto IL_017f;
	}

	private void dIHGqC55rP3()
	{
		a8FGqJKRvNm.AddRange(ULyGqhQ6ol6.DbNGg6M4MgP(BhQDPs56JHDbwVUwvkvX(a8FGqJKRvNm) - Dk1Sgh56PpPW6ev7DXgt(a8FGqJKRvNm)));
	}

	static ykhIs6GqWrbD2AWxh74g()
	{
		F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
		pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_0038f818f2704f70a8069fbdf675cc8a == 0)
		{
			num = 0;
		}
		switch (num)
		{
		}
		XcqGqPr6aZi = new isl72PGQe0a1IInKkcTr();
	}

	[CompilerGenerated]
	private void OCiGqrAtkSA()
	{
		try
		{
			while (ULyGqhQ6ol6.IsConnected() && OpwGqZxlqmm())
			{
				int num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a17177e4a01d43aa800589a27b3f7313 == 0)
				{
					num = 0;
				}
				switch (num)
				{
				}
			}
		}
		catch (Exception ex)
		{
			FafaqJ56p9sQowGfCdTT(ULyGqhQ6ol6.zySGgIDFNhd(), ex);
			int num2 = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9af6b53eda9a447491409b945b9ad16e == 0)
			{
				num2 = 0;
			}
			switch (num2)
			{
			default:
				ULyGqhQ6ol6.Df9lGFMgBxJ();
				break;
			}
		}
		YOTGqwrG3Sc.YVglYY3itdJ();
	}

	internal static bool oIqD0T56mDGOgARgO2dM(object P_0)
	{
		return ((PK42LaGQpT0u1hAep0F6)P_0).bU1GgOwdRHg();
	}

	internal static bool GYvBPL56rwJI1DH68n1t()
	{
		return p3aysl56CHMWc1L395b4 == null;
	}

	internal static ykhIs6GqWrbD2AWxh74g uq2O3L56Kl2lnpdelsFr()
	{
		return p3aysl56CHMWc1L395b4;
	}

	internal static void y35eLC56hIxNh584BHrX(object P_0)
	{
		Monitor.Exit(P_0);
	}

	internal static object o9G4Ft56wkekYqRtDU9P(object P_0)
	{
		return ((PK42LaGQpT0u1hAep0F6)P_0).zySGgIDFNhd();
	}

	internal static object G41YPZ567wTY3rvGdSUS(object P_0)
	{
		return ((Exception)P_0).Message;
	}

	internal static int taMyPu568DwXInEylQKQ(object P_0)
	{
		return ((PK42LaGQpT0u1hAep0F6)P_0).AsDGgRwOSuV();
	}

	internal static object TSYJFA56ALN4CvPi9Vfy(object P_0, int P_1)
	{
		return ((PK42LaGQpT0u1hAep0F6)P_0).wYEGgMhdEZP(P_1);
	}

	internal static int Dk1Sgh56PpPW6ev7DXgt(object P_0)
	{
		return ((List<byte>)P_0).Count;
	}

	internal static int BhQDPs56JHDbwVUwvkvX(object P_0)
	{
		return ((List<byte>)P_0).Capacity;
	}

	internal static void GZbPgK56FesLhq2fmHfU(object P_0, int P_1, object P_2, int P_3, int P_4)
	{
		((List<byte>)P_0).CopyTo(P_1, (byte[])P_2, P_3, P_4);
	}

	internal static void JmRgE8563QxnMec7wPMm(object P_0, int P_1, int P_2)
	{
		((List<byte>)P_0).RemoveRange(P_1, P_2);
	}

	internal static void FafaqJ56p9sQowGfCdTT(object P_0, object P_1)
	{
		((aTSmKTGIY4jdAKXPTNeA)P_0).error((Exception)P_1);
	}
}
