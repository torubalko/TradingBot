using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Runtime.CompilerServices;
using System.Threading;
using BfZtb759KlUg4482QKym;
using K1GcsD5GTtMSlaiJI0Xh;
using OhwR2LaxHYJ0lj0C9GSK;
using TigerTrade.Core.Utils.Config;
using uvhW9waxcBQe2Sdeka2m;
using x97CE55GhEYKgt7TSVZT;

namespace p9D0WNaxgVP5IJuowluK;

public class rwlc60axdATOINfnxFFP
{
	[CompilerGenerated]
	private sealed class G5TcxBiYT1iGKQKx064O
	{
		public rwlc60axdATOINfnxFFP pH2iYZwxkPI;

		public string TIoiYVnZYlQ;

		public string dw0iYCMLn2U;

		public string PMWiYr2ITHM;

		private static G5TcxBiYT1iGKQKx064O rbs4XwLR33MFmwpFIIaB;

		public G5TcxBiYT1iGKQKx064O()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			base._002Ector();
		}

		internal bool LsciYyuefQ2(qXLXHlax25yCgG9femcG p)
		{
			if (pH2iYZwxkPI.NhaaxMVcAr8(p.Address, TIoiYVnZYlQ) && pH2iYZwxkPI.NhaaxMVcAr8(p.Login, dw0iYCMLn2U))
			{
				return pH2iYZwxkPI.NhaaxMVcAr8(p.Password, PMWiYr2ITHM);
			}
			return false;
		}

		static G5TcxBiYT1iGKQKx064O()
		{
			FP0f7KLRzqVig5I2FvmX();
			YFbO97L60MdG8qLD7ogW();
		}

		internal static bool NjRRQkLRpaw76iitQNCC()
		{
			return rbs4XwLR33MFmwpFIIaB == null;
		}

		internal static G5TcxBiYT1iGKQKx064O MxAA6oLRuRiuwq4FT21M()
		{
			return rbs4XwLR33MFmwpFIIaB;
		}

		internal static void FP0f7KLRzqVig5I2FvmX()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
		}

		internal static void YFbO97L60MdG8qLD7ogW()
		{
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}
	}

	[Serializable]
	[CompilerGenerated]
	private sealed class auw03IiYKRJ34sAn8R2y
	{
		public static readonly auw03IiYKRJ34sAn8R2y qC5iYwrgEhW;

		public static Func<KeyValuePair<string, qXLXHlax25yCgG9femcG>, int> rOXiY7fuGVJ;

		public static Func<qXLXHlax25yCgG9femcG, string> CXoiY8HgOXs;

		internal static auw03IiYKRJ34sAn8R2y Eq5PAPL62KI8ZqE7ufLe;

		static auw03IiYKRJ34sAn8R2y()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_267b6e28e0b84cf5a9effc88636b52de == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			qC5iYwrgEhW = new auw03IiYKRJ34sAn8R2y();
		}

		public auw03IiYKRJ34sAn8R2y()
		{
			gNn6slL69ond66Xo3Dtv();
			base._002Ector();
		}

		internal int eaAiYmJg81O(KeyValuePair<string, qXLXHlax25yCgG9femcG> p)
		{
			return p.Value.Order;
		}

		internal string rVliYh9VWRb(qXLXHlax25yCgG9femcG c)
		{
			return (string)LuU5cOL6ntSeCP51Xbvl(c);
		}

		internal static bool qa0EKyL6HheC8oCWBgsc()
		{
			return Eq5PAPL62KI8ZqE7ufLe == null;
		}

		internal static auw03IiYKRJ34sAn8R2y MjETHJL6feoqNH7pJJIR()
		{
			return Eq5PAPL62KI8ZqE7ufLe;
		}

		internal static void gNn6slL69ond66Xo3Dtv()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		}

		internal static object LuU5cOL6ntSeCP51Xbvl(object P_0)
		{
			return ((qXLXHlax25yCgG9femcG)P_0).Name;
		}
	}

	[CompilerGenerated]
	private sealed class RgmOfoiYAjY1GML9TYd8
	{
		public string RGLiYFSBGlv;

		private static RgmOfoiYAjY1GML9TYd8 aGf1CoL6GTOhPWkESrAe;

		public RgmOfoiYAjY1GML9TYd8()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			base._002Ector();
		}

		internal bool vagiYPovFPV(string p)
		{
			return p != RGLiYFSBGlv;
		}

		internal bool sy8iYJeVcHw(string p)
		{
			return CY0XrpL6v6CkasARV0nT(p, RGLiYFSBGlv);
		}

		static RgmOfoiYAjY1GML9TYd8()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
			SI7St2L6B0oWuESyyVwt();
		}

		internal static bool TpEN7JL6YBMjArBSN8ul()
		{
			return aGf1CoL6GTOhPWkESrAe == null;
		}

		internal static RgmOfoiYAjY1GML9TYd8 YaBnTSL6omL5ObvO62VD()
		{
			return aGf1CoL6GTOhPWkESrAe;
		}

		internal static bool CY0XrpL6v6CkasARV0nT(object P_0, object P_1)
		{
			return (string)P_0 == (string)P_1;
		}

		internal static void SI7St2L6B0oWuESyyVwt()
		{
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}
	}

	private hAioqYaxXdMsrajlKpbS khqaxhNJQVi;

	private string EY0axw3fvsH;

	public Action Iacax785VI4;

	[CompilerGenerated]
	private Action GD4ax8YXwlS;

	[CompilerGenerated]
	private static readonly rwlc60axdATOINfnxFFP hdUaxAfp11v;

	private static rwlc60axdATOINfnxFFP oJOarnxKySfVXxYGrAHM;

	[SpecialName]
	[CompilerGenerated]
	public void CW5axrRVnQB(Action P_0)
	{
		Action action = GD4ax8YXwlS;
		Action action2;
		do
		{
			action2 = action;
			Action value = (Action)Delegate.Combine(action2, P_0);
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_6f0ba3007e7244cca15e3c59471bb079 == 0)
			{
				num = 0;
			}
			while (true)
			{
				switch (num)
				{
				default:
					action = Interlocked.CompareExchange(ref GD4ax8YXwlS, value, action2);
					num = 1;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_4b62428db63649d1b023deac83179573 == 0)
					{
						num = 0;
					}
					continue;
				case 1:
					break;
				}
				break;
			}
		}
		while ((object)action != action2);
	}

	[SpecialName]
	[CompilerGenerated]
	public void VEQaxK86wR5(Action P_0)
	{
		Action action = GD4ax8YXwlS;
		Action action2;
		Action value = default(Action);
		do
		{
			action2 = action;
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_52cc4e9134f2471cbe16e9a63df4155b == 0)
			{
				num = 1;
			}
			while (true)
			{
				switch (num)
				{
				case 1:
					value = (Action)GN1jLHxKCBapWgcTNSGL(action2, P_0);
					num = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a17177e4a01d43aa800589a27b3f7313 == 0)
					{
						num = 0;
					}
					continue;
				}
				break;
			}
			action = Interlocked.CompareExchange(ref GD4ax8YXwlS, value, action2);
		}
		while ((object)action != action2);
	}

	public void o0taxRtwahi(string P_0)
	{
		EY0axw3fvsH = (string)ventlVxKr8uEnC31ZwkH(P_0, F71m3059rTj4gyFcUtWX.JNO5no2YvQQ(0x5CD4F15 ^ 0x5CCA3C5));
		khqaxhNJQVi = ConfigSerializer.LoadFromFile<hAioqYaxXdMsrajlKpbS>(EY0axw3fvsH) ?? new hAioqYaxXdMsrajlKpbS();
		Action action = GD4ax8YXwlS;
		if (action != null)
		{
			action();
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7101152ce069403f9cf307c1d31372ac != 0)
			{
				num = 0;
			}
			switch (num)
			{
			case 0:
				break;
			}
		}
	}

	private qXLXHlax25yCgG9femcG KXyax6XvaTr(string P_0, string P_1, string P_2, string P_3)
	{
		G5TcxBiYT1iGKQKx064O CS_0024_003C_003E8__locals15 = new G5TcxBiYT1iGKQKx064O();
		CS_0024_003C_003E8__locals15.pH2iYZwxkPI = this;
		int num = 1;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_82741674950e4c70a0407e3b1a670169 == 0)
		{
			num = 1;
		}
		qXLXHlax25yCgG9femcG qXLXHlax25yCgG9femcG = default(qXLXHlax25yCgG9femcG);
		while (true)
		{
			switch (num)
			{
			case 2:
				qXLXHlax25yCgG9femcG.Login = CS_0024_003C_003E8__locals15.dw0iYCMLn2U;
				num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9db030806b504c748b649e391f655c9f == 0)
				{
					num = 0;
				}
				break;
			default:
				qXLXHlax25yCgG9femcG.Password = CS_0024_003C_003E8__locals15.PMWiYr2ITHM;
				qXLXHlax25yCgG9femcG.Order = khqaxhNJQVi.Proxies.Select((KeyValuePair<string, qXLXHlax25yCgG9femcG> p) => p.Value.Order).DefaultIfEmpty(0).Max() + 1;
				num = 4;
				break;
			case 5:
			{
				CS_0024_003C_003E8__locals15.dw0iYCMLn2U = P_2;
				CS_0024_003C_003E8__locals15.PMWiYr2ITHM = P_3;
				if (string.IsNullOrEmpty(CS_0024_003C_003E8__locals15.TIoiYVnZYlQ))
				{
					return qXLXHlax25yCgG9femcG.jVxaxscCLFW;
				}
				qXLXHlax25yCgG9femcG qXLXHlax25yCgG9femcG2 = khqaxhNJQVi.Proxies.Values.FirstOrDefault((qXLXHlax25yCgG9femcG p) => CS_0024_003C_003E8__locals15.pH2iYZwxkPI.NhaaxMVcAr8(p.Address, CS_0024_003C_003E8__locals15.TIoiYVnZYlQ) && CS_0024_003C_003E8__locals15.pH2iYZwxkPI.NhaaxMVcAr8(p.Login, CS_0024_003C_003E8__locals15.dw0iYCMLn2U) && CS_0024_003C_003E8__locals15.pH2iYZwxkPI.NhaaxMVcAr8(p.Password, CS_0024_003C_003E8__locals15.PMWiYr2ITHM));
				if (qXLXHlax25yCgG9femcG2 != null)
				{
					return qXLXHlax25yCgG9femcG2;
				}
				qXLXHlax25yCgG9femcG = s6JaxyDH0JD();
				num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9c60d0dfafa6408a9dd7ce15e9c500ee == 0)
				{
					num = 3;
				}
				break;
			}
			case 4:
				ffMaxUNWIRN(qXLXHlax25yCgG9femcG, _0020: true);
				return qXLXHlax25yCgG9femcG;
			case 1:
				CS_0024_003C_003E8__locals15.TIoiYVnZYlQ = P_1;
				num = 5;
				break;
			case 3:
				d5OVApxKKfMkHW4we7QM(qXLXHlax25yCgG9femcG, Rmoaxq5tUM6(CS_0024_003C_003E8__locals15.TIoiYVnZYlQ));
				qXLXHlax25yCgG9femcG.Address = CS_0024_003C_003E8__locals15.TIoiYVnZYlQ;
				num = 2;
				break;
			}
		}
	}

	private bool NhaaxMVcAr8(string P_0, string P_1)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 1:
				if (string.IsNullOrEmpty(P_0))
				{
					if (string.IsNullOrEmpty(P_1))
					{
						return true;
					}
					goto default;
				}
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ca333d1f5b544c679e2f04abd45bbe97 == 0)
				{
					num2 = 0;
				}
				break;
			default:
				return P_0 == P_1;
			}
		}
	}

	private bool wDLaxOA2wQP(string P_0, out string P_1)
	{
		string[] array = P_0.Split(':');
		if (!IPAddress.TryParse(array[0], out var _))
		{
			P_1 = null;
			return false;
		}
		P_1 = array[0];
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7b7109b795404d83aab2ffb6bac7cdab != 0)
		{
			num = 0;
		}
		return num switch
		{
			_ => true, 
		};
	}

	private string Rmoaxq5tUM6(string P_0)
	{
		if (!wDLaxOA2wQP(P_0, out var text))
		{
			text = P_0.Substring(0, Math.Min(P_0.Length, 16));
		}
		text = (string)upgGkLxKh1My7LqZRQgU(text, B0lSn5xKm4saTMNrGhC1(0x6EC99CAF ^ 0x6EC87045));
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_bdd0830849fd42b0a6744b7ce88daa30 == 0)
		{
			num = 0;
		}
		return num switch
		{
			_ => ggtaxIbH3rw(khqaxhNJQVi.Proxies.Values.Select((qXLXHlax25yCgG9femcG c) => (string)auw03IiYKRJ34sAn8R2y.LuU5cOL6ntSeCP51Xbvl(c)), text), 
		};
	}

	public string ggtaxIbH3rw(IEnumerable<string> P_0, string P_1)
	{
		RgmOfoiYAjY1GML9TYd8 CS_0024_003C_003E8__locals6 = new RgmOfoiYAjY1GML9TYd8();
		CS_0024_003C_003E8__locals6.RGLiYFSBGlv = string.Format(P_1, "").Trim();
		if (P_0.All((string p) => p != CS_0024_003C_003E8__locals6.RGLiYFSBGlv))
		{
			return CS_0024_003C_003E8__locals6.RGLiYFSBGlv;
		}
		int num = 1;
		do
		{
			CS_0024_003C_003E8__locals6.RGLiYFSBGlv = string.Format(P_1, num++);
		}
		while (P_0.Any((string p) => RgmOfoiYAjY1GML9TYd8.CY0XrpL6v6CkasARV0nT(p, CS_0024_003C_003E8__locals6.RGLiYFSBGlv)));
		return CS_0024_003C_003E8__locals6.RGLiYFSBGlv;
	}

	internal qXLXHlax25yCgG9femcG oY5axW76nxR(ref string P_0, string P_1, string P_2, string P_3)
	{
		if (IjCpH7xKwWIO2Z2qnY8K(P_0))
		{
			return KXyax6XvaTr(P_0, P_1, P_2, P_3);
		}
		return O6CaxthB4xR(P_0);
	}

	private rwlc60axdATOINfnxFFP()
	{
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		base._002Ector();
	}

	public qXLXHlax25yCgG9femcG O6CaxthB4xR(string P_0)
	{
		if (khqaxhNJQVi.Proxies.TryGetValue(P_0, out var value))
		{
			return value;
		}
		return qXLXHlax25yCgG9femcG.jVxaxscCLFW;
	}

	public void ffMaxUNWIRN(qXLXHlax25yCgG9femcG P_0, bool P_1 = false)
	{
		khqaxhNJQVi.Proxies[(string)vANZoxxK7fIAf8hfDx7X(P_0)] = P_0;
		if (P_1)
		{
			goto IL_0046;
		}
		goto IL_006d;
		IL_006d:
		Action iacax785VI = Iacax785VI4;
		if (iacax785VI != null)
		{
			iacax785VI();
			return;
		}
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a492d58832fc437f977bce5ba015cace == 0)
		{
			num = 1;
		}
		switch (num)
		{
		case 1:
			return;
		}
		goto IL_0046;
		IL_0046:
		Ut6axTAK1f3();
		goto IL_006d;
	}

	public void Ut6axTAK1f3()
	{
		ConfigSerializer.SaveToFile(khqaxhNJQVi, EY0axw3fvsH);
	}

	public qXLXHlax25yCgG9femcG s6JaxyDH0JD()
	{
		return new qXLXHlax25yCgG9femcG
		{
			Id = Guid.NewGuid().ToString()
		};
	}

	public IEnumerable<qXLXHlax25yCgG9femcG> yrSaxZgjuq7()
	{
		return khqaxhNJQVi.Proxies.Values;
	}

	public void Delete(string id, bool saveChanges = false)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 2:
				return;
			case 1:
				if (!khqaxhNJQVi.Proxies.ContainsKey(id))
				{
					return;
				}
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_0f39f7e1a9544c369aecad65b3e6d6c4 == 0)
				{
					num2 = 0;
				}
				continue;
			}
			khqaxhNJQVi.Proxies.Remove(id);
			if (saveChanges)
			{
				Ut6axTAK1f3();
			}
			Action iacax785VI = Iacax785VI4;
			if (iacax785VI == null)
			{
				return;
			}
			iacax785VI();
			num2 = 1;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_20e7e617d0f34403acbdcd4eaa1fe0e9 == 0)
			{
				num2 = 2;
			}
		}
	}

	[SpecialName]
	[CompilerGenerated]
	public static rwlc60axdATOINfnxFFP JYhaxV3KmOl()
	{
		return hdUaxAfp11v;
	}

	static rwlc60axdATOINfnxFFP()
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			default:
				c1wwaaxKACFKOloMpvx8();
				BtVdpRxKPsjnXHDFYKSp();
				hdUaxAfp11v = new rwlc60axdATOINfnxFFP();
				return;
			case 1:
				hm8TEfxK84p5ceib3d8t();
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_267b6e28e0b84cf5a9effc88636b52de != 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	internal static bool A7jJ4ExKZwFbyAswBbFd()
	{
		return oJOarnxKySfVXxYGrAHM == null;
	}

	internal static rwlc60axdATOINfnxFFP JHG6XWxKVrHtGcRxk99O()
	{
		return oJOarnxKySfVXxYGrAHM;
	}

	internal static object GN1jLHxKCBapWgcTNSGL(object P_0, object P_1)
	{
		return Delegate.Remove((Delegate)P_0, (Delegate)P_1);
	}

	internal static object ventlVxKr8uEnC31ZwkH(object P_0, object P_1)
	{
		return Path.Combine((string)P_0, (string)P_1);
	}

	internal static void d5OVApxKKfMkHW4we7QM(object P_0, object P_1)
	{
		((qXLXHlax25yCgG9femcG)P_0).Name = (string)P_1;
	}

	internal static object B0lSn5xKm4saTMNrGhC1(int P_0)
	{
		return F71m3059rTj4gyFcUtWX.JNO5no2YvQQ(P_0);
	}

	internal static object upgGkLxKh1My7LqZRQgU(object P_0, object P_1)
	{
		return (string)P_0 + (string)P_1;
	}

	internal static bool IjCpH7xKwWIO2Z2qnY8K(object P_0)
	{
		return string.IsNullOrEmpty((string)P_0);
	}

	internal static object vANZoxxK7fIAf8hfDx7X(object P_0)
	{
		return ((qXLXHlax25yCgG9femcG)P_0).Id;
	}

	internal static void hm8TEfxK84p5ceib3d8t()
	{
		F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
	}

	internal static void c1wwaaxKACFKOloMpvx8()
	{
		pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
	}

	internal static void BtVdpRxKPsjnXHDFYKSp()
	{
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
	}
}
