using System;
using System.IO;
using System.IO.Compression;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Text;
using bejTXRYxVcqhoOyBnDGl;
using BfZtb759KlUg4482QKym;
using Dj8HDoYxlnY3q8BFWiWA;
using fDaAnbYSYaWjWwFG6Wwg;
using gKkpIxYxtivXtcIFq5ZQ;
using K1GcsD5GTtMSlaiJI0Xh;
using KmrA8oYxgReC915xXAok;
using kZKenUYLv0ApHh7vqrs9;
using lZa1RcYxpceOGCE3D2AW;
using oZ0ZP8Yx8rxu8kIuctEB;
using TwT0JdYxshabeSw40tbP;
using WoI14AYLGfbQkTr3QyYJ;
using x97CE55GhEYKgt7TSVZT;

namespace piw0EuYS8NttciHpmTMI;

internal sealed class dKNWBDYS7oirBd4qjXTl : MZa5L2YSGdvn6R9rvcQn, IDisposable
{
	[CompilerGenerated]
	private sealed class HKVABEaW4KZarlK0UTYC
	{
		public byte[] tDQaWbAuW0h;

		internal static HKVABEaW4KZarlK0UTYC zlOKCaL0evsTpdWH0SGs;

		public HKVABEaW4KZarlK0UTYC()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			base._002Ector();
		}

		internal bool CRoaWDTaF5q(byte t, int i)
		{
			return t != tDQaWbAuW0h[i];
		}

		static HKVABEaW4KZarlK0UTYC()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool LpbJp1L0s8v2ARE51TU0()
		{
			return zlOKCaL0evsTpdWH0SGs == null;
		}

		internal static HKVABEaW4KZarlK0UTYC ku3VThL0X2GYkvxBjdeo()
		{
			return zlOKCaL0evsTpdWH0SGs;
		}
	}

	private readonly WguQRvYxiy6xOxYF24IV WXCYxHVKcX1;

	private readonly LqOUUyYxZRREmBkFFYKs F4ZYxfHxycy;

	private readonly lQg3MEYxWQyqXFg2NabY KwWYx9TvwsH;

	private readonly nXPTasYxeDVW595SriUN bXhYxn3BBS0;

	private int AwXYxGwc34g;

	private long KkHYxYnZLUs;

	private readonly long KqlYxokrIP4;

	private DateTime Jh9Yxv48X9r;

	[CompilerGenerated]
	private string QZ3YxBKyFhT;

	[CompilerGenerated]
	private string WhuYxaP9S6k;

	private static dKNWBDYS7oirBd4qjXTl xF3yOtSbOIyE135sAJ51;

	[SpecialName]
	[CompilerGenerated]
	public string WXLYS3UuPQE()
	{
		return QZ3YxBKyFhT;
	}

	[SpecialName]
	[CompilerGenerated]
	private void GIdYSpod80f(string P_0)
	{
		QZ3YxBKyFhT = P_0;
	}

	[SpecialName]
	[CompilerGenerated]
	public string LpbYSzgAcIS()
	{
		return WhuYxaP9S6k;
	}

	[SpecialName]
	[CompilerGenerated]
	private void zwZYx0hwqYi(string P_0)
	{
		WhuYxaP9S6k = P_0;
	}

	public dKNWBDYS7oirBd4qjXTl(string P_0)
	{
		lFWRmISbWV5yqcqPdRta();
		base._002Ector();
		HKVABEaW4KZarlK0UTYC CS_0024_003C_003E8__locals4 = new HKVABEaW4KZarlK0UTYC();
		FoWYSsTpo6P(_0020: false);
		MemoryStream memoryStream = new MemoryStream();
		int num = 5;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a492d58832fc437f977bce5ba015cace != 0)
		{
			num = 1;
		}
		byte[] array = default(byte[]);
		while (true)
		{
			switch (num)
			{
			case 11:
				KqlYxokrIP4 = WXCYxHVKcX1.BaseStream.Position;
				num = 10;
				continue;
			case 9:
				CS_0024_003C_003E8__locals4.tDQaWbAuW0h = ((Encoding)NnK5mGSbTM6KiSMjf7s9()).GetBytes(F71m3059rTj4gyFcUtWX.JNO5no2YvQQ(-2063361985 ^ -2063411399));
				array = new byte[CS_0024_003C_003E8__locals4.tDQaWbAuW0h.Length];
				num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_c39cf65fb9834816b04c914d068177cc != 0)
				{
					num = 0;
				}
				continue;
			case 5:
			{
				using (FileStream fileStream = new FileStream(P_0, FileMode.Open, FileAccess.Read))
				{
					using (GZipStream gZipStream = new GZipStream(fileStream, CompressionMode.Decompress))
					{
						IiJhQRSbto68jlJoC7AJ(gZipStream, memoryStream);
					}
					uGnevvSbUPAbgVId7ryl(memoryStream, 0L);
					int num3 = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_af030adc5d834c7fa654aaa946f39572 != 0)
					{
						num3 = 0;
					}
					switch (num3)
					{
					default:
						fileStream.Dispose();
						break;
					}
				}
				goto case 9;
			}
			case 2:
				return;
			case 7:
				GIdYSpod80f(WXCYxHVKcX1.ReadString());
				zwZYx0hwqYi(WXCYxHVKcX1.ReadString());
				num = 8;
				continue;
			case 8:
				y80YS1SEk52(new DateTime(WXCYxHVKcX1.ReadInt64(), DateTimeKind.Utc));
				KkHYxYnZLUs = lGHN6hSbV1kb5y9NwOKI(gmaYSkfmP6q());
				base.Symbol = new ac7kR4Yx3NknD6U6jcv9
				{
					Type = WXCYxHVKcX1.ReadInt32(),
					Symbol = WXCYxHVKcX1.ReadString(),
					HdcYL22OuqD = WXCYxHVKcX1.ReadString(),
					Name = WXCYxHVKcX1.ReadString(),
					ShortName = (string)Pi9TMOSbCEsArMYgto5Z(WXCYxHVKcX1),
					KrWYLHKXf7w = WXCYxHVKcX1.ReadInt32(),
					LotSize = WXCYxHVKcX1.ReadInt32(),
					peOYLfOpD0D = gHLxdTSbrO6LQODp4uIS(WXCYxHVKcX1),
					iNsYL97Dy1T = WXCYxHVKcX1.ReadDouble()
				};
				num = 3;
				continue;
			case 4:
				F4ZYxfHxycy.UvYYx6mYEar(delegate(SOquTYYLoauEnburNGkL sOquTYYLoauEnburNGkL)
				{
					K45YSo41gRh(base.Symbol, sOquTYYLoauEnburNGkL);
				});
				KwWYx9TvwsH.UvYYx6mYEar(delegate(e5yKB3YLnKBHf1HMae9I e5yKB3YLnKBHf1HMae9I)
				{
					KMhYSvB6Iqp(base.Symbol, e5yKB3YLnKBHf1HMae9I);
				});
				bXhYxn3BBS0.UvYYx6mYEar(delegate(OXs19vYx7LF7TqMvZge6 oXs19vYx7LF7TqMvZge)
				{
					jasYSBG7Glv(base.Symbol, oXs19vYx7LF7TqMvZge);
				});
				num = 11;
				continue;
			case 6:
			{
				bXhYxn3BBS0 = new nXPTasYxeDVW595SriUN(WXCYxHVKcX1);
				int num2 = 4;
				num = num2;
				continue;
			}
			case 3:
				F4ZYxfHxycy = new LqOUUyYxZRREmBkFFYKs(WXCYxHVKcX1);
				KwWYx9TvwsH = new lQg3MEYxWQyqXFg2NabY(WXCYxHVKcX1);
				num = 6;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_fa8be6623d5e44eaab7d6eddb44c1bc4 != 0)
				{
					num = 3;
				}
				continue;
			case 10:
				FoWYSsTpo6P(_0020: true);
				num = 2;
				continue;
			case 1:
				return;
			}
			if (memoryStream.Read(array, 0, array.Length) != CS_0024_003C_003E8__locals4.tDQaWbAuW0h.Length)
			{
				h9qUcJSby8oCcUFe3CXs(memoryStream);
				num = 1;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_320dc241f2414298b90e22a730a02f87 != 0)
				{
					num = 0;
				}
				continue;
			}
			if (array.Where((byte t, int i) => t != CS_0024_003C_003E8__locals4.tDQaWbAuW0h[i]).Any())
			{
				memoryStream.Dispose();
				return;
			}
			if (EQ1GY0SbZ8Fp00GAK628(memoryStream) != 3)
			{
				h9qUcJSby8oCcUFe3CXs(memoryStream);
				return;
			}
			WXCYxHVKcX1 = new WguQRvYxiy6xOxYF24IV(memoryStream);
			num = 7;
		}
	}

	private void wClYSAlmjrp()
	{
		try
		{
			KkHYxYnZLUs = WXCYxHVKcX1.MdEYxb2TmTZ(KkHYxYnZLUs);
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_87bc9f389c844fd48eb0e7e8f7297794 != 0)
			{
				num = 0;
			}
			while (true)
			{
				switch (num)
				{
				case 1:
					return;
				}
				yxyYSx1pFQs(WguQRvYxiy6xOxYF24IV.UeyYxk2fIWu(KkHYxYnZLUs));
				AwXYxGwc34g = WXCYxHVKcX1.ReadByte();
				if (!(O4dC1XSbKFAmeRpir5tM() > Jh9Yxv48X9r.AddMilliseconds(250.0)))
				{
					return;
				}
				Jh9Yxv48X9r = DateTime.Now;
				IVcYSaFs0qC(base.Symbol, gmaYSkfmP6q(), XOhYSSErelt());
				num = 1;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_04ffa74e86424225b1da01f05c8e1ee9 != 0)
				{
					num = 1;
				}
			}
		}
		catch (EndOfStreamException)
		{
			yxyYSx1pFQs(DateTime.MaxValue);
		}
	}

	public override void cFSloqb3PWY()
	{
		int num = 4;
		int num2 = num;
		int awXYxGwc34g = default(int);
		while (true)
		{
			switch (num2)
			{
			case 2:
				goto IL_0040;
			case 4:
				awXYxGwc34g = AwXYxGwc34g;
				num2 = 2;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_cf97b2c5010b479fbed313b322c2166c == 0)
				{
					num2 = 3;
				}
				continue;
			case 3:
				{
					switch (awXYxGwc34g)
					{
					case 1:
						break;
					case 3:
						goto IL_0040;
					default:
						goto IL_00a6;
					case 2:
						goto IL_00c0;
					}
					KlvIAoSbmLEeoifW0iKk(F4ZYxfHxycy);
					break;
				}
				IL_00c0:
				KwWYx9TvwsH.cFSloqb3PWY();
				num2 = 1;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_13e7dc070b7c4c79a18cbee083c6ec1e == 0)
				{
					num2 = 1;
				}
				continue;
				IL_00a6:
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_34f7564c04fe45f19304e3f180fc4506 == 0)
				{
					num2 = 0;
				}
				continue;
				IL_0040:
				bXhYxn3BBS0.cFSloqb3PWY();
				break;
			}
			break;
		}
		wClYSAlmjrp();
	}

	public override void kL3loIX78kK()
	{
		((Stream)VXgI5HSbhFqmMCUWJGXv(WXCYxHVKcX1)).Position = KqlYxokrIP4;
		KkHYxYnZLUs = WguQRvYxiy6xOxYF24IV.fEjYxNFo7Vl(gmaYSkfmP6q());
		Jh9Yxv48X9r = DateTime.MinValue;
		KQN2eSSbwAO3Zo9CklnZ(F4ZYxfHxycy);
		int num = 1;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_72ba3e053a3b4440a15c5dbd38bc37f7 == 0)
		{
			num = 1;
		}
		while (true)
		{
			switch (num)
			{
			default:
				return;
			case 0:
				return;
			case 2:
				wClYSAlmjrp();
				num = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_52cc4e9134f2471cbe16e9a63df4155b == 0)
				{
					num = 0;
				}
				break;
			case 1:
				KwWYx9TvwsH.miEYxUn6h4T();
				bXhYxn3BBS0.beMYxX39Is1();
				num = 2;
				break;
			}
		}
	}

	public void Dispose()
	{
		WguQRvYxiy6xOxYF24IV wXCYxHVKcX = WXCYxHVKcX1;
		if (wXCYxHVKcX != null)
		{
			FxckYuSb7KnBL1PwF4Uv(wXCYxHVKcX);
		}
	}

	[CompilerGenerated]
	private void KIBYSPWjRpR(SOquTYYLoauEnburNGkL P_0)
	{
		K45YSo41gRh(base.Symbol, P_0);
	}

	[CompilerGenerated]
	private void GmAYSJhW6Gg(e5yKB3YLnKBHf1HMae9I P_0)
	{
		KMhYSvB6Iqp(base.Symbol, P_0);
	}

	[CompilerGenerated]
	private void KSNYSFdO8IU(OXs19vYx7LF7TqMvZge6 P_0)
	{
		jasYSBG7Glv(base.Symbol, P_0);
	}

	static dKNWBDYS7oirBd4qjXTl()
	{
		TBiqr3Sb8l8ivJxHar1p();
		pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
	}

	internal static bool i5YUUvSbqATemHTS0eAU()
	{
		return xF3yOtSbOIyE135sAJ51 == null;
	}

	internal static dKNWBDYS7oirBd4qjXTl AdjSF6SbIG9hkmibxgyM()
	{
		return xF3yOtSbOIyE135sAJ51;
	}

	internal static void lFWRmISbWV5yqcqPdRta()
	{
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
	}

	internal static void IiJhQRSbto68jlJoC7AJ(object P_0, object P_1)
	{
		((Stream)P_0).CopyTo((Stream)P_1);
	}

	internal static void uGnevvSbUPAbgVId7ryl(object P_0, long P_1)
	{
		((Stream)P_0).Position = P_1;
	}

	internal static object NnK5mGSbTM6KiSMjf7s9()
	{
		return Encoding.ASCII;
	}

	internal static void h9qUcJSby8oCcUFe3CXs(object P_0)
	{
		((Stream)P_0).Dispose();
	}

	internal static int EQ1GY0SbZ8Fp00GAK628(object P_0)
	{
		return ((Stream)P_0).ReadByte();
	}

	internal static long lGHN6hSbV1kb5y9NwOKI(DateTime P_0)
	{
		return WguQRvYxiy6xOxYF24IV.fEjYxNFo7Vl(P_0);
	}

	internal static object Pi9TMOSbCEsArMYgto5Z(object P_0)
	{
		return ((BinaryReader)P_0).ReadString();
	}

	internal static double gHLxdTSbrO6LQODp4uIS(object P_0)
	{
		return ((BinaryReader)P_0).ReadDouble();
	}

	internal static DateTime O4dC1XSbKFAmeRpir5tM()
	{
		return DateTime.Now;
	}

	internal static void KlvIAoSbmLEeoifW0iKk(object P_0)
	{
		((GSmpvHYxdci6k38dPXof<SOquTYYLoauEnburNGkL>)P_0).cFSloqb3PWY();
	}

	internal static object VXgI5HSbhFqmMCUWJGXv(object P_0)
	{
		return ((BinaryReader)P_0).BaseStream;
	}

	internal static void KQN2eSSbwAO3Zo9CklnZ(object P_0)
	{
		((LqOUUyYxZRREmBkFFYKs)P_0).DI3YxCl0aMR();
	}

	internal static void FxckYuSb7KnBL1PwF4Uv(object P_0)
	{
		((BinaryReader)P_0).Dispose();
	}

	internal static void TBiqr3Sb8l8ivJxHar1p()
	{
		F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
	}
}
