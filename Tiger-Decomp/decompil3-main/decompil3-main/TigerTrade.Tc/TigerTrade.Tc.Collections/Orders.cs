using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Threading;
using BfZtb759KlUg4482QKym;
using K1GcsD5GTtMSlaiJI0Xh;
using TigerTrade.Tc.Data;
using x97CE55GhEYKgt7TSVZT;

namespace TigerTrade.Tc.Collections;

internal sealed class Orders
{
	[CompilerGenerated]
	private sealed class OdKFu0ioUAgnWor9V1Ng
	{
		public Symbol hPNioyKDfuU;

		public long GCCioZy2JSu;

		internal static OdKFu0ioUAgnWor9V1Ng PardOkL6CaRPkF4BwfI7;

		public OdKFu0ioUAgnWor9V1Ng()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			base._002Ector();
		}

		internal bool D0lioT51u3m(Order o)
		{
			if (o.Symbol.ID == hPNioyKDfuU.ID)
			{
				return o.StopPrice == GCCioZy2JSu;
			}
			return false;
		}

		static OdKFu0ioUAgnWor9V1Ng()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool Q0D94DL6r89t3newI0yP()
		{
			return PardOkL6CaRPkF4BwfI7 == null;
		}

		internal static OdKFu0ioUAgnWor9V1Ng yEq5v9L6KmCWCD16Qu3D()
		{
			return PardOkL6CaRPkF4BwfI7;
		}
	}

	[CompilerGenerated]
	private sealed class XFJ5WqioViPLSj0pid5a
	{
		public Symbol KfuiorGxm34;

		public Account JylioKTwjGR;

		internal static XFJ5WqioViPLSj0pid5a cnMfBXL6mAUKl7993WOw;

		public XFJ5WqioViPLSj0pid5a()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			base._002Ector();
		}

		internal bool dSkioC18JRg(Order e)
		{
			if (e.Invisible || !(e.Symbol.ID == (string)Um6ZhcL67rgIthjJh8nl(KfuiorGxm34)))
			{
				return false;
			}
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ac3f8b71231e4b108fd519d939438d5a == 0)
			{
				num = 0;
			}
			return num switch
			{
				_ => ps0MWYL68JZigSt9v7mA(e.Account.AccountID, JylioKTwjGR.AccountID), 
			};
		}

		static XFJ5WqioViPLSj0pid5a()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool jYkwTlL6hmkDHMWDfadf()
		{
			return cnMfBXL6mAUKl7993WOw == null;
		}

		internal static XFJ5WqioViPLSj0pid5a WrmpsoL6w9Nln88GvsV3()
		{
			return cnMfBXL6mAUKl7993WOw;
		}

		internal static object Um6ZhcL67rgIthjJh8nl(object P_0)
		{
			return ((Symbol)P_0).ID;
		}

		internal static bool ps0MWYL68JZigSt9v7mA(object P_0, object P_1)
		{
			return (string)P_0 == (string)P_1;
		}
	}

	[CompilerGenerated]
	private sealed class ojYljxiomF7QoxunUcXy
	{
		public string bhGiowxnNFO;

		private static ojYljxiomF7QoxunUcXy yD6WWML6ANvd27egrp96;

		public ojYljxiomF7QoxunUcXy()
		{
			MyN23eL6FL6P2ewpF2Fl();
			base._002Ector();
		}

		internal bool o0kioh8EEfH(Order e)
		{
			return ysS5WcL634RQkcxNvSxx(e.TrustID, bhGiowxnNFO);
		}

		static ojYljxiomF7QoxunUcXy()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
			Qlxmh6L6p46MvkxTMEFU();
		}

		internal static void MyN23eL6FL6P2ewpF2Fl()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		}

		internal static bool PBoTg2L6P7BotVR0QIWO()
		{
			return yD6WWML6ANvd27egrp96 == null;
		}

		internal static ojYljxiomF7QoxunUcXy wxvRSTL6JYSmL9itCPH8()
		{
			return yD6WWML6ANvd27egrp96;
		}

		internal static bool ysS5WcL634RQkcxNvSxx(object P_0, object P_1)
		{
			return (string)P_0 == (string)P_1;
		}

		internal static void Qlxmh6L6p46MvkxTMEFU()
		{
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}
	}

	[Serializable]
	[CompilerGenerated]
	private sealed class N1jEwyio74UTX9ughuHc
	{
		public static readonly N1jEwyio74UTX9ughuHc aQKioAMekB6;

		public static Func<Order, bool> NDqioPUNnUJ;

		private static N1jEwyio74UTX9ughuHc dwkOQbL6uhYeUyMMC1qH;

		static N1jEwyio74UTX9ughuHc()
		{
			qMmemxLM2AOXHtNkB0ir();
			XMIYnuLMH0Ab1pEfVqMo();
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ce4051eadf70452db4b28dca356319d1 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			aQKioAMekB6 = new N1jEwyio74UTX9ughuHc();
		}

		public N1jEwyio74UTX9ughuHc()
		{
			pb9l3aLMfDEBEsnaIypx();
			base._002Ector();
		}

		internal bool Dvrio8CvqEs(Order c)
		{
			return c.IsActive;
		}

		internal static void qMmemxLM2AOXHtNkB0ir()
		{
			F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
		}

		internal static void XMIYnuLMH0Ab1pEfVqMo()
		{
			pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool uOgMS1L6zsIHOH98MyHJ()
		{
			return dwkOQbL6uhYeUyMMC1qH == null;
		}

		internal static N1jEwyio74UTX9ughuHc zKs9pLLM027klqS6sNG3()
		{
			return dwkOQbL6uhYeUyMMC1qH;
		}

		internal static void pb9l3aLMfDEBEsnaIypx()
		{
			itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		}
	}

	private static readonly List<Order> TGiaQD64oc5;

	private readonly Dictionary<string, Order> HihaQbQHreQ;

	private readonly List<Order> JK5aQNEDkOn;

	private readonly List<Order> SShaQkIO9Qu;

	private readonly List<Order> TP6aQ11oTWB;

	private readonly List<Order> Mg1aQ5HI7fQ;

	private readonly object BsTaQSDmjMX;

	private static Orders T6ivA6x8TQUMSFvvx608;

	public void XIQaQGWHww8(Order P_0)
	{
		int num = 1;
		int num2 = num;
		object bsTaQSDmjMX = default(object);
		Order current = default(Order);
		while (true)
		{
			switch (num2)
			{
			case 1:
				bsTaQSDmjMX = BsTaQSDmjMX;
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a00a0a595d0940febaa0173bc44df36c != 0)
				{
					num2 = 0;
				}
				continue;
			}
			bool lockTaken = false;
			try
			{
				Monitor.Enter(bsTaQSDmjMX, ref lockTaken);
				if (!aKOeLWx8VVQgypEHWbSl(P_0.OrderID))
				{
					goto IL_00aa;
				}
				goto IL_00ca;
				IL_00ca:
				JK5aQNEDkOn.Clear();
				SShaQkIO9Qu.Clear();
				fSMLFkx8C7BtTDBs0ZiW(TP6aQ11oTWB);
				int num3 = 3;
				goto IL_0038;
				IL_0038:
				while (true)
				{
					switch (num3)
					{
					default:
					{
						using Dictionary<string, Order>.ValueCollection.Enumerator enumerator = HihaQbQHreQ.Values.GetEnumerator();
						while (true)
						{
							int num4;
							if (!enumerator.MoveNext())
							{
								num4 = 2;
								goto IL_0152;
							}
							goto IL_01c1;
							IL_0241:
							JK5aQNEDkOn.Add(current);
							num4 = 3;
							if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9db030806b504c748b649e391f655c9f == 0)
							{
								num4 = 3;
							}
							goto IL_0152;
							IL_01c1:
							current = enumerator.Current;
							if (!current.IsActive)
							{
								continue;
							}
							switch (current.Type)
							{
							case OrderType.Market:
							case OrderType.Limit:
								break;
							case OrderType.Trigger:
								goto IL_01cf;
							default:
								goto IL_0241;
							case OrderType.Stop:
							case OrderType.StopLimit:
								TP6aQ11oTWB.Add(current);
								goto IL_0241;
							}
							SShaQkIO9Qu.Add(current);
							num4 = 0;
							if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_af030adc5d834c7fa654aaa946f39572 != 0)
							{
								num4 = 1;
							}
							goto IL_0152;
							IL_0152:
							switch (num4)
							{
							case 2:
								return;
							case 3:
								break;
							case 4:
								goto IL_01c1;
							default:
								goto IL_01cf;
							case 1:
								goto IL_0241;
							}
							continue;
							IL_01cf:
							Mg1aQ5HI7fQ.Add(current);
							goto IL_0241;
						}
					}
					case 2:
						break;
					case 1:
						goto IL_00aa;
					case 3:
						Mg1aQ5HI7fQ.Clear();
						num3 = 0;
						if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_eb6cefc1df37468ab8b9384866953722 == 0)
						{
							num3 = 0;
						}
						continue;
					}
					break;
				}
				HihaQbQHreQ.Add(P_0.OrderID, P_0);
				goto IL_00ca;
				IL_00aa:
				if (!HihaQbQHreQ.ContainsKey(P_0.OrderID))
				{
					num3 = 2;
					goto IL_0038;
				}
				goto IL_00ca;
			}
			finally
			{
				if (lockTaken)
				{
					Monitor.Exit(bsTaQSDmjMX);
				}
			}
		}
	}

	public bool PUyaQYEFlOd(Order P_0)
	{
		object bsTaQSDmjMX = BsTaQSDmjMX;
		bool lockTaken = false;
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_17fedee5938443f6baffb805b38387d5 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		default:
			try
			{
				Monitor.Enter(bsTaQSDmjMX, ref lockTaken);
				int result;
				if (P_0 != null)
				{
					int num2 = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_8ac3c5fcdf484302951e15fc405858a5 == 0)
					{
						num2 = 0;
					}
					switch (num2)
					{
					}
					result = (HihaQbQHreQ.ContainsKey(P_0.OrderID) ? 1 : 0);
				}
				else
				{
					result = 0;
				}
				return (byte)result != 0;
			}
			finally
			{
				if (lockTaken)
				{
					w58YIox8rc0rjrFuQGNo(bsTaQSDmjMX);
				}
			}
		}
	}

	public Order kJOaQoAYWmU(string P_0)
	{
		int num = 1;
		int num2 = num;
		while (true)
		{
			switch (num2)
			{
			case 1:
				if (!string.IsNullOrEmpty(P_0))
				{
					num2 = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7ea79d38f01f491fa0470ff9768a1574 != 0)
					{
						num2 = 0;
					}
					continue;
				}
				goto case 2;
			case 2:
				return null;
			}
			lock (BsTaQSDmjMX)
			{
				if (!HihaQbQHreQ.ContainsKey(P_0))
				{
					goto IL_0091;
				}
				object obj = HihaQbQHreQ[P_0];
				goto IL_00dd;
				IL_0091:
				obj = null;
				goto IL_00dd;
				IL_00dd:
				Order result = (Order)obj;
				int num3 = 1;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7a1d7fffd3b3456599571ecbfd877437 != 0)
				{
					num3 = 1;
				}
				switch (num3)
				{
				case 1:
					return result;
				}
				goto IL_0091;
			}
		}
	}

	public Order NYUaQvjSnlA(Symbol P_0, long P_1)
	{
		OdKFu0ioUAgnWor9V1Ng CS_0024_003C_003E8__locals4 = new OdKFu0ioUAgnWor9V1Ng();
		CS_0024_003C_003E8__locals4.hPNioyKDfuU = P_0;
		int num = 1;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_72ba3e053a3b4440a15c5dbd38bc37f7 == 0)
		{
			num = 1;
		}
		switch (num)
		{
		default:
		{
			Order result = default(Order);
			return result;
		}
		case 1:
		{
			CS_0024_003C_003E8__locals4.GCCioZy2JSu = P_1;
			object bsTaQSDmjMX = BsTaQSDmjMX;
			bool lockTaken = false;
			try
			{
				Monitor.Enter(bsTaQSDmjMX, ref lockTaken);
				return Mg1aQ5HI7fQ.FirstOrDefault((Order o) => o.Symbol.ID == CS_0024_003C_003E8__locals4.hPNioyKDfuU.ID && o.StopPrice == CS_0024_003C_003E8__locals4.GCCioZy2JSu);
			}
			finally
			{
				if (lockTaken)
				{
					w58YIox8rc0rjrFuQGNo(bsTaQSDmjMX);
				}
			}
		}
		}
	}

	public List<Order> WhJaQBZfeMq(Symbol P_0, Account P_1)
	{
		XFJ5WqioViPLSj0pid5a CS_0024_003C_003E8__locals6 = new XFJ5WqioViPLSj0pid5a();
		CS_0024_003C_003E8__locals6.KfuiorGxm34 = P_0;
		CS_0024_003C_003E8__locals6.JylioKTwjGR = P_1;
		if (CS_0024_003C_003E8__locals6.KfuiorGxm34 == null || CS_0024_003C_003E8__locals6.JylioKTwjGR == null)
		{
			return null;
		}
		lock (BsTaQSDmjMX)
		{
			return JK5aQNEDkOn.Where(delegate(Order e)
			{
				if (!e.Invisible && e.Symbol.ID == (string)XFJ5WqioViPLSj0pid5a.Um6ZhcL67rgIthjJh8nl(CS_0024_003C_003E8__locals6.KfuiorGxm34))
				{
					int num = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_ac3f8b71231e4b108fd519d939438d5a == 0)
					{
						num = 0;
					}
					return num switch
					{
						_ => XFJ5WqioViPLSj0pid5a.ps0MWYL68JZigSt9v7mA(e.Account.AccountID, CS_0024_003C_003E8__locals6.JylioKTwjGR.AccountID), 
					};
				}
				return false;
			}).ToList();
		}
	}

	public List<Order> LHmaQasmvtB(string P_0)
	{
		ojYljxiomF7QoxunUcXy CS_0024_003C_003E8__locals3 = new ojYljxiomF7QoxunUcXy();
		CS_0024_003C_003E8__locals3.bhGiowxnNFO = P_0;
		if (string.IsNullOrEmpty(CS_0024_003C_003E8__locals3.bhGiowxnNFO))
		{
			return new List<Order>();
		}
		lock (BsTaQSDmjMX)
		{
			return JK5aQNEDkOn.Where((Order e) => ojYljxiomF7QoxunUcXy.ysS5WcL634RQkcxNvSxx(e.TrustID, CS_0024_003C_003E8__locals3.bhGiowxnNFO)).ToList();
		}
	}

	public List<Order> VlLaQixssUY(OrderGroup P_0, string P_1 = null)
	{
		lock (BsTaQSDmjMX)
		{
			return P_0 switch
			{
				OrderGroup.MarketAndLimit => DvNaQlXaCnP(SShaQkIO9Qu, P_1), 
				OrderGroup.StopAndStopLimit => DvNaQlXaCnP(TP6aQ11oTWB, P_1), 
				OrderGroup.Trigger => DvNaQlXaCnP(Mg1aQ5HI7fQ, P_1), 
				_ => DvNaQlXaCnP(JK5aQNEDkOn, P_1), 
			};
		}
	}

	public void Clear()
	{
	}

	private List<Order> DvNaQlXaCnP(List<Order> P_0, string P_1)
	{
		if (string.IsNullOrEmpty(P_1))
		{
			return P_0.ToList();
		}
		List<Order> list = TGiaQD64oc5;
		foreach (Order item in P_0)
		{
			if (string.Equals(P_1, item.Symbol.ID))
			{
				if (list == TGiaQD64oc5)
				{
					list = new List<Order>();
				}
				list.Add(item);
			}
		}
		return list;
	}

	public int uYsaQ41jpxu()
	{
		return JK5aQNEDkOn.Count((Order c) => c.IsActive);
	}

	public Orders()
	{
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		HihaQbQHreQ = new Dictionary<string, Order>();
		JK5aQNEDkOn = new List<Order>();
		SShaQkIO9Qu = new List<Order>();
		TP6aQ11oTWB = new List<Order>();
		Mg1aQ5HI7fQ = new List<Order>();
		BsTaQSDmjMX = new object();
		base._002Ector();
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a93fb37f4fb14fd7a8fe9a7679ccbe04 != 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	static Orders()
	{
		aNTiLex8Ktcx5gjDmedO();
		pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9af6b53eda9a447491409b945b9ad16e == 0)
		{
			num = 0;
		}
		switch (num)
		{
		}
		TGiaQD64oc5 = new List<Order>();
	}

	internal static bool aKOeLWx8VVQgypEHWbSl(object P_0)
	{
		return string.IsNullOrEmpty((string)P_0);
	}

	internal static void fSMLFkx8C7BtTDBs0ZiW(object P_0)
	{
		((List<Order>)P_0).Clear();
	}

	internal static bool nVlLr1x8y39S38nQit9s()
	{
		return T6ivA6x8TQUMSFvvx608 == null;
	}

	internal static Orders lfknHvx8ZVHs272Xbpx8()
	{
		return T6ivA6x8TQUMSFvvx608;
	}

	internal static void w58YIox8rc0rjrFuQGNo(object P_0)
	{
		Monitor.Exit(P_0);
	}

	internal static void aNTiLex8Ktcx5gjDmedO()
	{
		F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
	}
}
