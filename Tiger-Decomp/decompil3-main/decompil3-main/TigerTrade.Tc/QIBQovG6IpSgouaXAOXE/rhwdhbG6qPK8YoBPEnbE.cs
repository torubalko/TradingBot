using System;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Net.Sockets;
using System.Text;
using BfZtb759KlUg4482QKym;
using hkoWc1GIokuwlRpModAL;
using JRwshAGIG9TQVUyhbBfS;
using K1GcsD5GTtMSlaiJI0Xh;
using moF8YxGOi5FwsSIWeLap;
using O2X6RyG6QLCpcSMn3fTJ;
using o3SItMGQub9nO4Zqixv5;
using pRyW3dGIHuKegJRGmAhq;
using pSssOpGqtyTOqDEeDFs6;
using quN8cNG6O2d1RjSLs5mv;
using R1cKQkGRYNeoqrccijrj;
using t2RXnxGI0scLRJTKppKt;
using TNBCLrG6e11QwSKtCF6f;
using x97CE55GhEYKgt7TSVZT;

namespace QIBQovG6IpSgouaXAOXE;

internal class rhwdhbG6qPK8YoBPEnbE : PK42LaGQpT0u1hAep0F6, srw1pmG6MrD4VQuHRuaM
{
	private int Gh9G6UMW3JD;

	private YmAWnOGqzQWxN1OoHkp8 AMBG6TsfvH6;

	private int HpvG6y7CbSt;

	internal static rhwdhbG6qPK8YoBPEnbE zUjPEE5dj4ElAXaiv6gK;

	public rhwdhbG6qPK8YoBPEnbE(aTSmKTGIY4jdAKXPTNeA P_0, YmAWnOGqzQWxN1OoHkp8 P_1)
	{
		v8EVaw5dd9VQs61J16EJ();
		base._002Ector(P_0);
		AMBG6TsfvH6 = P_1;
		int num = 0;
		if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_cda90b2e8c4e4a1095d682ebf3835244 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	void srw1pmG6MrD4VQuHRuaM.E6PlGp2v1fj(int P_0, string P_1)
	{
		int num = 2;
		int num2 = num;
		List<byte> list = default(List<byte>);
		while (true)
		{
			switch (num2)
			{
			case 4:
				if (uUtGgkyyAyS(38, ""))
				{
					goto case 5;
				}
				OpwGgsDVdj0("");
				return;
			case 1:
				if (!t53GguDedG4)
				{
					num2 = 4;
					break;
				}
				if (KV2GgAtZ1h7 < 100 || KV2GgAtZ1h7 > 151)
				{
					LWUGgJP072l.error(vKmGg3TUdjx, iLl31q5dgsFSvmAHVNhG(TFQiB6GRGBNKSY9ea8V6.bH2GRPnUpHS), (string)WW7eTH5dRl5gWgWLyknm(TFQiB6GRGBNKSY9ea8V6.bH2GRPnUpHS));
					return;
				}
				num2 = 5;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_70b4b4a3c8d3471f9796e8c8caf6f35b == 0)
				{
					num2 = 0;
				}
				break;
			case 6:
				return;
			case 3:
				list.AddRange(((Encoding)otelA85d6XNu4wmlxi2r()).GetBytes(vKmGg3TUdjx.ToString()));
				list.Add(0);
				num2 = 7;
				break;
			case 8:
				if (KV2GgAtZ1h7 < 70)
				{
					list = new List<byte>();
					num2 = 3;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_267b6e28e0b84cf5a9effc88636b52de != 0)
					{
						num2 = 0;
					}
					break;
				}
				goto IL_0057;
			case 2:
				KV2GgAtZ1h7 = P_0;
				num2 = 1;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_c39cf65fb9834816b04c914d068177cc == 0)
				{
					num2 = 0;
				}
				break;
			default:
				SlMGgFkmInl = true;
				if (!IvrGgwZL4Xj())
				{
					xZmGdHkJAG6();
					num2 = 6;
					break;
				}
				return;
			case 7:
				XckGgPoCRgs.UKelYvIQf4p(new gVcH0dGOaoPveD5KlIGw(list.ToArray()));
				goto IL_0057;
			case 5:
				{
					if (KV2GgAtZ1h7 >= 3)
					{
						num2 = 8;
						if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_c39cf65fb9834816b04c914d068177cc == 0)
						{
							num2 = 2;
						}
						break;
					}
					goto IL_0057;
				}
				IL_0057:
				bCKGgCVqjbX(P_1);
				num2 = 0;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_1d4a4f3099134e0e94d0aa5f4bb135c6 == 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	public void wARG6WIxlea(string P_0, int P_1, int P_2)
	{
		RwhG6tbItnv(P_0, P_1, P_2, _0020: false);
	}

	protected virtual Stream qEPlGz8Ka4q(string P_0, int P_1)
	{
		return (Stream)UA9Bk25dMclrLPULYCbP(new TcpClient(P_0, P_1));
	}

	public void RwhG6tbItnv(string P_0, int P_1, int P_2, bool P_3)
	{
		if (SlMGgFkmInl)
		{
			K3EBPc5dOC1Rqrre0UZ4(LWUGgJP072l, -1, TFQiB6GRGBNKSY9ea8V6.wxIGRoSQXtt.Code, TFQiB6GRGBNKSY9ea8V6.wxIGRoSQXtt.Message);
			int num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_f2a416e6ad3f40c68e350adb5940cd75 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			case 0:
				break;
			}
			return;
		}
		try
		{
			jltGRfupFjV = (Stream)xaIuPo5dqbXE6sAj4Ppm(this, P_0, P_1);
			int num2 = 1;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_376f2bcb10134b91b6257ed8645d119a != 0)
			{
				num2 = 1;
			}
			ykhIs6GqWrbD2AWxh74g ykhIs6GqWrbD2AWxh74g = default(ykhIs6GqWrbD2AWxh74g);
			while (true)
			{
				switch (num2)
				{
				case 4:
					XckGgPoCRgs = new Wl9aYpGI29sF3F7DYw7u(jltGRfupFjV);
					vKmGg3TUdjx = P_2;
					num2 = 5;
					break;
				default:
					if (!xHmfMY5dW3n9qPmCP8oV(ykhIs6GqWrbD2AWxh74g))
					{
						return;
					}
					AMBG6TsfvH6.vjhlYoMgWsq();
					slRqER5dIGWeFl9OHljC(ykhIs6GqWrbD2AWxh74g);
					num2 = 2;
					break;
				case 1:
					Gh9G6UMW3JD = P_1;
					num2 = 4;
					break;
				case 2:
				case 3:
					if (KV2GgAtZ1h7 != 0)
					{
						return;
					}
					goto default;
				case 5:
					KVsGgpARSZw = P_3;
					VHOGd2RKP9k();
					if (IvrGgwZL4Xj())
					{
						return;
					}
					ykhIs6GqWrbD2AWxh74g = new ykhIs6GqWrbD2AWxh74g(this, AMBG6TsfvH6);
					num2 = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_2b9e363b0abc4a32a96694deb0f4f698 != 0)
					{
						num2 = 3;
					}
					break;
				}
			}
		}
		catch (ArgumentNullException e)
		{
			LWUGgJP072l.error(e);
		}
		catch (SocketException e2)
		{
			LWUGgJP072l.error(e2);
		}
		catch (sFc9InG6E4peu2A1v60j sFc9InG6E4peu2A1v60j)
		{
			zyywCBG6L7tIWaVe20i2 zyywCBG6L7tIWaVe20i = sFc9InG6E4peu2A1v60j.o4xG6dCTnug();
			K3EBPc5dOC1Rqrre0UZ4(LWUGgJP072l, -1, zyywCBG6L7tIWaVe20i.Code, WW7eTH5dRl5gWgWLyknm(zyywCBG6L7tIWaVe20i));
		}
		catch (Exception e3)
		{
			LWUGgJP072l.error(e3);
		}
	}

	protected override uint ANelGJIUUc7(BinaryWriter P_0)
	{
		int result = (int)P_0.BaseStream.Position;
		if (t53GguDedG4)
		{
			mPNrAp5dtuNtOGEDQlAZ(P_0, 0);
		}
		return (uint)result;
	}

	protected override void YJIlG3OP3H4(BinaryWriter P_0, uint P_1)
	{
		int num = 1;
		int num2 = num;
		MemoryStream memoryStream = default(MemoryStream);
		while (true)
		{
			switch (num2)
			{
			case 3:
				RbmO3u5dyOsnrkcfDctO(XckGgPoCRgs, new gVcH0dGOaoPveD5KlIGw(memoryStream.ToArray()));
				return;
			default:
				B9AXJR5dUvhG0FPq27fK(P_0, (int)P_1, SeekOrigin.Begin);
				P_0.Write(IPAddress.HostToNetworkOrder((int)(P_0.BaseStream.Length - P_1 - 4)));
				goto IL_0078;
			case 1:
				if (t53GguDedG4)
				{
					num2 = 0;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_9db030806b504c748b649e391f655c9f != 0)
					{
						num2 = 0;
					}
					break;
				}
				goto IL_0078;
			case 2:
				{
					memoryStream = new MemoryStream();
					((Stream)qJxJOU5dTiBaL6059Kol(P_0)).CopyTo((Stream)memoryStream);
					num2 = 3;
					if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_7b7109b795404d83aab2ffb6bac7cdab != 0)
					{
						num2 = 3;
					}
					break;
				}
				IL_0078:
				P_0.Seek(0, SeekOrigin.Begin);
				num2 = 2;
				if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_78f2003ea86d4a38b55c210d3b84bb0e != 0)
				{
					num2 = 1;
				}
				break;
			}
		}
	}

	public void p5hlGuOJk3Y(string P_0)
	{
		string[] array;
		int num;
		if (sInGR00R2gm)
		{
			array = (string[])b5eJ1U5dZL94flne8QxQ(P_0, new char[1] { ':' });
			if (array.Length > 1)
			{
				num = 3;
				goto IL_0009;
			}
			goto IL_0169;
		}
		LWUGgJP072l.error(vKmGg3TUdjx, iLl31q5dgsFSvmAHVNhG(TFQiB6GRGBNKSY9ea8V6.uSMGRvUmobl), TFQiB6GRGBNKSY9ea8V6.uSMGRvUmobl.Message);
		return;
		IL_0009:
		while (true)
		{
			switch (num)
			{
			case 3:
				break;
			case 1:
				return;
			case 2:
				Df9lGFMgBxJ();
				LWUGgJP072l.error(vKmGg3TUdjx, TFQiB6GRGBNKSY9ea8V6.uSMGRvUmobl.Code, (string)qIIq1i5dVt2JMWbOH90x(-2063361985 ^ -2063397855));
				return;
			default:
				throw new sFc9InG6E4peu2A1v60j(TFQiB6GRGBNKSY9ea8V6.Bd4GRAc4tWy);
			}
			if (int.TryParse(array[1], out Gh9G6UMW3JD))
			{
				break;
			}
			num = 0;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_a6a8019a3a5d4ff4addfd8869f52f66e == 0)
			{
				num = 0;
			}
		}
		goto IL_0169;
		IL_0169:
		HpvG6y7CbSt++;
		if (HpvG6y7CbSt <= 2)
		{
			Df9lGFMgBxJ(_0020: false);
			RwhG6tbItnv(array[0], Gh9G6UMW3JD, vKmGg3TUdjx, KVsGgpARSZw);
			num = 1;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_18fbecec0dfa44d6afb647cf0f10b685 != 0)
			{
				num = 0;
			}
		}
		else
		{
			num = 2;
			if (_003CModule_003E_007B68812e8e_002D4b5b_002D44f2_002D9304_002D3f1c4ea04b49_007D.m_72ba3e053a3b4440a15c5dbd38bc37f7 == 0)
			{
				num = 0;
			}
		}
		goto IL_0009;
	}

	public override void Df9lGFMgBxJ(bool P_0 = true)
	{
		if (P_0)
		{
			HpvG6y7CbSt = 0;
		}
		base.Df9lGFMgBxJ(P_0);
	}

	static rhwdhbG6qPK8YoBPEnbE()
	{
		F71m3059rTj4gyFcUtWX.xiX5n2gNr23();
		pBBtaj5Gmf2YibAYEwgh.kLjw4iIsCLsZtxc4lksN0j();
	}

	internal static void v8EVaw5dd9VQs61J16EJ()
	{
		itlbck5GUdCiQcy9cfLX.MSJLykDwaZf();
	}

	internal static bool p3oe9g5dEPGeWjXNKr4f()
	{
		return zUjPEE5dj4ElAXaiv6gK == null;
	}

	internal static rhwdhbG6qPK8YoBPEnbE IS31RP5dQ0PoGQi2Pmvo()
	{
		return zUjPEE5dj4ElAXaiv6gK;
	}

	internal static int iLl31q5dgsFSvmAHVNhG(object P_0)
	{
		return ((zyywCBG6L7tIWaVe20i2)P_0).Code;
	}

	internal static object WW7eTH5dRl5gWgWLyknm(object P_0)
	{
		return ((zyywCBG6L7tIWaVe20i2)P_0).Message;
	}

	internal static object otelA85d6XNu4wmlxi2r()
	{
		return Encoding.UTF8;
	}

	internal static object UA9Bk25dMclrLPULYCbP(object P_0)
	{
		return ((TcpClient)P_0).GetStream();
	}

	internal static void K3EBPc5dOC1Rqrre0UZ4(object P_0, int id, int errorCode, object P_3)
	{
		((aTSmKTGIY4jdAKXPTNeA)P_0).error(id, errorCode, (string)P_3);
	}

	internal static object xaIuPo5dqbXE6sAj4Ppm(object P_0, object P_1, int P_2)
	{
		return ((rhwdhbG6qPK8YoBPEnbE)P_0).qEPlGz8Ka4q((string)P_1, P_2);
	}

	internal static void slRqER5dIGWeFl9OHljC(object P_0)
	{
		((ykhIs6GqWrbD2AWxh74g)P_0).j4EGqyZscnA();
	}

	internal static bool xHmfMY5dW3n9qPmCP8oV(object P_0)
	{
		return ((ykhIs6GqWrbD2AWxh74g)P_0).OpwGqZxlqmm();
	}

	internal static void mPNrAp5dtuNtOGEDQlAZ(object P_0, int P_1)
	{
		((BinaryWriter)P_0).Write(P_1);
	}

	internal static long B9AXJR5dUvhG0FPq27fK(object P_0, int P_1, SeekOrigin P_2)
	{
		return ((BinaryWriter)P_0).Seek(P_1, P_2);
	}

	internal static object qJxJOU5dTiBaL6059Kol(object P_0)
	{
		return ((BinaryWriter)P_0).BaseStream;
	}

	internal static void RbmO3u5dyOsnrkcfDctO(object P_0, object P_1)
	{
		((aL93kCGInkTPJhJQ0CIA)P_0).UKelYvIQf4p((gVcH0dGOaoPveD5KlIGw)P_1);
	}

	internal static object b5eJ1U5dZL94flne8QxQ(object P_0, object P_1)
	{
		return ((string)P_0).Split((char[])P_1);
	}

	internal static object qIIq1i5dVt2JMWbOH90x(int P_0)
	{
		return F71m3059rTj4gyFcUtWX.JNO5no2YvQQ(P_0);
	}
}
