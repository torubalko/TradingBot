using System;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using System.Threading;
using EDugZvNwF6e5LYsQZ3C5;
using nff6NvN8pYC4xeKDOd05;
using OrDDjnN8w7riQsQI5MiI;

namespace WYAcs7Gf0uyg0KGebnnM;

public class Ur9thoGHzrQ9IHK1b0K9
{
	[CompilerGenerated]
	private sealed class prNEwsGn4E5rhlOu1IsR
	{
		public CancellationToken d5IGnb0JfNh;

		private static prNEwsGn4E5rhlOu1IsR e78BW4kGfTIHII3e7ta9;

		public prNEwsGn4E5rhlOu1IsR()
		{
			PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
			base._002Ector();
		}

		internal void UX5GnDLJ59K(Thread w)
		{
			w.Start(d5IGnb0JfNh);
		}

		static prNEwsGn4E5rhlOu1IsR()
		{
			RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
			a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool hIZyQmkG96ZBblnBDBPT()
		{
			return e78BW4kGfTIHII3e7ta9 == null;
		}

		internal static prNEwsGn4E5rhlOu1IsR HBSupLkGnIg2SnheB7au()
		{
			return e78BW4kGfTIHII3e7ta9;
		}
	}

	private readonly Thread[] mOtGffdTsR9;

	private readonly Queue<(WaitCallback, object)> SFTGf9fYNhC;

	internal static Ur9thoGHzrQ9IHK1b0K9 YybWcykHIRvYIe36O13m;

	public Ur9thoGHzrQ9IHK1b0K9(long P_0, CancellationToken P_1)
	{
		PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
		prNEwsGn4E5rhlOu1IsR CS_0024_003C_003E8__locals2 = new prNEwsGn4E5rhlOu1IsR();
		CS_0024_003C_003E8__locals2.d5IGnb0JfNh = P_1;
		base._002Ector();
		int num = 6;
		int num2 = default(int);
		Thread thread = default(Thread);
		while (true)
		{
			switch (num)
			{
			case 5:
				if (num2 >= P_0)
				{
					Array.ForEach(mOtGffdTsR9, delegate(Thread w)
					{
						w.Start(CS_0024_003C_003E8__locals2.d5IGnb0JfNh);
					});
					num = 2;
					break;
				}
				thread = new Thread(sZYGf2CGJ8r)
				{
					Name = RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(-29702950 ^ -29702328) + num2,
					IsBackground = true
				};
				num = 1;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_783e3cacc4c64aceb2a405466e887dca != 0)
				{
					num = 1;
				}
				break;
			case 1:
				thread.Priority = ThreadPriority.Normal;
				num = 3;
				break;
			case 6:
				mOtGffdTsR9 = new Thread[P_0];
				num = 0;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_a50ff9449a714e8bbe53d133cc817d7d == 0)
				{
					num = 0;
				}
				break;
			default:
			{
				SFTGf9fYNhC = new Queue<(WaitCallback, object)>();
				int num3 = 4;
				num = num3;
				break;
			}
			case 4:
				num2 = 0;
				goto case 5;
			case 2:
				return;
			case 3:
				mOtGffdTsR9[num2] = thread;
				num2++;
				num = 0;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_dcf268e092ac4c578bd712a783bfb281 != 0)
				{
					num = 5;
				}
				break;
			}
		}
	}

	private void sZYGf2CGJ8r(object P_0)
	{
		CancellationToken cancellationToken = (CancellationToken)P_0;
		Queue<(WaitCallback, object)> queue = new Queue<(WaitCallback, object)>();
		int num = 0;
		if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_66342b195ab94e55a6d46310ab955157 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		}
		try
		{
			Thread.BeginThreadAffinity();
			while (true)
			{
				if (cancellationToken.IsCancellationRequested)
				{
					int num2 = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_9311b07277ff480b8eff60475e1a8f34 != 0)
					{
						num2 = 0;
					}
					switch (num2)
					{
					default:
						return;
					case 1:
						break;
					case 0:
						return;
					}
					continue;
				}
				try
				{
					Queue<(WaitCallback, object)> sFTGf9fYNhC = SFTGf9fYNhC;
					int num3 = 2;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_385d406e010b4835915ac9bee1b2c5fb != 0)
					{
						num3 = 2;
					}
					while (true)
					{
						switch (num3)
						{
						case 2:
						{
							bool lockTaken = false;
							try
							{
								Monitor.Enter(sFTGf9fYNhC, ref lockTaken);
								int num4 = 0;
								if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_886e202b3f2f4f6dbb66ec0188f50627 == 0)
								{
									num4 = 0;
								}
								while (true)
								{
									switch (num4)
									{
									default:
										if (SehPJNkHTx0IhmVcUq9Z(SFTGf9fYNhC) != 0)
										{
											break;
										}
										CHr4iQkHUPtauEspXr12(SFTGf9fYNhC, TimeSpan.FromSeconds(5.0));
										num4 = 1;
										if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_2ed2eb31b0094dc99a75fe815613d9e5 == 0)
										{
											num4 = 0;
										}
										continue;
									case 2:
										break;
									}
									if (SFTGf9fYNhC.Count <= 0)
									{
										break;
									}
									queue.Enqueue(SFTGf9fYNhC.Dequeue());
									num4 = 2;
								}
							}
							finally
							{
								if (lockTaken)
								{
									Monitor.Exit(sFTGf9fYNhC);
								}
							}
							if (SehPJNkHTx0IhmVcUq9Z(queue) != 0)
							{
								goto default;
							}
							break;
						}
						case 3:
						{
							(WaitCallback, object) tuple = queue.Dequeue();
							MYFZaikHy9Y9Mg8Nim3k(tuple.Item1, tuple.Item2);
							num3 = 0;
							if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_a53eb5b89f914ffb8d98874623172ab4 != 0)
							{
								num3 = 0;
							}
							continue;
						}
						default:
							if (queue.Count <= 0)
							{
								num3 = 0;
								if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_e616f9da38cd421ab3eda2a8682c4989 == 0)
								{
									num3 = 1;
								}
								continue;
							}
							goto case 3;
						case 1:
							break;
						}
						break;
					}
				}
				catch
				{
					break;
				}
			}
		}
		finally
		{
			vjf1ZekHZkEGgkqndRll();
		}
	}

	public void YQZGfHGQGs5(WaitCallback P_0, object P_1)
	{
		lock (SFTGf9fYNhC)
		{
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_72d4a9b4578145a7901cd7ce7ec9e17e == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			SFTGf9fYNhC.Enqueue((P_0, P_1));
			Monitor.Pulse(SFTGf9fYNhC);
		}
	}

	static Ur9thoGHzrQ9IHK1b0K9()
	{
		RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
		a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
	}

	internal static bool TDcU9EkHWu6k3u16XjIa()
	{
		return YybWcykHIRvYIe36O13m == null;
	}

	internal static Ur9thoGHzrQ9IHK1b0K9 oe70vNkHteNfgZ2L6wYw()
	{
		return YybWcykHIRvYIe36O13m;
	}

	internal static bool CHr4iQkHUPtauEspXr12(object P_0, TimeSpan P_1)
	{
		return Monitor.Wait(P_0, P_1);
	}

	internal static int SehPJNkHTx0IhmVcUq9Z(object P_0)
	{
		return ((Queue<(WaitCallback, object)>)P_0).Count;
	}

	internal static void MYFZaikHy9Y9Mg8Nim3k(object P_0, object P_1)
	{
		P_0(P_1);
	}

	internal static void vjf1ZekHZkEGgkqndRll()
	{
		Thread.EndThreadAffinity();
	}
}
