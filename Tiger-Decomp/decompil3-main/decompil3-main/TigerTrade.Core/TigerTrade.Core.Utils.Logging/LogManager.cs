using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Text;
using System.Threading;
using System.Windows.Threading;
using EDugZvNwF6e5LYsQZ3C5;
using MIvvHOGHJlMW3Jb19Bls;
using nff6NvN8pYC4xeKDOd05;
using OrDDjnN8w7riQsQI5MiI;
using TigerTrade.Core.Utils.Time;

namespace TigerTrade.Core.Utils.Logging;

public static class LogManager
{
	public sealed class SS7BELGn1uXhRxK1G2Q3 : r4nvsmGnxIyXrEyXoMtw
	{
		[CompilerGenerated]
		private readonly int XvVGnSretF3;

		private static SS7BELGn1uXhRxK1G2Q3 uqyjU3kGvs0XPBbVxPca;

		public int Type
		{
			[CompilerGenerated]
			get
			{
				return XvVGnSretF3;
			}
		}

		public SS7BELGn1uXhRxK1G2Q3(int P_0, string P_1)
		{
			PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
			base._002Ector(P_1);
			XvVGnSretF3 = P_0;
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_72d4a9b4578145a7901cd7ce7ec9e17e == 0)
			{
				num = 0;
			}
			switch (num)
			{
			case 0:
				break;
			}
		}

		static SS7BELGn1uXhRxK1G2Q3()
		{
			RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
			a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool GI1tAOkGBrM7oXGiUEN2()
		{
			return uqyjU3kGvs0XPBbVxPca == null;
		}

		internal static SS7BELGn1uXhRxK1G2Q3 NAl8kykGaWMSApK6BQGA()
		{
			return uqyjU3kGvs0XPBbVxPca;
		}
	}

	public class r4nvsmGnxIyXrEyXoMtw
	{
		[CompilerGenerated]
		private readonly DateTime WxnGnQtOop5;

		[CompilerGenerated]
		private readonly string exEGndYOrs0;

		[CompilerGenerated]
		private int cmMGngUEf8q;

		private static r4nvsmGnxIyXrEyXoMtw PbLsBGkGisc0S9WTEReO;

		public string Message
		{
			[CompilerGenerated]
			get
			{
				return exEGndYOrs0;
			}
		}

		[SpecialName]
		[CompilerGenerated]
		public DateTime UAXGne4JPR1()
		{
			return WxnGnQtOop5;
		}

		[SpecialName]
		[CompilerGenerated]
		public int iTfGncYRKX9()
		{
			return cmMGngUEf8q;
		}

		[SpecialName]
		[CompilerGenerated]
		public void MFNGnjNsREd(int P_0)
		{
			cmMGngUEf8q = P_0;
		}

		public r4nvsmGnxIyXrEyXoMtw(string P_0)
		{
			PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
			base._002Ector();
			int num = 1;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_886e202b3f2f4f6dbb66ec0188f50627 == 0)
			{
				num = 1;
			}
			while (true)
			{
				switch (num)
				{
				default:
					return;
				case 0:
					return;
				case 1:
					WxnGnQtOop5 = TimeHelper.LocalTime;
					exEGndYOrs0 = P_0;
					MFNGnjNsREd(0);
					num = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_385d406e010b4835915ac9bee1b2c5fb == 0)
					{
						num = 0;
					}
					break;
				}
			}
		}

		public string buwGnLeynNR()
		{
			return (string)cGUfVSkGbsJxGH4odOXK(RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(0x385FFAB ^ 0x385F6D3), UAXGne4JPR1(), Message, (iTfGncYRKX9() > 0) ? ((string)Ps0jHPkGDf44xceBeJUL(--500511424 ^ 0x1DD53B00) + (iTfGncYRKX9() + 1) + (string)Ps0jHPkGDf44xceBeJUL(-448941864 ^ -448939904)) : "");
		}

		static r4nvsmGnxIyXrEyXoMtw()
		{
			RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
			a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static bool wIwOeqkGlEqVx8TAOL9r()
		{
			return PbLsBGkGisc0S9WTEReO == null;
		}

		internal static r4nvsmGnxIyXrEyXoMtw QBP1ILkG4OawjMraEx39()
		{
			return PbLsBGkGisc0S9WTEReO;
		}

		internal static object Ps0jHPkGDf44xceBeJUL(int P_0)
		{
			return RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(P_0);
		}

		internal static object cGUfVSkGbsJxGH4odOXK(object P_0, object P_1, object P_2, object P_3)
		{
			return string.Format((string)P_0, P_1, P_2, P_3);
		}
	}

	[CompilerGenerated]
	private sealed class krkIuSGnR9K3IRHdJ9BD
	{
		public SS7BELGn1uXhRxK1G2Q3 qNZGnODVbwp;

		internal static krkIuSGnR9K3IRHdJ9BD fmI08TkGNeruJ0iZxw8u;

		public krkIuSGnR9K3IRHdJ9BD()
		{
			kiMgfMkG5WMd0OOnCcGF();
			base._002Ector();
		}

		internal void rQ2Gn6mJxVK()
		{
			object locker = _locker;
			bool lockTaken = false;
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_eed799ea4b424bd1aee4ace2a6f30472 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			try
			{
				Monitor.Enter(locker, ref lockTaken);
				File.AppendAllText(_fileErrorLog, (string)vowPeKkGS3deBR8Zrfgg(qNZGnODVbwp.buwGnLeynNR(), Environment.NewLine));
			}
			finally
			{
				if (lockTaken)
				{
					oHYfKxkGxC62IkVkQDk3(locker);
				}
			}
		}

		internal void i41GnM386C0()
		{
			object locker = _locker;
			bool lockTaken = false;
			try
			{
				Monitor.Enter(locker, ref lockTaken);
				LOPjoCkGeI9s25B8NZYr(_fileWorkLog, qNZGnODVbwp.buwGnLeynNR() + (string)K8EPHYkGL8U6q0CbX9ar());
			}
			finally
			{
				if (lockTaken)
				{
					oHYfKxkGxC62IkVkQDk3(locker);
					int num = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_81fc447c992e44ee9be76c16cfbfc27b == 0)
					{
						num = 0;
					}
					switch (num)
					{
					case 0:
						break;
					}
				}
			}
		}

		static krkIuSGnR9K3IRHdJ9BD()
		{
			RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
			a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static void kiMgfMkG5WMd0OOnCcGF()
		{
			PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
		}

		internal static bool elAEKSkGkHyGdJSNEquS()
		{
			return fmI08TkGNeruJ0iZxw8u == null;
		}

		internal static krkIuSGnR9K3IRHdJ9BD p9KbxykG1rfbVigX583T()
		{
			return fmI08TkGNeruJ0iZxw8u;
		}

		internal static object vowPeKkGS3deBR8Zrfgg(object P_0, object P_1)
		{
			return (string)P_0 + (string)P_1;
		}

		internal static void oHYfKxkGxC62IkVkQDk3(object P_0)
		{
			Monitor.Exit(P_0);
		}

		internal static object K8EPHYkGL8U6q0CbX9ar()
		{
			return Environment.NewLine;
		}

		internal static void LOPjoCkGeI9s25B8NZYr(object P_0, object P_1)
		{
			File.AppendAllText((string)P_0, (string)P_1);
		}
	}

	[CompilerGenerated]
	private sealed class VVubKDGnq5CUCl0pEs4i
	{
		public List<SS7BELGn1uXhRxK1G2Q3> RI6GnWZKybt;

		internal static VVubKDGnq5CUCl0pEs4i CRJdPhkGsiXQIHIaIsvm;

		public VVubKDGnq5CUCl0pEs4i()
		{
			p22vgQkGjE6RYccPtQGa();
			base._002Ector();
		}

		internal void FvWGnIydNFr()
		{
			foreach (SS7BELGn1uXhRxK1G2Q3 item in RI6GnWZKybt)
			{
				Ar76dIkGES8q3TJ9Os55(item);
				int num = 0;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_7b0a9496265447d99115ee096f7c31dc == 0)
				{
					num = 0;
				}
				switch (num)
				{
				}
			}
		}

		static VVubKDGnq5CUCl0pEs4i()
		{
			RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
			a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
		}

		internal static void p22vgQkGjE6RYccPtQGa()
		{
			PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
		}

		internal static bool Qa6ZaQkGXdu3JC41A32L()
		{
			return CRJdPhkGsiXQIHIaIsvm == null;
		}

		internal static VVubKDGnq5CUCl0pEs4i HqKqgTkGc8mLyHHAXxTh()
		{
			return CRJdPhkGsiXQIHIaIsvm;
		}

		internal static void Ar76dIkGES8q3TJ9Os55(object P_0)
		{
			WriteDataDirect((SS7BELGn1uXhRxK1G2Q3)P_0);
		}
	}

	private static readonly List<SS7BELGn1uXhRxK1G2Q3> DataRecords;

	private static string _fileErrorLog;

	private static string _fileWorkLog;

	private static readonly Queue<r4nvsmGnxIyXrEyXoMtw> Records;

	private static r4nvsmGnxIyXrEyXoMtw _lastRecord;

	private static readonly object _locker;

	internal static LogManager irQFsekflYPiI1X9vWjX;

	public static void Init(string path, string appName, string appVersion)
	{
		B9ijulkfbO3dG9Qeeksn(path);
		_fileErrorLog = Path.Combine(path, string.Format(RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(-1346994499 ^ -1346994863), IuSWhXkfNg9toB5tAePl()));
		_fileWorkLog = Path.Combine(path, string.Format(RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(-842040449 ^ -842039463), TimeHelper.LocalTime));
		WriteInfo(appName + (string)iTXf36kfkcMsjfpdYLtF(-5977659 ^ -5976677) + appVersion + (string)iTXf36kfkcMsjfpdYLtF(0x6D18F862 ^ 0x6D18FC06));
		int num = 0;
		if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_86a1fc4a6b4043dcb945211754e2ad90 == 0)
		{
			num = 0;
		}
		switch (num)
		{
		case 0:
			break;
		}
	}

	private static void DeleteOldFiles(string path)
	{
		try
		{
			string[] array = (string[])LUjWhNkf1KMvJ22cP4ct(path);
			int num = 0;
			string text = default(string);
			while (true)
			{
				int num2;
				if (num >= array.Length)
				{
					num2 = 2;
				}
				else
				{
					text = array[num];
					num2 = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_52c6a6e4ab8247c1a9fa3a8313af5589 == 0)
					{
						num2 = 1;
					}
				}
				while (true)
				{
					switch (num2)
					{
					case 1:
						try
						{
							string text2 = (string)ncYhEEkf5do0DI2e7Mu5(text);
							if (!string.IsNullOrEmpty(text2))
							{
								while (true)
								{
									IL_0172:
									DateTime dateTime = DateTime.MinValue;
									int num3 = 1;
									if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_8116f8dfad554bcf94c385444253e0d4 == 0)
									{
										num3 = 1;
									}
									while (true)
									{
										switch (num3)
										{
										case 5:
											dateTime = vDCWCIkfL9c2CapJMBGE(HSHv55kfe3g2t81igBkn(text2, RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(-991861155 ^ -991862023), ""), iTXf36kfkcMsjfpdYLtF(0x5CD4F15 ^ 0x5CD4B99), rPbQoYkfxLu8Fi3Jomv6());
											goto default;
										case 3:
											try
											{
												File.Delete(text);
											}
											catch (Exception)
											{
												WriteFake();
											}
											goto end_IL_0099;
										case 2:
											break;
										case 1:
											if (!Dgt6nGkfS5cJcVh8ZbfQ(text2, RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(--500511424 ^ 0x1DD536B8)))
											{
												goto case 4;
											}
											dateTime = vDCWCIkfL9c2CapJMBGE(text2.Replace((string)iTXf36kfkcMsjfpdYLtF(0x50C1C840 ^ 0x50C1CC38), ""), RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(-624753169 ^ -624754333), rPbQoYkfxLu8Fi3Jomv6());
											goto default;
										case 4:
											if (!text2.StartsWith(RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(0x1D7BA1ED ^ 0x1D7BA549)))
											{
												num3 = 0;
												if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_fde1e2b988414f6aa0c032a729a39c63 == 0)
												{
													num3 = 0;
												}
												continue;
											}
											goto case 5;
										default:
											if (dateTime >= IuSWhXkfNg9toB5tAePl().AddDays(-10.0))
											{
												goto end_IL_0099;
											}
											goto case 3;
										}
										goto IL_0172;
										continue;
										end_IL_0099:
										break;
									}
									break;
								}
							}
						}
						catch (Exception)
						{
							WriteFake();
						}
						num++;
						num2 = 0;
						if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_0797e62afb0c4241b7a0c427b8e94e96 != 0)
						{
							num2 = 0;
						}
						continue;
					case 2:
						return;
					}
					break;
				}
			}
		}
		catch (Exception)
		{
			WriteFake();
		}
	}

	private static void WriteData(SS7BELGn1uXhRxK1G2Q3 record)
	{
		krkIuSGnR9K3IRHdJ9BD CS_0024_003C_003E8__locals4 = new krkIuSGnR9K3IRHdJ9BD();
		CS_0024_003C_003E8__locals4.qNZGnODVbwp = record;
		int num = CS_0024_003C_003E8__locals4.qNZGnODVbwp.Type;
		int num2 = 0;
		if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_622f04666a6a4040a2d59d72eaf1ecae == 0)
		{
			num2 = 0;
		}
		while (true)
		{
			switch (num2)
			{
			case 1:
				return;
			case 2:
				return;
			}
			switch (num)
			{
			default:
				return;
			case 1:
				NyrFVmGHPXyKPYKdru7t.PKoGHpUxekh.BeginInvoke((Action)delegate
				{
					object locker = _locker;
					bool lockTaken = false;
					int num3 = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_eed799ea4b424bd1aee4ace2a6f30472 == 0)
					{
						num3 = 0;
					}
					switch (num3)
					{
					default:
						try
						{
							Monitor.Enter(locker, ref lockTaken);
							File.AppendAllText(_fileErrorLog, (string)krkIuSGnR9K3IRHdJ9BD.vowPeKkGS3deBR8Zrfgg(CS_0024_003C_003E8__locals4.qNZGnODVbwp.buwGnLeynNR(), Environment.NewLine));
							break;
						}
						finally
						{
							if (lockTaken)
							{
								krkIuSGnR9K3IRHdJ9BD.oHYfKxkGxC62IkVkQDk3(locker);
							}
						}
					}
				});
				num2 = 1;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_880f4da0343d45e3978a623a976a6db9 == 0)
				{
					num2 = 2;
				}
				break;
			case 2:
				XAWba9kfspeN3MAdHj58(NyrFVmGHPXyKPYKdru7t.PKoGHpUxekh, (Action)delegate
				{
					object locker = _locker;
					bool lockTaken = false;
					try
					{
						Monitor.Enter(locker, ref lockTaken);
						krkIuSGnR9K3IRHdJ9BD.LOPjoCkGeI9s25B8NZYr(_fileWorkLog, CS_0024_003C_003E8__locals4.qNZGnODVbwp.buwGnLeynNR() + (string)krkIuSGnR9K3IRHdJ9BD.K8EPHYkGL8U6q0CbX9ar());
					}
					finally
					{
						if (lockTaken)
						{
							krkIuSGnR9K3IRHdJ9BD.oHYfKxkGxC62IkVkQDk3(locker);
							int num3 = 0;
							if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_81fc447c992e44ee9be76c16cfbfc27b == 0)
							{
								num3 = 0;
							}
							switch (num3)
							{
							case 0:
								break;
							}
						}
					}
				}, Array.Empty<object>());
				num2 = 1;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_5e0f883d27674d988f2b989cfc21c9dc == 0)
				{
					num2 = 0;
				}
				break;
			}
		}
	}

	public static void WriteError(string e)
	{
		try
		{
			lock (DataRecords)
			{
				DataRecords.Add(new SS7BELGn1uXhRxK1G2Q3(1, e));
			}
		}
		catch (Exception)
		{
			rAw2onkfXRVb7rxBaZyl();
		}
	}

	public static void WriteError(Exception e)
	{
		try
		{
			List<SS7BELGn1uXhRxK1G2Q3> dataRecords = DataRecords;
			bool lockTaken = false;
			try
			{
				Monitor.Enter(dataRecords, ref lockTaken);
				DataRecords.Add(new SS7BELGn1uXhRxK1G2Q3(1, e.ToString()));
			}
			finally
			{
				if (lockTaken)
				{
					EyRKXekfcMI84OUCtdC7(dataRecords);
				}
			}
		}
		catch (Exception)
		{
			WriteFake();
		}
	}

	public static void WriteError(string errorInfo, Exception e)
	{
		try
		{
			List<SS7BELGn1uXhRxK1G2Q3> dataRecords = DataRecords;
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_0942fa5f1f5b4611b19614be5d79cd10 == 0)
			{
				num = 0;
			}
			switch (num)
			{
			}
			bool lockTaken = false;
			try
			{
				Monitor.Enter(dataRecords, ref lockTaken);
				int num2 = 0;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_32677ad3cfd244ce9f2c7603d0c2367e == 0)
				{
					num2 = 0;
				}
				switch (num2)
				{
				}
				DataRecords.Add(new SS7BELGn1uXhRxK1G2Q3(1, errorInfo));
				DataRecords.Add(new SS7BELGn1uXhRxK1G2Q3(1, e.ToString()));
			}
			finally
			{
				if (lockTaken)
				{
					Monitor.Exit(dataRecords);
				}
			}
		}
		catch (Exception)
		{
			rAw2onkfXRVb7rxBaZyl();
		}
	}

	public static void WriteInfo(string i)
	{
		try
		{
			bool flag = false;
			object locker = _locker;
			bool lockTaken = false;
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_dcf268e092ac4c578bd712a783bfb281 == 0)
			{
				num = 0;
			}
			List<SS7BELGn1uXhRxK1G2Q3> dataRecords = default(List<SS7BELGn1uXhRxK1G2Q3>);
			while (true)
			{
				switch (num)
				{
				case 2:
					return;
				case 1:
					lockTaken = false;
					try
					{
						Monitor.Enter(dataRecords, ref lockTaken);
						DataRecords.Add(new SS7BELGn1uXhRxK1G2Q3(2, i));
						return;
					}
					finally
					{
						if (lockTaken)
						{
							Monitor.Exit(dataRecords);
						}
					}
				case 3:
					lockTaken = false;
					try
					{
						Monitor.Enter(dataRecords, ref lockTaken);
						SS7BELGn1uXhRxK1G2Q3 sS7BELGn1uXhRxK1G2Q = DataRecords.LastOrDefault();
						if (sS7BELGn1uXhRxK1G2Q != null)
						{
							QacebskfQXmqL8xofeRV(sS7BELGn1uXhRxK1G2Q, _lastRecord.iTfGncYRKX9());
							int num2 = 0;
							if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_861862768381478cb56995de6dec7f90 == 0)
							{
								num2 = 0;
							}
							switch (num2)
							{
							case 0:
								break;
							}
						}
						return;
					}
					finally
					{
						if (lockTaken)
						{
							EyRKXekfcMI84OUCtdC7(dataRecords);
						}
					}
				}
				try
				{
					Monitor.Enter(locker, ref lockTaken);
					r4nvsmGnxIyXrEyXoMtw r4nvsmGnxIyXrEyXoMtw = new r4nvsmGnxIyXrEyXoMtw(i);
					int num3;
					if (_lastRecord != null)
					{
						num3 = 1;
						if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_ab31c8f21877491e810e3daff7636f6b == 0)
						{
							num3 = 0;
						}
						goto IL_00c6;
					}
					goto IL_0108;
					IL_00c6:
					while (true)
					{
						switch (num3)
						{
						default:
							if (Records.Count <= 5000)
							{
								num3 = 4;
								continue;
							}
							Records.Dequeue();
							num3 = 3;
							continue;
						case 1:
							if (!xY27c2kfEW4spMhWn2HP(r4nvsmGnxIyXrEyXoMtw.Message, WhJGZVkfjGdHKbQ8j3ut(_lastRecord)))
							{
								break;
							}
							goto case 2;
						case 2:
						{
							r4nvsmGnxIyXrEyXoMtw lastRecord = _lastRecord;
							int num4 = lastRecord.iTfGncYRKX9();
							lastRecord.MFNGnjNsREd(num4 + 1);
							goto default;
						}
						case 4:
							goto end_IL_00c6;
						}
						goto IL_0108;
						continue;
						end_IL_00c6:
						break;
					}
					goto end_IL_00b4;
					IL_0108:
					_lastRecord = r4nvsmGnxIyXrEyXoMtw;
					Records.Enqueue(r4nvsmGnxIyXrEyXoMtw);
					flag = true;
					num3 = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_2e8f9d59c4ed4588bb0181fd18668558 != 0)
					{
						num3 = 0;
					}
					goto IL_00c6;
					end_IL_00b4:;
				}
				finally
				{
					if (lockTaken)
					{
						Monitor.Exit(locker);
					}
				}
				if (!flag)
				{
					dataRecords = DataRecords;
					int num5 = 3;
					num = num5;
					continue;
				}
				dataRecords = DataRecords;
				num = 1;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_7c432fb6ac314e0dac07b628339ad04f == 0)
				{
					num = 1;
				}
			}
		}
		catch (Exception)
		{
			WriteFake();
		}
	}

	public static void WriteFake()
	{
	}

	public static string GetErrorLog()
	{
		try
		{
			StringBuilder stringBuilder = new StringBuilder();
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_b64dfac6d37145c6bb2c7f3f47bc17a2 == 0)
			{
				num = 0;
			}
			bool lockTaken = default(bool);
			List<SS7BELGn1uXhRxK1G2Q3> dataRecords = default(List<SS7BELGn1uXhRxK1G2Q3>);
			while (true)
			{
				switch (num)
				{
				case 1:
					lockTaken = false;
					num = 2;
					continue;
				case 2:
					try
					{
						Monitor.Enter(dataRecords, ref lockTaken);
						int num2 = 0;
						if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_c1826a7b234b4fb7ac6c003b05bcaef8 != 0)
						{
							num2 = 0;
						}
						switch (num2)
						{
						default:
							foreach (SS7BELGn1uXhRxK1G2Q3 dataRecord in DataRecords)
							{
								int num3 = 0;
								if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_5934edd4aa44472ab56379415e38746d == 0)
								{
									num3 = 0;
								}
								while (true)
								{
									switch (num3)
									{
									default:
										if (wbOSkekfgWaSwIU0Ebwo(dataRecord) == 1)
										{
											qK0TnhkfRasEsl5nqfGG(stringBuilder, dataRecord.buwGnLeynNR());
											num3 = 0;
											if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_b5e007622cda4d70b9f80ec80a9c2d04 == 0)
											{
												num3 = 1;
											}
											continue;
										}
										break;
									case 1:
										break;
									}
									break;
								}
							}
							break;
						}
					}
					finally
					{
						if (lockTaken)
						{
							Monitor.Exit(dataRecords);
							int num4 = 0;
							if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_3251a113e608497585c7df3489d778ef != 0)
							{
								num4 = 0;
							}
							switch (num4)
							{
							case 0:
								break;
							}
						}
					}
					return stringBuilder.ToString();
				}
				object locker = _locker;
				lockTaken = false;
				try
				{
					Monitor.Enter(locker, ref lockTaken);
					if (!File.Exists(_fileErrorLog))
					{
						int num5 = 0;
						if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_b159ab01de0b4b94827a5e353948c971 != 0)
						{
							num5 = 0;
						}
						switch (num5)
						{
						case 0:
							break;
						}
					}
					else
					{
						stringBuilder.AppendLine((string)qLgqKWkfdRSNyTjK98ZY(_fileErrorLog));
					}
				}
				finally
				{
					if (lockTaken)
					{
						EyRKXekfcMI84OUCtdC7(locker);
						int num6 = 0;
						if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_72d4a9b4578145a7901cd7ce7ec9e17e == 0)
						{
							num6 = 0;
						}
						switch (num6)
						{
						case 0:
							break;
						}
					}
				}
				dataRecords = DataRecords;
				num = 1;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_1850f0889a8f4ce5ac103fb3efa36e78 == 0)
				{
					num = 1;
				}
			}
		}
		catch (Exception)
		{
			return "";
		}
	}

	public static string GetWorkLog()
	{
		lock (_locker)
		{
			int num = 1;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_5763f854f825425293963c10576f2509 != 0)
			{
				num = 1;
			}
			StringBuilder stringBuilder = default(StringBuilder);
			switch (num)
			{
			case 1:
			{
				stringBuilder = new StringBuilder();
				using (Queue<r4nvsmGnxIyXrEyXoMtw>.Enumerator enumerator = Records.GetEnumerator())
				{
					while (enumerator.MoveNext())
					{
						r4nvsmGnxIyXrEyXoMtw current = enumerator.Current;
						stringBuilder.AppendLine((string)Q9R6Eokf6WoVTPWrN3AD(current));
					}
					int num2 = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_ddd61f309d844557b98cb748068df4e1 == 0)
					{
						num2 = 0;
					}
					switch (num2)
					{
					case 0:
						break;
					}
				}
				break;
			}
			}
			return stringBuilder.ToString();
		}
	}

	public static void WriteLogs()
	{
		try
		{
			VVubKDGnq5CUCl0pEs4i CS_0024_003C_003E8__locals3 = new VVubKDGnq5CUCl0pEs4i();
			List<SS7BELGn1uXhRxK1G2Q3> dataRecords = DataRecords;
			bool lockTaken = false;
			int num = 0;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_ef1b0ffd47564f2e9e35fb75b683391d != 0)
			{
				num = 0;
			}
			while (true)
			{
				switch (num)
				{
				case 1:
					return;
				}
				try
				{
					Monitor.Enter(dataRecords, ref lockTaken);
					int num2 = 0;
					if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_7853a959e5234bcd81440f35d26d5f10 == 0)
					{
						num2 = 0;
					}
					switch (num2)
					{
					default:
						CS_0024_003C_003E8__locals3.RI6GnWZKybt = new List<SS7BELGn1uXhRxK1G2Q3>(DataRecords);
						DataRecords.Clear();
						break;
					}
				}
				finally
				{
					if (lockTaken)
					{
						Monitor.Exit(dataRecords);
					}
				}
				if (CS_0024_003C_003E8__locals3.RI6GnWZKybt.Count <= 0)
				{
					return;
				}
				NyrFVmGHPXyKPYKdru7t.PKoGHpUxekh.BeginInvoke((Action)delegate
				{
					foreach (SS7BELGn1uXhRxK1G2Q3 item in CS_0024_003C_003E8__locals3.RI6GnWZKybt)
					{
						VVubKDGnq5CUCl0pEs4i.Ar76dIkGES8q3TJ9Os55(item);
						int num3 = 0;
						if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_7b0a9496265447d99115ee096f7c31dc == 0)
						{
							num3 = 0;
						}
						switch (num3)
						{
						}
					}
				});
				num = 0;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_caa8a213c8b9430d9f7c3714c3c1b2a3 != 0)
				{
					num = 1;
				}
			}
		}
		catch
		{
		}
	}

	private static void WriteDataDirect(SS7BELGn1uXhRxK1G2Q3 record)
	{
		try
		{
			int num = record.Type;
			int num2 = 1;
			if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_ea254caae95d42b3aa53bb0cc92a4816 == 0)
			{
				num2 = 0;
			}
			object locker = default(object);
			bool lockTaken = default(bool);
			while (true)
			{
				switch (num2)
				{
				default:
					locker = _locker;
					lockTaken = false;
					num2 = 3;
					break;
				case 3:
					try
					{
						Monitor.Enter(locker, ref lockTaken);
						qP2MoQkfOIJWvrsXTgis(_fileWorkLog, record.buwGnLeynNR() + Environment.NewLine);
						return;
					}
					finally
					{
						if (lockTaken)
						{
							EyRKXekfcMI84OUCtdC7(locker);
						}
					}
				case 2:
					lockTaken = false;
					try
					{
						Monitor.Enter(locker, ref lockTaken);
						File.AppendAllText(_fileErrorLog, (string)YHO33dkfMsbFbrYS2COv(Q9R6Eokf6WoVTPWrN3AD(record), Environment.NewLine));
						return;
					}
					finally
					{
						if (lockTaken)
						{
							Monitor.Exit(locker);
						}
					}
				case 1:
					{
						switch (num)
						{
						case 2:
							break;
						default:
							return;
						case 1:
							locker = _locker;
							num2 = 2;
							if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_c23a9ca3e6f44e9887c221a497ea98b9 == 0)
							{
								num2 = 0;
							}
							goto end_IL_0027;
						}
						goto default;
					}
					end_IL_0027:
					break;
				}
			}
		}
		catch
		{
		}
	}

	static LogManager()
	{
		RUVZnUNwJg2VA9xTOL2q.hFyN7BZEP4e();
		a3PXAGN83gwBrevdAXnH.kLjw4iIsCLsZtxc4lksN0j();
		PtePeuN8hTquEuspcXYX.w8xk43ZFh0t();
		DataRecords = new List<SS7BELGn1uXhRxK1G2Q3>();
		int num = 0;
		if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_0ef8be99fae94c90b579a4d7752c6260 == 0)
		{
			num = 1;
		}
		while (true)
		{
			switch (num)
			{
			case 1:
				Records = new Queue<r4nvsmGnxIyXrEyXoMtw>();
				num = 0;
				if (_003CModule_003E_007B968a7cfd_002D7850_002D4b40_002Dba2d_002D39fdc6ac4090_007D.m_8b1c6f1e798e49d9afbdae3a0f6bb856 != 0)
				{
					num = 0;
				}
				break;
			default:
				_locker = new object();
				return;
			}
		}
	}

	internal static void B9ijulkfbO3dG9Qeeksn(object P_0)
	{
		DeleteOldFiles((string)P_0);
	}

	internal static DateTime IuSWhXkfNg9toB5tAePl()
	{
		return TimeHelper.LocalTime;
	}

	internal static object iTXf36kfkcMsjfpdYLtF(int P_0)
	{
		return RUVZnUNwJg2VA9xTOL2q.PIwN7NHVqJi(P_0);
	}

	internal static bool uaIAtHkf4uTrkmArCMCL()
	{
		return irQFsekflYPiI1X9vWjX == null;
	}

	internal static LogManager BWuvFskfDR8ixnlbscm4()
	{
		return irQFsekflYPiI1X9vWjX;
	}

	internal static object LUjWhNkf1KMvJ22cP4ct(object P_0)
	{
		return Directory.GetFiles((string)P_0);
	}

	internal static object ncYhEEkf5do0DI2e7Mu5(object P_0)
	{
		return Path.GetFileNameWithoutExtension((string)P_0);
	}

	internal static bool Dgt6nGkfS5cJcVh8ZbfQ(object P_0, object P_1)
	{
		return ((string)P_0).StartsWith((string)P_1);
	}

	internal static object rPbQoYkfxLu8Fi3Jomv6()
	{
		return CultureInfo.InvariantCulture;
	}

	internal static DateTime vDCWCIkfL9c2CapJMBGE(object P_0, object P_1, object P_2)
	{
		return DateTime.ParseExact((string)P_0, (string)P_1, (IFormatProvider)P_2);
	}

	internal static object HSHv55kfe3g2t81igBkn(object P_0, object P_1, object P_2)
	{
		return ((string)P_0).Replace((string)P_1, (string)P_2);
	}

	internal static object XAWba9kfspeN3MAdHj58(object P_0, object P_1, object P_2)
	{
		return ((Dispatcher)P_0).BeginInvoke((Delegate)P_1, (object[])P_2);
	}

	internal static void rAw2onkfXRVb7rxBaZyl()
	{
		WriteFake();
	}

	internal static void EyRKXekfcMI84OUCtdC7(object P_0)
	{
		Monitor.Exit(P_0);
	}

	internal static object WhJGZVkfjGdHKbQ8j3ut(object P_0)
	{
		return ((r4nvsmGnxIyXrEyXoMtw)P_0).Message;
	}

	internal static bool xY27c2kfEW4spMhWn2HP(object P_0, object P_1)
	{
		return (string)P_0 == (string)P_1;
	}

	internal static void QacebskfQXmqL8xofeRV(object P_0, int P_1)
	{
		((r4nvsmGnxIyXrEyXoMtw)P_0).MFNGnjNsREd(P_1);
	}

	internal static object qLgqKWkfdRSNyTjK98ZY(object P_0)
	{
		return File.ReadAllText((string)P_0);
	}

	internal static int wbOSkekfgWaSwIU0Ebwo(object P_0)
	{
		return ((SS7BELGn1uXhRxK1G2Q3)P_0).Type;
	}

	internal static object qK0TnhkfRasEsl5nqfGG(object P_0, object P_1)
	{
		return ((StringBuilder)P_0).AppendLine((string)P_1);
	}

	internal static object Q9R6Eokf6WoVTPWrN3AD(object P_0)
	{
		return ((r4nvsmGnxIyXrEyXoMtw)P_0).buwGnLeynNR();
	}

	internal static object YHO33dkfMsbFbrYS2COv(object P_0, object P_1)
	{
		return (string)P_0 + (string)P_1;
	}

	internal static void qP2MoQkfOIJWvrsXTgis(object P_0, object P_1)
	{
		File.AppendAllText((string)P_0, (string)P_1);
	}
}
